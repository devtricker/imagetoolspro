function g8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bE={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf=Symbol.for("react.element"),y8=Symbol.for("react.portal"),v8=Symbol.for("react.fragment"),w8=Symbol.for("react.strict_mode"),b8=Symbol.for("react.profiler"),x8=Symbol.for("react.provider"),_8=Symbol.for("react.context"),E8=Symbol.for("react.forward_ref"),S8=Symbol.for("react.suspense"),k8=Symbol.for("react.memo"),R8=Symbol.for("react.lazy"),Kb=Symbol.iterator;function N8(t){return t===null||typeof t!="object"?null:(t=Kb&&t[Kb]||t["@@iterator"],typeof t=="function"?t:null)}var xE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_E=Object.assign,EE={};function Du(t,e,n){this.props=t,this.context=e,this.refs=EE,this.updater=n||xE}Du.prototype.isReactComponent={};Du.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Du.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SE(){}SE.prototype=Du.prototype;function Hv(t,e,n){this.props=t,this.context=e,this.refs=EE,this.updater=n||xE}var qv=Hv.prototype=new SE;qv.constructor=Hv;_E(qv,Du.prototype);qv.isPureReactComponent=!0;var Yb=Array.isArray,kE=Object.prototype.hasOwnProperty,$v={current:null},RE={key:!0,ref:!0,__self:!0,__source:!0};function NE(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)kE.call(e,r)&&!RE.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:nf,type:t,key:s,ref:a,props:i,_owner:$v.current}}function C8(t,e){return{$$typeof:nf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gv(t){return typeof t=="object"&&t!==null&&t.$$typeof===nf}function A8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xb=/\/+/g;function C1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?A8(""+t.key):e.toString(36)}function Kp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case nf:case y8:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+C1(a,0):r,Yb(i)?(n="",t!=null&&(n=t.replace(Xb,"$&/")+"/"),Kp(i,e,n,"",function(c){return c})):i!=null&&(Gv(i)&&(i=C8(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Xb,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Yb(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+C1(s,o);a+=Kp(s,e,n,l,i)}else if(l=N8(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+C1(s,o++),a+=Kp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function gp(t,e,n){if(t==null)return t;var r=[],i=0;return Kp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function I8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ar={current:null},Yp={transition:null},P8={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:Yp,ReactCurrentOwner:$v};function CE(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:gp,forEach:function(t,e,n){gp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gp(t,function(){e++}),e},toArray:function(t){return gp(t,function(e){return e})||[]},only:function(t){if(!Gv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};bt.Component=Du;bt.Fragment=v8;bt.Profiler=b8;bt.PureComponent=Hv;bt.StrictMode=w8;bt.Suspense=S8;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P8;bt.act=CE;bt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_E({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=$v.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)kE.call(e,l)&&!RE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:nf,type:t.type,key:i,ref:s,props:r,_owner:a}};bt.createContext=function(t){return t={$$typeof:_8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:x8,_context:t},t.Consumer=t};bt.createElement=NE;bt.createFactory=function(t){var e=NE.bind(null,t);return e.type=t,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(t){return{$$typeof:E8,render:t}};bt.isValidElement=Gv;bt.lazy=function(t){return{$$typeof:R8,_payload:{_status:-1,_result:t},_init:I8}};bt.memo=function(t,e){return{$$typeof:k8,type:t,compare:e===void 0?null:e}};bt.startTransition=function(t){var e=Yp.transition;Yp.transition={};try{t()}finally{Yp.transition=e}};bt.unstable_act=CE;bt.useCallback=function(t,e){return Ar.current.useCallback(t,e)};bt.useContext=function(t){return Ar.current.useContext(t)};bt.useDebugValue=function(){};bt.useDeferredValue=function(t){return Ar.current.useDeferredValue(t)};bt.useEffect=function(t,e){return Ar.current.useEffect(t,e)};bt.useId=function(){return Ar.current.useId()};bt.useImperativeHandle=function(t,e,n){return Ar.current.useImperativeHandle(t,e,n)};bt.useInsertionEffect=function(t,e){return Ar.current.useInsertionEffect(t,e)};bt.useLayoutEffect=function(t,e){return Ar.current.useLayoutEffect(t,e)};bt.useMemo=function(t,e){return Ar.current.useMemo(t,e)};bt.useReducer=function(t,e,n){return Ar.current.useReducer(t,e,n)};bt.useRef=function(t){return Ar.current.useRef(t)};bt.useState=function(t){return Ar.current.useState(t)};bt.useSyncExternalStore=function(t,e,n){return Ar.current.useSyncExternalStore(t,e,n)};bt.useTransition=function(){return Ar.current.useTransition()};bt.version="18.3.1";bE.exports=bt;var se=bE.exports;const Jc=wE(se),T8=g8({__proto__:null,default:Jc},[se]);var q2={},AE={exports:{}},ai={},IE={exports:{}},PE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,W){var te=$.length;$.push(W);e:for(;0<te;){var ne=te-1>>>1,C=$[ne];if(0<i(C,W))$[ne]=W,$[te]=C,te=ne;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var W=$[0],te=$.pop();if(te!==W){$[0]=te;e:for(var ne=0,C=$.length,K=C>>>1;ne<K;){var q=2*(ne+1)-1,H=$[q],oe=q+1,pe=$[oe];if(0>i(H,te))oe<C&&0>i(pe,H)?($[ne]=pe,$[oe]=te,ne=oe):($[ne]=H,$[q]=te,ne=q);else if(oe<C&&0>i(pe,te))$[ne]=pe,$[oe]=te,ne=oe;else break e}}return W}function i($,W){var te=$.sortIndex-W.sortIndex;return te!==0?te:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,f=3,h=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=$)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function N($){if(y=!1,x($),!g)if(n(l)!==null)g=!0,U(O);else{var W=n(c);W!==null&&P(N,W.startTime-$)}}function O($,W){g=!1,y&&(y=!1,m(R),R=-1),h=!0;var te=f;try{for(x(W),d=n(l);d!==null&&(!(d.expirationTime>W)||$&&!L());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,f=d.priorityLevel;var C=ne(d.expirationTime<=W);W=t.unstable_now(),typeof C=="function"?d.callback=C:d===n(l)&&r(l),x(W)}else r(l);d=n(l)}if(d!==null)var K=!0;else{var q=n(c);q!==null&&P(N,q.startTime-W),K=!1}return K}finally{d=null,f=te,h=!1}}var D=!1,M=null,R=-1,A=5,B=-1;function L(){return!(t.unstable_now()-B<A)}function k(){if(M!==null){var $=t.unstable_now();B=$;var W=!0;try{W=M(!0,$)}finally{W?I():(D=!1,M=null)}}else D=!1}var I;if(typeof w=="function")I=function(){w(k)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,V=_.port2;_.port1.onmessage=k,I=function(){V.postMessage(null)}}else I=function(){b(k,0)};function U($){M=$,D||(D=!0,I())}function P($,W){R=b(function(){$(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,U(O))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var te=f;f=W;try{return $()}finally{f=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var te=f;f=$;try{return W()}finally{f=te}},t.unstable_scheduleCallback=function($,W,te){var ne=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ne+te:ne):te=ne,$){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=te+C,$={id:u++,callback:W,priorityLevel:$,startTime:te,expirationTime:C,sortIndex:-1},te>ne?($.sortIndex=te,e(c,$),n(l)===null&&$===n(c)&&(y?(m(R),R=-1):y=!0,P(N,te-ne))):($.sortIndex=C,e(l,$),g||h||(g=!0,U(O))),$},t.unstable_shouldYield=L,t.unstable_wrapCallback=function($){var W=f;return function(){var te=f;f=W;try{return $.apply(this,arguments)}finally{f=te}}}})(PE);IE.exports=PE;var L8=IE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O8=se,ii=L8;function Be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TE=new Set,xh={};function Vl(t,e){gu(t,e),gu(t+"Capture",e)}function gu(t,e){for(xh[t]=e,t=0;t<e.length;t++)TE.add(e[t])}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$2=Object.prototype.hasOwnProperty,D8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qb={},Jb={};function F8(t){return $2.call(Jb,t)?!0:$2.call(Qb,t)?!1:D8.test(t)?Jb[t]=!0:(Qb[t]=!0,!1)}function M8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function U8(t,e,n,r){if(e===null||typeof e>"u"||M8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ir(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nr[t]=new Ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nr[e]=new Ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nr[t]=new Ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nr[t]=new Ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nr[t]=new Ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nr[t]=new Ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nr[t]=new Ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nr[t]=new Ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nr[t]=new Ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kv=/[\-:]([a-z])/g;function Yv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kv,Yv);nr[e]=new Ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kv,Yv);nr[e]=new Ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kv,Yv);nr[e]=new Ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nr[t]=new Ir(t,1,!1,t.toLowerCase(),null,!1,!1)});nr.xlinkHref=new Ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nr[t]=new Ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xv(t,e,n,r){var i=nr.hasOwnProperty(e)?nr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(U8(e,n,i,r)&&(n=null),r||i===null?F8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ma=O8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yp=Symbol.for("react.element"),Lc=Symbol.for("react.portal"),Oc=Symbol.for("react.fragment"),Qv=Symbol.for("react.strict_mode"),G2=Symbol.for("react.profiler"),LE=Symbol.for("react.provider"),OE=Symbol.for("react.context"),Jv=Symbol.for("react.forward_ref"),K2=Symbol.for("react.suspense"),Y2=Symbol.for("react.suspense_list"),Zv=Symbol.for("react.memo"),Ba=Symbol.for("react.lazy"),DE=Symbol.for("react.offscreen"),Zb=Symbol.iterator;function Nd(t){return t===null||typeof t!="object"?null:(t=Zb&&t[Zb]||t["@@iterator"],typeof t=="function"?t:null)}var sn=Object.assign,A1;function $d(t){if(A1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);A1=e&&e[1]||""}return`
`+A1+t}var I1=!1;function P1(t,e){if(!t||I1)return"";I1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{I1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$d(t):""}function B8(t){switch(t.tag){case 5:return $d(t.type);case 16:return $d("Lazy");case 13:return $d("Suspense");case 19:return $d("SuspenseList");case 0:case 2:case 15:return t=P1(t.type,!1),t;case 11:return t=P1(t.type.render,!1),t;case 1:return t=P1(t.type,!0),t;default:return""}}function X2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oc:return"Fragment";case Lc:return"Portal";case G2:return"Profiler";case Qv:return"StrictMode";case K2:return"Suspense";case Y2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OE:return(t.displayName||"Context")+".Consumer";case LE:return(t._context.displayName||"Context")+".Provider";case Jv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zv:return e=t.displayName||null,e!==null?e:X2(t.type)||"Memo";case Ba:e=t._payload,t=t._init;try{return X2(t(e))}catch{}}return null}function z8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X2(e);case 8:return e===Qv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function j8(t){var e=FE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vp(t){t._valueTracker||(t._valueTracker=j8(t))}function ME(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _m(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Q2(t,e){var n=e.checked;return sn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ex(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UE(t,e){e=e.checked,e!=null&&Xv(t,"checked",e,!1)}function J2(t,e){UE(t,e);var n=xo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Z2(t,e.type,n):e.hasOwnProperty("defaultValue")&&Z2(t,e.type,xo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Z2(t,e,n){(e!=="number"||_m(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gd=Array.isArray;function Zc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ey(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Be(91));return sn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Be(92));if(Gd(n)){if(1<n.length)throw Error(Be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xo(n)}}function BE(t,e){var n=xo(e.value),r=xo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ty(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wp,jE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wp=wp||document.createElement("div"),wp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _h(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V8=["Webkit","ms","Moz","O"];Object.keys(Zd).forEach(function(t){V8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zd[e]=Zd[t]})});function VE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zd.hasOwnProperty(t)&&Zd[t]?(""+e).trim():e+"px"}function WE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=VE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var W8=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ny(t,e){if(e){if(W8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Be(62))}}function ry(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iy=null;function e5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sy=null,eu=null,tu=null;function ix(t){if(t=af(t)){if(typeof sy!="function")throw Error(Be(280));var e=t.stateNode;e&&(e=Hg(e),sy(t.stateNode,t.type,e))}}function HE(t){eu?tu?tu.push(t):tu=[t]:eu=t}function qE(){if(eu){var t=eu,e=tu;if(tu=eu=null,ix(t),e)for(t=0;t<e.length;t++)ix(e[t])}}function $E(t,e){return t(e)}function GE(){}var T1=!1;function KE(t,e,n){if(T1)return t(e,n);T1=!0;try{return $E(t,e,n)}finally{T1=!1,(eu!==null||tu!==null)&&(GE(),qE())}}function Eh(t,e){var n=t.stateNode;if(n===null)return null;var r=Hg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Be(231,e,typeof n));return n}var ay=!1;if(sa)try{var Cd={};Object.defineProperty(Cd,"passive",{get:function(){ay=!0}}),window.addEventListener("test",Cd,Cd),window.removeEventListener("test",Cd,Cd)}catch{ay=!1}function H8(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var eh=!1,Em=null,Sm=!1,oy=null,q8={onError:function(t){eh=!0,Em=t}};function $8(t,e,n,r,i,s,a,o,l){eh=!1,Em=null,H8.apply(q8,arguments)}function G8(t,e,n,r,i,s,a,o,l){if($8.apply(this,arguments),eh){if(eh){var c=Em;eh=!1,Em=null}else throw Error(Be(198));Sm||(Sm=!0,oy=c)}}function Wl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sx(t){if(Wl(t)!==t)throw Error(Be(188))}function K8(t){var e=t.alternate;if(!e){if(e=Wl(t),e===null)throw Error(Be(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return sx(i),t;if(s===r)return sx(i),e;s=s.sibling}throw Error(Be(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Be(189))}}if(n.alternate!==r)throw Error(Be(190))}if(n.tag!==3)throw Error(Be(188));return n.stateNode.current===n?t:e}function XE(t){return t=K8(t),t!==null?QE(t):null}function QE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QE(t);if(e!==null)return e;t=t.sibling}return null}var JE=ii.unstable_scheduleCallback,ax=ii.unstable_cancelCallback,Y8=ii.unstable_shouldYield,X8=ii.unstable_requestPaint,yn=ii.unstable_now,Q8=ii.unstable_getCurrentPriorityLevel,t5=ii.unstable_ImmediatePriority,ZE=ii.unstable_UserBlockingPriority,km=ii.unstable_NormalPriority,J8=ii.unstable_LowPriority,eS=ii.unstable_IdlePriority,zg=null,_s=null;function Z8(t){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(zg,t,void 0,(t.current.flags&128)===128)}catch{}}var Qi=Math.clz32?Math.clz32:nI,eI=Math.log,tI=Math.LN2;function nI(t){return t>>>=0,t===0?32:31-(eI(t)/tI|0)|0}var bp=64,xp=4194304;function Kd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Kd(o):(s&=a,s!==0&&(r=Kd(s)))}else a=n&~i,a!==0?r=Kd(a):s!==0&&(r=Kd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qi(e),i=1<<n,r|=t[n],e&=~i;return r}function rI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Qi(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=rI(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function ly(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tS(){var t=bp;return bp<<=1,!(bp&4194240)&&(bp=64),t}function L1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qi(e),t[e]=n}function sI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function n5(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Dt=0;function nS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rS,r5,iS,sS,aS,cy=!1,_p=[],io=null,so=null,ao=null,Sh=new Map,kh=new Map,Va=[],aI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ox(t,e){switch(t){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":Sh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kh.delete(e.pointerId)}}function Ad(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=af(e),e!==null&&r5(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function oI(t,e,n,r,i){switch(e){case"focusin":return io=Ad(io,t,e,n,r,i),!0;case"dragenter":return so=Ad(so,t,e,n,r,i),!0;case"mouseover":return ao=Ad(ao,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sh.set(s,Ad(Sh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,kh.set(s,Ad(kh.get(s)||null,t,e,n,r,i)),!0}return!1}function oS(t){var e=ul(t.target);if(e!==null){var n=Wl(e);if(n!==null){if(e=n.tag,e===13){if(e=YE(n),e!==null){t.blockedOn=e,aS(t.priority,function(){iS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=uy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);iy=r,n.target.dispatchEvent(r),iy=null}else return e=af(n),e!==null&&r5(e),t.blockedOn=n,!1;e.shift()}return!0}function lx(t,e,n){Xp(t)&&n.delete(e)}function lI(){cy=!1,io!==null&&Xp(io)&&(io=null),so!==null&&Xp(so)&&(so=null),ao!==null&&Xp(ao)&&(ao=null),Sh.forEach(lx),kh.forEach(lx)}function Id(t,e){t.blockedOn===e&&(t.blockedOn=null,cy||(cy=!0,ii.unstable_scheduleCallback(ii.unstable_NormalPriority,lI)))}function Rh(t){function e(i){return Id(i,t)}if(0<_p.length){Id(_p[0],t);for(var n=1;n<_p.length;n++){var r=_p[n];r.blockedOn===t&&(r.blockedOn=null)}}for(io!==null&&Id(io,t),so!==null&&Id(so,t),ao!==null&&Id(ao,t),Sh.forEach(e),kh.forEach(e),n=0;n<Va.length;n++)r=Va[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Va.length&&(n=Va[0],n.blockedOn===null);)oS(n),n.blockedOn===null&&Va.shift()}var nu=ma.ReactCurrentBatchConfig,Nm=!0;function cI(t,e,n,r){var i=Dt,s=nu.transition;nu.transition=null;try{Dt=1,i5(t,e,n,r)}finally{Dt=i,nu.transition=s}}function uI(t,e,n,r){var i=Dt,s=nu.transition;nu.transition=null;try{Dt=4,i5(t,e,n,r)}finally{Dt=i,nu.transition=s}}function i5(t,e,n,r){if(Nm){var i=uy(t,e,n,r);if(i===null)W1(t,e,r,Cm,n),ox(t,r);else if(oI(i,t,e,n,r))r.stopPropagation();else if(ox(t,r),e&4&&-1<aI.indexOf(t)){for(;i!==null;){var s=af(i);if(s!==null&&rS(s),s=uy(t,e,n,r),s===null&&W1(t,e,r,Cm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else W1(t,e,r,null,n)}}var Cm=null;function uy(t,e,n,r){if(Cm=null,t=e5(r),t=ul(t),t!==null)if(e=Wl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cm=t,null}function lS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q8()){case t5:return 1;case ZE:return 4;case km:case J8:return 16;case eS:return 536870912;default:return 16}default:return 16}}var Ya=null,s5=null,Qp=null;function cS(){if(Qp)return Qp;var t,e=s5,n=e.length,r,i="value"in Ya?Ya.value:Ya.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Qp=i.slice(t,1<r?1-r:void 0)}function Jp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ep(){return!0}function cx(){return!1}function oi(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ep:cx,this.isPropagationStopped=cx,this}return sn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ep)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ep)},persist:function(){},isPersistent:Ep}),e}var Fu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a5=oi(Fu),sf=sn({},Fu,{view:0,detail:0}),dI=oi(sf),O1,D1,Pd,jg=sn({},sf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pd&&(Pd&&t.type==="mousemove"?(O1=t.screenX-Pd.screenX,D1=t.screenY-Pd.screenY):D1=O1=0,Pd=t),O1)},movementY:function(t){return"movementY"in t?t.movementY:D1}}),ux=oi(jg),hI=sn({},jg,{dataTransfer:0}),fI=oi(hI),pI=sn({},sf,{relatedTarget:0}),F1=oi(pI),mI=sn({},Fu,{animationName:0,elapsedTime:0,pseudoElement:0}),gI=oi(mI),yI=sn({},Fu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vI=oi(yI),wI=sn({},Fu,{data:0}),dx=oi(wI),bI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_I={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_I[t])?!!e[t]:!1}function o5(){return EI}var SI=sn({},sf,{key:function(t){if(t.key){var e=bI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o5,charCode:function(t){return t.type==="keypress"?Jp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kI=oi(SI),RI=sn({},jg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hx=oi(RI),NI=sn({},sf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o5}),CI=oi(NI),AI=sn({},Fu,{propertyName:0,elapsedTime:0,pseudoElement:0}),II=oi(AI),PI=sn({},jg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TI=oi(PI),LI=[9,13,27,32],l5=sa&&"CompositionEvent"in window,th=null;sa&&"documentMode"in document&&(th=document.documentMode);var OI=sa&&"TextEvent"in window&&!th,uS=sa&&(!l5||th&&8<th&&11>=th),fx=" ",px=!1;function dS(t,e){switch(t){case"keyup":return LI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dc=!1;function DI(t,e){switch(t){case"compositionend":return hS(e);case"keypress":return e.which!==32?null:(px=!0,fx);case"textInput":return t=e.data,t===fx&&px?null:t;default:return null}}function FI(t,e){if(Dc)return t==="compositionend"||!l5&&dS(t,e)?(t=cS(),Qp=s5=Ya=null,Dc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uS&&e.locale!=="ko"?null:e.data;default:return null}}var MI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MI[t.type]:e==="textarea"}function fS(t,e,n,r){HE(r),e=Am(e,"onChange"),0<e.length&&(n=new a5("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nh=null,Nh=null;function UI(t){SS(t,0)}function Vg(t){var e=Uc(t);if(ME(e))return t}function BI(t,e){if(t==="change")return e}var pS=!1;if(sa){var M1;if(sa){var U1="oninput"in document;if(!U1){var gx=document.createElement("div");gx.setAttribute("oninput","return;"),U1=typeof gx.oninput=="function"}M1=U1}else M1=!1;pS=M1&&(!document.documentMode||9<document.documentMode)}function yx(){nh&&(nh.detachEvent("onpropertychange",mS),Nh=nh=null)}function mS(t){if(t.propertyName==="value"&&Vg(Nh)){var e=[];fS(e,Nh,t,e5(t)),KE(UI,e)}}function zI(t,e,n){t==="focusin"?(yx(),nh=e,Nh=n,nh.attachEvent("onpropertychange",mS)):t==="focusout"&&yx()}function jI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vg(Nh)}function VI(t,e){if(t==="click")return Vg(e)}function WI(t,e){if(t==="input"||t==="change")return Vg(e)}function HI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ts=typeof Object.is=="function"?Object.is:HI;function Ch(t,e){if(ts(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$2.call(e,i)||!ts(t[i],e[i]))return!1}return!0}function vx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wx(t,e){var n=vx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vx(n)}}function gS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yS(){for(var t=window,e=_m();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_m(t.document)}return e}function c5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qI(t){var e=yS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gS(n.ownerDocument.documentElement,n)){if(r!==null&&c5(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=wx(n,s);var a=wx(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $I=sa&&"documentMode"in document&&11>=document.documentMode,Fc=null,dy=null,rh=null,hy=!1;function bx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hy||Fc==null||Fc!==_m(r)||(r=Fc,"selectionStart"in r&&c5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rh&&Ch(rh,r)||(rh=r,r=Am(dy,"onSelect"),0<r.length&&(e=new a5("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fc)))}function Sp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mc={animationend:Sp("Animation","AnimationEnd"),animationiteration:Sp("Animation","AnimationIteration"),animationstart:Sp("Animation","AnimationStart"),transitionend:Sp("Transition","TransitionEnd")},B1={},vS={};sa&&(vS=document.createElement("div").style,"AnimationEvent"in window||(delete Mc.animationend.animation,delete Mc.animationiteration.animation,delete Mc.animationstart.animation),"TransitionEvent"in window||delete Mc.transitionend.transition);function Wg(t){if(B1[t])return B1[t];if(!Mc[t])return t;var e=Mc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vS)return B1[t]=e[n];return t}var wS=Wg("animationend"),bS=Wg("animationiteration"),xS=Wg("animationstart"),_S=Wg("transitionend"),ES=new Map,xx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(t,e){ES.set(t,e),Vl(e,[t])}for(var z1=0;z1<xx.length;z1++){var j1=xx[z1],GI=j1.toLowerCase(),KI=j1[0].toUpperCase()+j1.slice(1);Po(GI,"on"+KI)}Po(wS,"onAnimationEnd");Po(bS,"onAnimationIteration");Po(xS,"onAnimationStart");Po("dblclick","onDoubleClick");Po("focusin","onFocus");Po("focusout","onBlur");Po(_S,"onTransitionEnd");gu("onMouseEnter",["mouseout","mouseover"]);gu("onMouseLeave",["mouseout","mouseover"]);gu("onPointerEnter",["pointerout","pointerover"]);gu("onPointerLeave",["pointerout","pointerover"]);Vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yd));function _x(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,G8(r,e,void 0,t),t.currentTarget=null}function SS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;_x(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;_x(i,o,c),s=l}}}if(Sm)throw t=oy,Sm=!1,oy=null,t}function Yt(t,e){var n=e[yy];n===void 0&&(n=e[yy]=new Set);var r=t+"__bubble";n.has(r)||(kS(e,t,2,!1),n.add(r))}function V1(t,e,n){var r=0;e&&(r|=4),kS(n,t,r,e)}var kp="_reactListening"+Math.random().toString(36).slice(2);function Ah(t){if(!t[kp]){t[kp]=!0,TE.forEach(function(n){n!=="selectionchange"&&(YI.has(n)||V1(n,!1,t),V1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kp]||(e[kp]=!0,V1("selectionchange",!1,e))}}function kS(t,e,n,r){switch(lS(e)){case 1:var i=cI;break;case 4:i=uI;break;default:i=i5}n=i.bind(null,e,n,t),i=void 0,!ay||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function W1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ul(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}KE(function(){var c=s,u=e5(n),d=[];e:{var f=ES.get(t);if(f!==void 0){var h=a5,g=t;switch(t){case"keypress":if(Jp(n)===0)break e;case"keydown":case"keyup":h=kI;break;case"focusin":g="focus",h=F1;break;case"focusout":g="blur",h=F1;break;case"beforeblur":case"afterblur":h=F1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ux;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=fI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=CI;break;case wS:case bS:case xS:h=gI;break;case _S:h=II;break;case"scroll":h=dI;break;case"wheel":h=TI;break;case"copy":case"cut":case"paste":h=vI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=hx}var y=(e&4)!==0,b=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var w=c,x;w!==null;){x=w;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,m!==null&&(N=Eh(w,m),N!=null&&y.push(Ih(w,N,x)))),b)break;w=w.return}0<y.length&&(f=new h(f,g,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==iy&&(g=n.relatedTarget||n.fromElement)&&(ul(g)||g[aa]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=c,g=g?ul(g):null,g!==null&&(b=Wl(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(y=ux,N="onMouseLeave",m="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=hx,N="onPointerLeave",m="onPointerEnter",w="pointer"),b=h==null?f:Uc(h),x=g==null?f:Uc(g),f=new y(N,w+"leave",h,n,u),f.target=b,f.relatedTarget=x,N=null,ul(u)===c&&(y=new y(m,w+"enter",g,n,u),y.target=x,y.relatedTarget=b,N=y),b=N,h&&g)t:{for(y=h,m=g,w=0,x=y;x;x=Nc(x))w++;for(x=0,N=m;N;N=Nc(N))x++;for(;0<w-x;)y=Nc(y),w--;for(;0<x-w;)m=Nc(m),x--;for(;w--;){if(y===m||m!==null&&y===m.alternate)break t;y=Nc(y),m=Nc(m)}y=null}else y=null;h!==null&&Ex(d,f,h,y,!1),g!==null&&b!==null&&Ex(d,b,g,y,!0)}}e:{if(f=c?Uc(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var O=BI;else if(mx(f))if(pS)O=WI;else{O=jI;var D=zI}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=VI);if(O&&(O=O(t,c))){fS(d,O,n,u);break e}D&&D(t,f,c),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&Z2(f,"number",f.value)}switch(D=c?Uc(c):window,t){case"focusin":(mx(D)||D.contentEditable==="true")&&(Fc=D,dy=c,rh=null);break;case"focusout":rh=dy=Fc=null;break;case"mousedown":hy=!0;break;case"contextmenu":case"mouseup":case"dragend":hy=!1,bx(d,n,u);break;case"selectionchange":if($I)break;case"keydown":case"keyup":bx(d,n,u)}var M;if(l5)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Dc?dS(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(uS&&n.locale!=="ko"&&(Dc||R!=="onCompositionStart"?R==="onCompositionEnd"&&Dc&&(M=cS()):(Ya=u,s5="value"in Ya?Ya.value:Ya.textContent,Dc=!0)),D=Am(c,R),0<D.length&&(R=new dx(R,t,null,n,u),d.push({event:R,listeners:D}),M?R.data=M:(M=hS(n),M!==null&&(R.data=M)))),(M=OI?DI(t,n):FI(t,n))&&(c=Am(c,"onBeforeInput"),0<c.length&&(u=new dx("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=M))}SS(d,e)})}function Ih(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Am(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Eh(t,n),s!=null&&r.unshift(Ih(t,s,i)),s=Eh(t,e),s!=null&&r.push(Ih(t,s,i))),t=t.return}return r}function Nc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ex(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Eh(n,s),l!=null&&a.unshift(Ih(n,l,o))):i||(l=Eh(n,s),l!=null&&a.push(Ih(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var XI=/\r\n?/g,QI=/\u0000|\uFFFD/g;function Sx(t){return(typeof t=="string"?t:""+t).replace(XI,`
`).replace(QI,"")}function Rp(t,e,n){if(e=Sx(e),Sx(t)!==e&&n)throw Error(Be(425))}function Im(){}var fy=null,py=null;function my(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gy=typeof setTimeout=="function"?setTimeout:void 0,JI=typeof clearTimeout=="function"?clearTimeout:void 0,kx=typeof Promise=="function"?Promise:void 0,ZI=typeof queueMicrotask=="function"?queueMicrotask:typeof kx<"u"?function(t){return kx.resolve(null).then(t).catch(eP)}:gy;function eP(t){setTimeout(function(){throw t})}function H1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Rh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rh(e)}function oo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mu=Math.random().toString(36).slice(2),ws="__reactFiber$"+Mu,Ph="__reactProps$"+Mu,aa="__reactContainer$"+Mu,yy="__reactEvents$"+Mu,tP="__reactListeners$"+Mu,nP="__reactHandles$"+Mu;function ul(t){var e=t[ws];if(e)return e;for(var n=t.parentNode;n;){if(e=n[aa]||n[ws]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rx(t);t!==null;){if(n=t[ws])return n;t=Rx(t)}return e}t=n,n=t.parentNode}return null}function af(t){return t=t[ws]||t[aa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Be(33))}function Hg(t){return t[Ph]||null}var vy=[],Bc=-1;function To(t){return{current:t}}function Qt(t){0>Bc||(t.current=vy[Bc],vy[Bc]=null,Bc--)}function $t(t,e){Bc++,vy[Bc]=t.current,t.current=e}var _o={},yr=To(_o),Vr=To(!1),Rl=_o;function yu(t,e){var n=t.type.contextTypes;if(!n)return _o;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Wr(t){return t=t.childContextTypes,t!=null}function Pm(){Qt(Vr),Qt(yr)}function Nx(t,e,n){if(yr.current!==_o)throw Error(Be(168));$t(yr,e),$t(Vr,n)}function RS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Be(108,z8(t)||"Unknown",i));return sn({},n,r)}function Tm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_o,Rl=yr.current,$t(yr,t),$t(Vr,Vr.current),!0}function Cx(t,e,n){var r=t.stateNode;if(!r)throw Error(Be(169));n?(t=RS(t,e,Rl),r.__reactInternalMemoizedMergedChildContext=t,Qt(Vr),Qt(yr),$t(yr,t)):Qt(Vr),$t(Vr,n)}var $s=null,qg=!1,q1=!1;function NS(t){$s===null?$s=[t]:$s.push(t)}function rP(t){qg=!0,NS(t)}function Lo(){if(!q1&&$s!==null){q1=!0;var t=0,e=Dt;try{var n=$s;for(Dt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$s=null,qg=!1}catch(i){throw $s!==null&&($s=$s.slice(t+1)),JE(t5,Lo),i}finally{Dt=e,q1=!1}}return null}var zc=[],jc=0,Lm=null,Om=0,wi=[],bi=0,Nl=null,Ks=1,Ys="";function tl(t,e){zc[jc++]=Om,zc[jc++]=Lm,Lm=t,Om=e}function CS(t,e,n){wi[bi++]=Ks,wi[bi++]=Ys,wi[bi++]=Nl,Nl=t;var r=Ks;t=Ys;var i=32-Qi(r)-1;r&=~(1<<i),n+=1;var s=32-Qi(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ks=1<<32-Qi(e)+i|n<<i|r,Ys=s+t}else Ks=1<<s|n<<i|r,Ys=t}function u5(t){t.return!==null&&(tl(t,1),CS(t,1,0))}function d5(t){for(;t===Lm;)Lm=zc[--jc],zc[jc]=null,Om=zc[--jc],zc[jc]=null;for(;t===Nl;)Nl=wi[--bi],wi[bi]=null,Ys=wi[--bi],wi[bi]=null,Ks=wi[--bi],wi[bi]=null}var ni=null,ei=null,Zt=!1,$i=null;function AS(t,e){var n=xi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ax(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ni=t,ei=oo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ni=t,ei=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Nl!==null?{id:Ks,overflow:Ys}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ni=t,ei=null,!0):!1;default:return!1}}function wy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function by(t){if(Zt){var e=ei;if(e){var n=e;if(!Ax(t,e)){if(wy(t))throw Error(Be(418));e=oo(n.nextSibling);var r=ni;e&&Ax(t,e)?AS(r,n):(t.flags=t.flags&-4097|2,Zt=!1,ni=t)}}else{if(wy(t))throw Error(Be(418));t.flags=t.flags&-4097|2,Zt=!1,ni=t}}}function Ix(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ni=t}function Np(t){if(t!==ni)return!1;if(!Zt)return Ix(t),Zt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!my(t.type,t.memoizedProps)),e&&(e=ei)){if(wy(t))throw IS(),Error(Be(418));for(;e;)AS(t,e),e=oo(e.nextSibling)}if(Ix(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ei=oo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ei=null}}else ei=ni?oo(t.stateNode.nextSibling):null;return!0}function IS(){for(var t=ei;t;)t=oo(t.nextSibling)}function vu(){ei=ni=null,Zt=!1}function h5(t){$i===null?$i=[t]:$i.push(t)}var iP=ma.ReactCurrentBatchConfig;function Td(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Be(309));var r=n.stateNode}if(!r)throw Error(Be(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Be(284));if(!n._owner)throw Error(Be(290,t))}return t}function Cp(t,e){throw t=Object.prototype.toString.call(e),Error(Be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Px(t){var e=t._init;return e(t._payload)}function PS(t){function e(m,w){if(t){var x=m.deletions;x===null?(m.deletions=[w],m.flags|=16):x.push(w)}}function n(m,w){if(!t)return null;for(;w!==null;)e(m,w),w=w.sibling;return null}function r(m,w){for(m=new Map;w!==null;)w.key!==null?m.set(w.key,w):m.set(w.index,w),w=w.sibling;return m}function i(m,w){return m=ho(m,w),m.index=0,m.sibling=null,m}function s(m,w,x){return m.index=x,t?(x=m.alternate,x!==null?(x=x.index,x<w?(m.flags|=2,w):x):(m.flags|=2,w)):(m.flags|=1048576,w)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,w,x,N){return w===null||w.tag!==6?(w=J1(x,m.mode,N),w.return=m,w):(w=i(w,x),w.return=m,w)}function l(m,w,x,N){var O=x.type;return O===Oc?u(m,w,x.props.children,N,x.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ba&&Px(O)===w.type)?(N=i(w,x.props),N.ref=Td(m,w,x),N.return=m,N):(N=sm(x.type,x.key,x.props,null,m.mode,N),N.ref=Td(m,w,x),N.return=m,N)}function c(m,w,x,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Z1(x,m.mode,N),w.return=m,w):(w=i(w,x.children||[]),w.return=m,w)}function u(m,w,x,N,O){return w===null||w.tag!==7?(w=_l(x,m.mode,N,O),w.return=m,w):(w=i(w,x),w.return=m,w)}function d(m,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=J1(""+w,m.mode,x),w.return=m,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yp:return x=sm(w.type,w.key,w.props,null,m.mode,x),x.ref=Td(m,null,w),x.return=m,x;case Lc:return w=Z1(w,m.mode,x),w.return=m,w;case Ba:var N=w._init;return d(m,N(w._payload),x)}if(Gd(w)||Nd(w))return w=_l(w,m.mode,x,null),w.return=m,w;Cp(m,w)}return null}function f(m,w,x,N){var O=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:o(m,w,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yp:return x.key===O?l(m,w,x,N):null;case Lc:return x.key===O?c(m,w,x,N):null;case Ba:return O=x._init,f(m,w,O(x._payload),N)}if(Gd(x)||Nd(x))return O!==null?null:u(m,w,x,N,null);Cp(m,x)}return null}function h(m,w,x,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return m=m.get(x)||null,o(w,m,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case yp:return m=m.get(N.key===null?x:N.key)||null,l(w,m,N,O);case Lc:return m=m.get(N.key===null?x:N.key)||null,c(w,m,N,O);case Ba:var D=N._init;return h(m,w,x,D(N._payload),O)}if(Gd(N)||Nd(N))return m=m.get(x)||null,u(w,m,N,O,null);Cp(w,N)}return null}function g(m,w,x,N){for(var O=null,D=null,M=w,R=w=0,A=null;M!==null&&R<x.length;R++){M.index>R?(A=M,M=null):A=M.sibling;var B=f(m,M,x[R],N);if(B===null){M===null&&(M=A);break}t&&M&&B.alternate===null&&e(m,M),w=s(B,w,R),D===null?O=B:D.sibling=B,D=B,M=A}if(R===x.length)return n(m,M),Zt&&tl(m,R),O;if(M===null){for(;R<x.length;R++)M=d(m,x[R],N),M!==null&&(w=s(M,w,R),D===null?O=M:D.sibling=M,D=M);return Zt&&tl(m,R),O}for(M=r(m,M);R<x.length;R++)A=h(M,m,R,x[R],N),A!==null&&(t&&A.alternate!==null&&M.delete(A.key===null?R:A.key),w=s(A,w,R),D===null?O=A:D.sibling=A,D=A);return t&&M.forEach(function(L){return e(m,L)}),Zt&&tl(m,R),O}function y(m,w,x,N){var O=Nd(x);if(typeof O!="function")throw Error(Be(150));if(x=O.call(x),x==null)throw Error(Be(151));for(var D=O=null,M=w,R=w=0,A=null,B=x.next();M!==null&&!B.done;R++,B=x.next()){M.index>R?(A=M,M=null):A=M.sibling;var L=f(m,M,B.value,N);if(L===null){M===null&&(M=A);break}t&&M&&L.alternate===null&&e(m,M),w=s(L,w,R),D===null?O=L:D.sibling=L,D=L,M=A}if(B.done)return n(m,M),Zt&&tl(m,R),O;if(M===null){for(;!B.done;R++,B=x.next())B=d(m,B.value,N),B!==null&&(w=s(B,w,R),D===null?O=B:D.sibling=B,D=B);return Zt&&tl(m,R),O}for(M=r(m,M);!B.done;R++,B=x.next())B=h(M,m,R,B.value,N),B!==null&&(t&&B.alternate!==null&&M.delete(B.key===null?R:B.key),w=s(B,w,R),D===null?O=B:D.sibling=B,D=B);return t&&M.forEach(function(k){return e(m,k)}),Zt&&tl(m,R),O}function b(m,w,x,N){if(typeof x=="object"&&x!==null&&x.type===Oc&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case yp:e:{for(var O=x.key,D=w;D!==null;){if(D.key===O){if(O=x.type,O===Oc){if(D.tag===7){n(m,D.sibling),w=i(D,x.props.children),w.return=m,m=w;break e}}else if(D.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ba&&Px(O)===D.type){n(m,D.sibling),w=i(D,x.props),w.ref=Td(m,D,x),w.return=m,m=w;break e}n(m,D);break}else e(m,D);D=D.sibling}x.type===Oc?(w=_l(x.props.children,m.mode,N,x.key),w.return=m,m=w):(N=sm(x.type,x.key,x.props,null,m.mode,N),N.ref=Td(m,w,x),N.return=m,m=N)}return a(m);case Lc:e:{for(D=x.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(m,w.sibling),w=i(w,x.children||[]),w.return=m,m=w;break e}else{n(m,w);break}else e(m,w);w=w.sibling}w=Z1(x,m.mode,N),w.return=m,m=w}return a(m);case Ba:return D=x._init,b(m,w,D(x._payload),N)}if(Gd(x))return g(m,w,x,N);if(Nd(x))return y(m,w,x,N);Cp(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(m,w.sibling),w=i(w,x),w.return=m,m=w):(n(m,w),w=J1(x,m.mode,N),w.return=m,m=w),a(m)):n(m,w)}return b}var wu=PS(!0),TS=PS(!1),Dm=To(null),Fm=null,Vc=null,f5=null;function p5(){f5=Vc=Fm=null}function m5(t){var e=Dm.current;Qt(Dm),t._currentValue=e}function xy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ru(t,e){Fm=t,f5=Vc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zr=!0),t.firstContext=null)}function Ri(t){var e=t._currentValue;if(f5!==t)if(t={context:t,memoizedValue:e,next:null},Vc===null){if(Fm===null)throw Error(Be(308));Vc=t,Fm.dependencies={lanes:0,firstContext:t}}else Vc=Vc.next=t;return e}var dl=null;function g5(t){dl===null?dl=[t]:dl.push(t)}function LS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,g5(e)):(n.next=i.next,i.next=n),e.interleaved=n,oa(t,r)}function oa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var za=!1;function y5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ea(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ct&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,oa(t,n)}return i=r.interleaved,i===null?(e.next=e,g5(r)):(e.next=i.next,i.next=e),r.interleaved=e,oa(t,n)}function Zp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,n5(t,n)}}function Tx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mm(t,e,n,r){var i=t.updateQueue;za=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var f=o.lane,h=o.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,y=o;switch(f=e,h=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=sn({},d,f);break e;case 2:za=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Al|=a,t.lanes=a,t.memoizedState=d}}function Lx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Be(191,i));i.call(r)}}}var of={},Es=To(of),Th=To(of),Lh=To(of);function hl(t){if(t===of)throw Error(Be(174));return t}function v5(t,e){switch($t(Lh,e),$t(Th,t),$t(Es,of),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ty(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ty(e,t)}Qt(Es),$t(Es,e)}function bu(){Qt(Es),Qt(Th),Qt(Lh)}function DS(t){hl(Lh.current);var e=hl(Es.current),n=ty(e,t.type);e!==n&&($t(Th,t),$t(Es,n))}function w5(t){Th.current===t&&(Qt(Es),Qt(Th))}var tn=To(0);function Um(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $1=[];function b5(){for(var t=0;t<$1.length;t++)$1[t]._workInProgressVersionPrimary=null;$1.length=0}var em=ma.ReactCurrentDispatcher,G1=ma.ReactCurrentBatchConfig,Cl=0,rn=null,Fn=null,qn=null,Bm=!1,ih=!1,Oh=0,sP=0;function or(){throw Error(Be(321))}function x5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ts(t[n],e[n]))return!1;return!0}function _5(t,e,n,r,i,s){if(Cl=s,rn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,em.current=t===null||t.memoizedState===null?cP:uP,t=n(r,i),ih){s=0;do{if(ih=!1,Oh=0,25<=s)throw Error(Be(301));s+=1,qn=Fn=null,e.updateQueue=null,em.current=dP,t=n(r,i)}while(ih)}if(em.current=zm,e=Fn!==null&&Fn.next!==null,Cl=0,qn=Fn=rn=null,Bm=!1,e)throw Error(Be(300));return t}function E5(){var t=Oh!==0;return Oh=0,t}function ys(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?rn.memoizedState=qn=t:qn=qn.next=t,qn}function Ni(){if(Fn===null){var t=rn.alternate;t=t!==null?t.memoizedState:null}else t=Fn.next;var e=qn===null?rn.memoizedState:qn.next;if(e!==null)qn=e,Fn=t;else{if(t===null)throw Error(Be(310));Fn=t,t={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},qn===null?rn.memoizedState=qn=t:qn=qn.next=t}return qn}function Dh(t,e){return typeof e=="function"?e(t):e}function K1(t){var e=Ni(),n=e.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=t;var r=Fn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((Cl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,rn.lanes|=u,Al|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,ts(r,e.memoizedState)||(zr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,rn.lanes|=s,Al|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Y1(t){var e=Ni(),n=e.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ts(s,e.memoizedState)||(zr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function FS(){}function MS(t,e){var n=rn,r=Ni(),i=e(),s=!ts(r.memoizedState,i);if(s&&(r.memoizedState=i,zr=!0),r=r.queue,S5(zS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||qn!==null&&qn.memoizedState.tag&1){if(n.flags|=2048,Fh(9,BS.bind(null,n,r,i,e),void 0,null),Kn===null)throw Error(Be(349));Cl&30||US(n,e,i)}return i}function US(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rn.updateQueue,e===null?(e={lastEffect:null,stores:null},rn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BS(t,e,n,r){e.value=n,e.getSnapshot=r,jS(e)&&VS(t)}function zS(t,e,n){return n(function(){jS(e)&&VS(t)})}function jS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ts(t,n)}catch{return!0}}function VS(t){var e=oa(t,1);e!==null&&Ji(e,t,1,-1)}function Ox(t){var e=ys();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dh,lastRenderedState:t},e.queue=t,t=t.dispatch=lP.bind(null,rn,t),[e.memoizedState,t]}function Fh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rn.updateQueue,e===null?(e={lastEffect:null,stores:null},rn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WS(){return Ni().memoizedState}function tm(t,e,n,r){var i=ys();rn.flags|=t,i.memoizedState=Fh(1|e,n,void 0,r===void 0?null:r)}function $g(t,e,n,r){var i=Ni();r=r===void 0?null:r;var s=void 0;if(Fn!==null){var a=Fn.memoizedState;if(s=a.destroy,r!==null&&x5(r,a.deps)){i.memoizedState=Fh(e,n,s,r);return}}rn.flags|=t,i.memoizedState=Fh(1|e,n,s,r)}function Dx(t,e){return tm(8390656,8,t,e)}function S5(t,e){return $g(2048,8,t,e)}function HS(t,e){return $g(4,2,t,e)}function qS(t,e){return $g(4,4,t,e)}function $S(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GS(t,e,n){return n=n!=null?n.concat([t]):null,$g(4,4,$S.bind(null,e,t),n)}function k5(){}function KS(t,e){var n=Ni();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&x5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function YS(t,e){var n=Ni();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&x5(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XS(t,e,n){return Cl&21?(ts(n,e)||(n=tS(),rn.lanes|=n,Al|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zr=!0),t.memoizedState=n)}function aP(t,e){var n=Dt;Dt=n!==0&&4>n?n:4,t(!0);var r=G1.transition;G1.transition={};try{t(!1),e()}finally{Dt=n,G1.transition=r}}function QS(){return Ni().memoizedState}function oP(t,e,n){var r=uo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JS(t))ZS(e,n);else if(n=LS(t,e,n,r),n!==null){var i=Rr();Ji(n,t,r,i),ek(n,e,r)}}function lP(t,e,n){var r=uo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JS(t))ZS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ts(o,a)){var l=e.interleaved;l===null?(i.next=i,g5(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=LS(t,e,i,r),n!==null&&(i=Rr(),Ji(n,t,r,i),ek(n,e,r))}}function JS(t){var e=t.alternate;return t===rn||e!==null&&e===rn}function ZS(t,e){ih=Bm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ek(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,n5(t,n)}}var zm={readContext:Ri,useCallback:or,useContext:or,useEffect:or,useImperativeHandle:or,useInsertionEffect:or,useLayoutEffect:or,useMemo:or,useReducer:or,useRef:or,useState:or,useDebugValue:or,useDeferredValue:or,useTransition:or,useMutableSource:or,useSyncExternalStore:or,useId:or,unstable_isNewReconciler:!1},cP={readContext:Ri,useCallback:function(t,e){return ys().memoizedState=[t,e===void 0?null:e],t},useContext:Ri,useEffect:Dx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tm(4194308,4,$S.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tm(4194308,4,t,e)},useInsertionEffect:function(t,e){return tm(4,2,t,e)},useMemo:function(t,e){var n=ys();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ys();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oP.bind(null,rn,t),[r.memoizedState,t]},useRef:function(t){var e=ys();return t={current:t},e.memoizedState=t},useState:Ox,useDebugValue:k5,useDeferredValue:function(t){return ys().memoizedState=t},useTransition:function(){var t=Ox(!1),e=t[0];return t=aP.bind(null,t[1]),ys().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rn,i=ys();if(Zt){if(n===void 0)throw Error(Be(407));n=n()}else{if(n=e(),Kn===null)throw Error(Be(349));Cl&30||US(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Dx(zS.bind(null,r,s,t),[t]),r.flags|=2048,Fh(9,BS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ys(),e=Kn.identifierPrefix;if(Zt){var n=Ys,r=Ks;n=(r&~(1<<32-Qi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Oh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=sP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uP={readContext:Ri,useCallback:KS,useContext:Ri,useEffect:S5,useImperativeHandle:GS,useInsertionEffect:HS,useLayoutEffect:qS,useMemo:YS,useReducer:K1,useRef:WS,useState:function(){return K1(Dh)},useDebugValue:k5,useDeferredValue:function(t){var e=Ni();return XS(e,Fn.memoizedState,t)},useTransition:function(){var t=K1(Dh)[0],e=Ni().memoizedState;return[t,e]},useMutableSource:FS,useSyncExternalStore:MS,useId:QS,unstable_isNewReconciler:!1},dP={readContext:Ri,useCallback:KS,useContext:Ri,useEffect:S5,useImperativeHandle:GS,useInsertionEffect:HS,useLayoutEffect:qS,useMemo:YS,useReducer:Y1,useRef:WS,useState:function(){return Y1(Dh)},useDebugValue:k5,useDeferredValue:function(t){var e=Ni();return Fn===null?e.memoizedState=t:XS(e,Fn.memoizedState,t)},useTransition:function(){var t=Y1(Dh)[0],e=Ni().memoizedState;return[t,e]},useMutableSource:FS,useSyncExternalStore:MS,useId:QS,unstable_isNewReconciler:!1};function Wi(t,e){if(t&&t.defaultProps){e=sn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _y(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:sn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gg={isMounted:function(t){return(t=t._reactInternals)?Wl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rr(),i=uo(t),s=ea(r,i);s.payload=e,n!=null&&(s.callback=n),e=lo(t,s,i),e!==null&&(Ji(e,t,i,r),Zp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rr(),i=uo(t),s=ea(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=lo(t,s,i),e!==null&&(Ji(e,t,i,r),Zp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rr(),r=uo(t),i=ea(n,r);i.tag=2,e!=null&&(i.callback=e),e=lo(t,i,r),e!==null&&(Ji(e,t,r,n),Zp(e,t,r))}};function Fx(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Ch(n,r)||!Ch(i,s):!0}function tk(t,e,n){var r=!1,i=_o,s=e.contextType;return typeof s=="object"&&s!==null?s=Ri(s):(i=Wr(e)?Rl:yr.current,r=e.contextTypes,s=(r=r!=null)?yu(t,i):_o),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Mx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gg.enqueueReplaceState(e,e.state,null)}function Ey(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},y5(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ri(s):(s=Wr(e)?Rl:yr.current,i.context=yu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_y(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gg.enqueueReplaceState(i,i.state,null),Mm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xu(t,e){try{var n="",r=e;do n+=B8(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function X1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hP=typeof WeakMap=="function"?WeakMap:Map;function nk(t,e,n){n=ea(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vm||(Vm=!0,Oy=r),Sy(t,e)},n}function rk(t,e,n){n=ea(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sy(t,e),typeof r!="function"&&(co===null?co=new Set([this]):co.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Ux(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=RP.bind(null,t,e,n),e.then(t,t))}function Bx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ea(-1,1),e.tag=2,lo(n,e,1))),n.lanes|=1),t)}var fP=ma.ReactCurrentOwner,zr=!1;function Sr(t,e,n,r){e.child=t===null?TS(e,null,n,r):wu(e,t.child,n,r)}function jx(t,e,n,r,i){n=n.render;var s=e.ref;return ru(e,i),r=_5(t,e,n,r,s,i),n=E5(),t!==null&&!zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,la(t,e,i)):(Zt&&n&&u5(e),e.flags|=1,Sr(t,e,r,i),e.child)}function Vx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!L5(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ik(t,e,s,r,i)):(t=sm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ch,n(a,r)&&t.ref===e.ref)return la(t,e,i)}return e.flags|=1,t=ho(s,r),t.ref=e.ref,t.return=e,e.child=t}function ik(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ch(s,r)&&t.ref===e.ref)if(zr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(zr=!0);else return e.lanes=t.lanes,la(t,e,i)}return ky(t,e,n,r,i)}function sk(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Hc,Jr),Jr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$t(Hc,Jr),Jr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$t(Hc,Jr),Jr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,$t(Hc,Jr),Jr|=r;return Sr(t,e,i,n),e.child}function ak(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ky(t,e,n,r,i){var s=Wr(n)?Rl:yr.current;return s=yu(e,s),ru(e,i),n=_5(t,e,n,r,s,i),r=E5(),t!==null&&!zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,la(t,e,i)):(Zt&&r&&u5(e),e.flags|=1,Sr(t,e,n,i),e.child)}function Wx(t,e,n,r,i){if(Wr(n)){var s=!0;Tm(e)}else s=!1;if(ru(e,i),e.stateNode===null)nm(t,e),tk(e,n,r),Ey(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ri(c):(c=Wr(n)?Rl:yr.current,c=yu(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&Mx(e,a,r,c),za=!1;var f=e.memoizedState;a.state=f,Mm(e,r,a,i),l=e.memoizedState,o!==r||f!==l||Vr.current||za?(typeof u=="function"&&(_y(e,n,u,r),l=e.memoizedState),(o=za||Fx(e,n,o,r,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,OS(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Wi(e.type,o),a.props=c,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ri(l):(l=Wr(n)?Rl:yr.current,l=yu(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&Mx(e,a,r,l),za=!1,f=e.memoizedState,a.state=f,Mm(e,r,a,i);var g=e.memoizedState;o!==d||f!==g||Vr.current||za?(typeof h=="function"&&(_y(e,n,h,r),g=e.memoizedState),(c=za||Fx(e,n,c,r,f,g,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ry(t,e,n,r,s,i)}function Ry(t,e,n,r,i,s){ak(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Cx(e,n,!1),la(t,e,s);r=e.stateNode,fP.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=wu(e,t.child,null,s),e.child=wu(e,null,o,s)):Sr(t,e,o,s),e.memoizedState=r.state,i&&Cx(e,n,!0),e.child}function ok(t){var e=t.stateNode;e.pendingContext?Nx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nx(t,e.context,!1),v5(t,e.containerInfo)}function Hx(t,e,n,r,i){return vu(),h5(i),e.flags|=256,Sr(t,e,n,r),e.child}var Ny={dehydrated:null,treeContext:null,retryLane:0};function Cy(t){return{baseLanes:t,cachePool:null,transitions:null}}function lk(t,e,n){var r=e.pendingProps,i=tn.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$t(tn,i&1),t===null)return by(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Xg(a,r,0,null),t=_l(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Cy(n),e.memoizedState=Ny,t):R5(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return pP(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ho(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ho(o,s):(s=_l(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Cy(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Ny,r}return s=t.child,t=s.sibling,r=ho(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function R5(t,e){return e=Xg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ap(t,e,n,r){return r!==null&&h5(r),wu(e,t.child,null,n),t=R5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pP(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=X1(Error(Be(422))),Ap(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xg({mode:"visible",children:r.children},i,0,null),s=_l(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wu(e,t.child,null,a),e.child.memoizedState=Cy(a),e.memoizedState=Ny,s);if(!(e.mode&1))return Ap(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Be(419)),r=X1(s,r,void 0),Ap(t,e,a,r)}if(o=(a&t.childLanes)!==0,zr||o){if(r=Kn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,oa(t,i),Ji(r,t,i,-1))}return T5(),r=X1(Error(Be(421))),Ap(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=NP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ei=oo(i.nextSibling),ni=e,Zt=!0,$i=null,t!==null&&(wi[bi++]=Ks,wi[bi++]=Ys,wi[bi++]=Nl,Ks=t.id,Ys=t.overflow,Nl=e),e=R5(e,r.children),e.flags|=4096,e)}function qx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xy(t.return,e,n)}function Q1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ck(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Sr(t,e,r.children,n),r=tn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qx(t,n,e);else if(t.tag===19)qx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($t(tn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Um(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Q1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Um(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Q1(e,!0,n,null,s);break;case"together":Q1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function la(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Al|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Be(153));if(e.child!==null){for(t=e.child,n=ho(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ho(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mP(t,e,n){switch(e.tag){case 3:ok(e),vu();break;case 5:DS(e);break;case 1:Wr(e.type)&&Tm(e);break;case 4:v5(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$t(Dm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($t(tn,tn.current&1),e.flags|=128,null):n&e.child.childLanes?lk(t,e,n):($t(tn,tn.current&1),t=la(t,e,n),t!==null?t.sibling:null);$t(tn,tn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ck(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(tn,tn.current),r)break;return null;case 22:case 23:return e.lanes=0,sk(t,e,n)}return la(t,e,n)}var uk,Ay,dk,hk;uk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ay=function(){};dk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,hl(Es.current);var s=null;switch(n){case"input":i=Q2(t,i),r=Q2(t,r),s=[];break;case"select":i=sn({},i,{value:void 0}),r=sn({},r,{value:void 0}),s=[];break;case"textarea":i=ey(t,i),r=ey(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Im)}ny(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Yt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};hk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ld(t,e){if(!Zt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gP(t,e,n){var r=e.pendingProps;switch(d5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(e),null;case 1:return Wr(e.type)&&Pm(),lr(e),null;case 3:return r=e.stateNode,bu(),Qt(Vr),Qt(yr),b5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Np(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$i!==null&&(My($i),$i=null))),Ay(t,e),lr(e),null;case 5:w5(e);var i=hl(Lh.current);if(n=e.type,t!==null&&e.stateNode!=null)dk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Be(166));return lr(e),null}if(t=hl(Es.current),Np(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ws]=e,r[Ph]=s,t=(e.mode&1)!==0,n){case"dialog":Yt("cancel",r),Yt("close",r);break;case"iframe":case"object":case"embed":Yt("load",r);break;case"video":case"audio":for(i=0;i<Yd.length;i++)Yt(Yd[i],r);break;case"source":Yt("error",r);break;case"img":case"image":case"link":Yt("error",r),Yt("load",r);break;case"details":Yt("toggle",r);break;case"input":ex(r,s),Yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",r);break;case"textarea":nx(r,s),Yt("invalid",r)}ny(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Rp(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Rp(r.textContent,o,t),i=["children",""+o]):xh.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Yt("scroll",r)}switch(n){case"input":vp(r),tx(r,s,!0);break;case"textarea":vp(r),rx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Im)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ws]=e,t[Ph]=r,uk(t,e,!1,!1),e.stateNode=t;e:{switch(a=ry(n,r),n){case"dialog":Yt("cancel",t),Yt("close",t),i=r;break;case"iframe":case"object":case"embed":Yt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yd.length;i++)Yt(Yd[i],t);i=r;break;case"source":Yt("error",t),i=r;break;case"img":case"image":case"link":Yt("error",t),Yt("load",t),i=r;break;case"details":Yt("toggle",t),i=r;break;case"input":ex(t,r),i=Q2(t,r),Yt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=sn({},r,{value:void 0}),Yt("invalid",t);break;case"textarea":nx(t,r),i=ey(t,r),Yt("invalid",t);break;default:i=r}ny(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?WE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_h(t,l):typeof l=="number"&&_h(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Yt("scroll",t):l!=null&&Xv(t,s,l,a))}switch(n){case"input":vp(t),tx(t,r,!1);break;case"textarea":vp(t),rx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zc(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Im)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lr(e),null;case 6:if(t&&e.stateNode!=null)hk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Be(166));if(n=hl(Lh.current),hl(Es.current),Np(e)){if(r=e.stateNode,n=e.memoizedProps,r[ws]=e,(s=r.nodeValue!==n)&&(t=ni,t!==null))switch(t.tag){case 3:Rp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ws]=e,e.stateNode=r}return lr(e),null;case 13:if(Qt(tn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Zt&&ei!==null&&e.mode&1&&!(e.flags&128))IS(),vu(),e.flags|=98560,s=!1;else if(s=Np(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Be(317));s[ws]=e}else vu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lr(e),s=!1}else $i!==null&&(My($i),$i=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tn.current&1?Bn===0&&(Bn=3):T5())),e.updateQueue!==null&&(e.flags|=4),lr(e),null);case 4:return bu(),Ay(t,e),t===null&&Ah(e.stateNode.containerInfo),lr(e),null;case 10:return m5(e.type._context),lr(e),null;case 17:return Wr(e.type)&&Pm(),lr(e),null;case 19:if(Qt(tn),s=e.memoizedState,s===null)return lr(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Ld(s,!1);else{if(Bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Um(t),a!==null){for(e.flags|=128,Ld(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $t(tn,tn.current&1|2),e.child}t=t.sibling}s.tail!==null&&yn()>_u&&(e.flags|=128,r=!0,Ld(s,!1),e.lanes=4194304)}else{if(!r)if(t=Um(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ld(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Zt)return lr(e),null}else 2*yn()-s.renderingStartTime>_u&&n!==1073741824&&(e.flags|=128,r=!0,Ld(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yn(),e.sibling=null,n=tn.current,$t(tn,r?n&1|2:n&1),e):(lr(e),null);case 22:case 23:return P5(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jr&1073741824&&(lr(e),e.subtreeFlags&6&&(e.flags|=8192)):lr(e),null;case 24:return null;case 25:return null}throw Error(Be(156,e.tag))}function yP(t,e){switch(d5(e),e.tag){case 1:return Wr(e.type)&&Pm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bu(),Qt(Vr),Qt(yr),b5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return w5(e),null;case 13:if(Qt(tn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Be(340));vu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qt(tn),null;case 4:return bu(),null;case 10:return m5(e.type._context),null;case 22:case 23:return P5(),null;case 24:return null;default:return null}}var Ip=!1,mr=!1,vP=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Wc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){un(t,e,r)}else n.current=null}function Iy(t,e,n){try{n()}catch(r){un(t,e,r)}}var $x=!1;function wP(t,e){if(fy=Nm,t=yS(),c5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(o=a),f===s&&++u===r&&(l=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(py={focusedElem:t,selectionRange:n},Nm=!1,Ke=e;Ke!==null;)if(e=Ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ke=t;else for(;Ke!==null;){e=Ke;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,m=e.stateNode,w=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Wi(e.type,y),b);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(N){un(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Ke=t;break}Ke=e.return}return g=$x,$x=!1,g}function sh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Iy(e,n,s)}i=i.next}while(i!==r)}}function Kg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Py(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fk(t){var e=t.alternate;e!==null&&(t.alternate=null,fk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ws],delete e[Ph],delete e[yy],delete e[tP],delete e[nP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pk(t){return t.tag===5||t.tag===3||t.tag===4}function Gx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ty(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Im));else if(r!==4&&(t=t.child,t!==null))for(Ty(t,e,n),t=t.sibling;t!==null;)Ty(t,e,n),t=t.sibling}function Ly(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ly(t,e,n),t=t.sibling;t!==null;)Ly(t,e,n),t=t.sibling}var Zn=null,qi=!1;function La(t,e,n){for(n=n.child;n!==null;)mk(t,e,n),n=n.sibling}function mk(t,e,n){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(zg,n)}catch{}switch(n.tag){case 5:mr||Wc(n,e);case 6:var r=Zn,i=qi;Zn=null,La(t,e,n),Zn=r,qi=i,Zn!==null&&(qi?(t=Zn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Zn.removeChild(n.stateNode));break;case 18:Zn!==null&&(qi?(t=Zn,n=n.stateNode,t.nodeType===8?H1(t.parentNode,n):t.nodeType===1&&H1(t,n),Rh(t)):H1(Zn,n.stateNode));break;case 4:r=Zn,i=qi,Zn=n.stateNode.containerInfo,qi=!0,La(t,e,n),Zn=r,qi=i;break;case 0:case 11:case 14:case 15:if(!mr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Iy(n,e,a),i=i.next}while(i!==r)}La(t,e,n);break;case 1:if(!mr&&(Wc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){un(n,e,o)}La(t,e,n);break;case 21:La(t,e,n);break;case 22:n.mode&1?(mr=(r=mr)||n.memoizedState!==null,La(t,e,n),mr=r):La(t,e,n);break;default:La(t,e,n)}}function Kx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vP),e.forEach(function(r){var i=CP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Zn=o.stateNode,qi=!1;break e;case 3:Zn=o.stateNode.containerInfo,qi=!0;break e;case 4:Zn=o.stateNode.containerInfo,qi=!0;break e}o=o.return}if(Zn===null)throw Error(Be(160));mk(s,a,i),Zn=null,qi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){un(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gk(e,t),e=e.sibling}function gk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bi(e,t),ps(t),r&4){try{sh(3,t,t.return),Kg(3,t)}catch(y){un(t,t.return,y)}try{sh(5,t,t.return)}catch(y){un(t,t.return,y)}}break;case 1:Bi(e,t),ps(t),r&512&&n!==null&&Wc(n,n.return);break;case 5:if(Bi(e,t),ps(t),r&512&&n!==null&&Wc(n,n.return),t.flags&32){var i=t.stateNode;try{_h(i,"")}catch(y){un(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&UE(i,s),ry(o,a);var c=ry(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?WE(i,d):u==="dangerouslySetInnerHTML"?jE(i,d):u==="children"?_h(i,d):Xv(i,u,d,c)}switch(o){case"input":J2(i,s);break;case"textarea":BE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Zc(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Zc(i,!!s.multiple,s.defaultValue,!0):Zc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ph]=s}catch(y){un(t,t.return,y)}}break;case 6:if(Bi(e,t),ps(t),r&4){if(t.stateNode===null)throw Error(Be(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){un(t,t.return,y)}}break;case 3:if(Bi(e,t),ps(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rh(e.containerInfo)}catch(y){un(t,t.return,y)}break;case 4:Bi(e,t),ps(t);break;case 13:Bi(e,t),ps(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(A5=yn())),r&4&&Kx(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(mr=(c=mr)||u,Bi(e,t),mr=c):Bi(e,t),ps(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ke=t,u=t.child;u!==null;){for(d=Ke=u;Ke!==null;){switch(f=Ke,h=f.child,f.tag){case 0:case 11:case 14:case 15:sh(4,f,f.return);break;case 1:Wc(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){un(r,n,y)}}break;case 5:Wc(f,f.return);break;case 22:if(f.memoizedState!==null){Xx(d);continue}}h!==null?(h.return=f,Ke=h):Xx(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=VE("display",a))}catch(y){un(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){un(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Bi(e,t),ps(t),r&4&&Kx(t);break;case 21:break;default:Bi(e,t),ps(t)}}function ps(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pk(n)){var r=n;break e}n=n.return}throw Error(Be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_h(i,""),r.flags&=-33);var s=Gx(t);Ly(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Gx(t);Ty(t,o,a);break;default:throw Error(Be(161))}}catch(l){un(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bP(t,e,n){Ke=t,yk(t)}function yk(t,e,n){for(var r=(t.mode&1)!==0;Ke!==null;){var i=Ke,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ip;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||mr;o=Ip;var c=mr;if(Ip=a,(mr=l)&&!c)for(Ke=i;Ke!==null;)a=Ke,l=a.child,a.tag===22&&a.memoizedState!==null?Qx(i):l!==null?(l.return=a,Ke=l):Qx(i);for(;s!==null;)Ke=s,yk(s),s=s.sibling;Ke=i,Ip=o,mr=c}Yx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ke=s):Yx(t)}}function Yx(t){for(;Ke!==null;){var e=Ke;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mr||Kg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Lx(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Lx(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Rh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}mr||e.flags&512&&Py(e)}catch(f){un(e,e.return,f)}}if(e===t){Ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ke=n;break}Ke=e.return}}function Xx(t){for(;Ke!==null;){var e=Ke;if(e===t){Ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ke=n;break}Ke=e.return}}function Qx(t){for(;Ke!==null;){var e=Ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kg(4,e)}catch(l){un(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){un(e,i,l)}}var s=e.return;try{Py(e)}catch(l){un(e,s,l)}break;case 5:var a=e.return;try{Py(e)}catch(l){un(e,a,l)}}}catch(l){un(e,e.return,l)}if(e===t){Ke=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ke=o;break}Ke=e.return}}var xP=Math.ceil,jm=ma.ReactCurrentDispatcher,N5=ma.ReactCurrentOwner,Ei=ma.ReactCurrentBatchConfig,Ct=0,Kn=null,In=null,tr=0,Jr=0,Hc=To(0),Bn=0,Mh=null,Al=0,Yg=0,C5=0,ah=null,Mr=null,A5=0,_u=1/0,qs=null,Vm=!1,Oy=null,co=null,Pp=!1,Xa=null,Wm=0,oh=0,Dy=null,rm=-1,im=0;function Rr(){return Ct&6?yn():rm!==-1?rm:rm=yn()}function uo(t){return t.mode&1?Ct&2&&tr!==0?tr&-tr:iP.transition!==null?(im===0&&(im=tS()),im):(t=Dt,t!==0||(t=window.event,t=t===void 0?16:lS(t.type)),t):1}function Ji(t,e,n,r){if(50<oh)throw oh=0,Dy=null,Error(Be(185));rf(t,n,r),(!(Ct&2)||t!==Kn)&&(t===Kn&&(!(Ct&2)&&(Yg|=n),Bn===4&&Wa(t,tr)),Hr(t,r),n===1&&Ct===0&&!(e.mode&1)&&(_u=yn()+500,qg&&Lo()))}function Hr(t,e){var n=t.callbackNode;iI(t,e);var r=Rm(t,t===Kn?tr:0);if(r===0)n!==null&&ax(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ax(n),e===1)t.tag===0?rP(Jx.bind(null,t)):NS(Jx.bind(null,t)),ZI(function(){!(Ct&6)&&Lo()}),n=null;else{switch(nS(r)){case 1:n=t5;break;case 4:n=ZE;break;case 16:n=km;break;case 536870912:n=eS;break;default:n=km}n=kk(n,vk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vk(t,e){if(rm=-1,im=0,Ct&6)throw Error(Be(327));var n=t.callbackNode;if(iu()&&t.callbackNode!==n)return null;var r=Rm(t,t===Kn?tr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hm(t,r);else{e=r;var i=Ct;Ct|=2;var s=bk();(Kn!==t||tr!==e)&&(qs=null,_u=yn()+500,xl(t,e));do try{SP();break}catch(o){wk(t,o)}while(!0);p5(),jm.current=s,Ct=i,In!==null?e=0:(Kn=null,tr=0,e=Bn)}if(e!==0){if(e===2&&(i=ly(t),i!==0&&(r=i,e=Fy(t,i))),e===1)throw n=Mh,xl(t,0),Wa(t,r),Hr(t,yn()),n;if(e===6)Wa(t,r);else{if(i=t.current.alternate,!(r&30)&&!_P(i)&&(e=Hm(t,r),e===2&&(s=ly(t),s!==0&&(r=s,e=Fy(t,s))),e===1))throw n=Mh,xl(t,0),Wa(t,r),Hr(t,yn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Be(345));case 2:nl(t,Mr,qs);break;case 3:if(Wa(t,r),(r&130023424)===r&&(e=A5+500-yn(),10<e)){if(Rm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gy(nl.bind(null,t,Mr,qs),e);break}nl(t,Mr,qs);break;case 4:if(Wa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Qi(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=yn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xP(r/1960))-r,10<r){t.timeoutHandle=gy(nl.bind(null,t,Mr,qs),r);break}nl(t,Mr,qs);break;case 5:nl(t,Mr,qs);break;default:throw Error(Be(329))}}}return Hr(t,yn()),t.callbackNode===n?vk.bind(null,t):null}function Fy(t,e){var n=ah;return t.current.memoizedState.isDehydrated&&(xl(t,e).flags|=256),t=Hm(t,e),t!==2&&(e=Mr,Mr=n,e!==null&&My(e)),t}function My(t){Mr===null?Mr=t:Mr.push.apply(Mr,t)}function _P(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ts(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wa(t,e){for(e&=~C5,e&=~Yg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qi(e),r=1<<n;t[n]=-1,e&=~r}}function Jx(t){if(Ct&6)throw Error(Be(327));iu();var e=Rm(t,0);if(!(e&1))return Hr(t,yn()),null;var n=Hm(t,e);if(t.tag!==0&&n===2){var r=ly(t);r!==0&&(e=r,n=Fy(t,r))}if(n===1)throw n=Mh,xl(t,0),Wa(t,e),Hr(t,yn()),n;if(n===6)throw Error(Be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nl(t,Mr,qs),Hr(t,yn()),null}function I5(t,e){var n=Ct;Ct|=1;try{return t(e)}finally{Ct=n,Ct===0&&(_u=yn()+500,qg&&Lo())}}function Il(t){Xa!==null&&Xa.tag===0&&!(Ct&6)&&iu();var e=Ct;Ct|=1;var n=Ei.transition,r=Dt;try{if(Ei.transition=null,Dt=1,t)return t()}finally{Dt=r,Ei.transition=n,Ct=e,!(Ct&6)&&Lo()}}function P5(){Jr=Hc.current,Qt(Hc)}function xl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JI(n)),In!==null)for(n=In.return;n!==null;){var r=n;switch(d5(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pm();break;case 3:bu(),Qt(Vr),Qt(yr),b5();break;case 5:w5(r);break;case 4:bu();break;case 13:Qt(tn);break;case 19:Qt(tn);break;case 10:m5(r.type._context);break;case 22:case 23:P5()}n=n.return}if(Kn=t,In=t=ho(t.current,null),tr=Jr=e,Bn=0,Mh=null,C5=Yg=Al=0,Mr=ah=null,dl!==null){for(e=0;e<dl.length;e++)if(n=dl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}dl=null}return t}function wk(t,e){do{var n=In;try{if(p5(),em.current=zm,Bm){for(var r=rn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bm=!1}if(Cl=0,qn=Fn=rn=null,ih=!1,Oh=0,N5.current=null,n===null||n.return===null){Bn=1,Mh=e,In=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=tr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Bx(a);if(h!==null){h.flags&=-257,zx(h,a,o,s,e),h.mode&1&&Ux(s,c,e),e=h,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){Ux(s,c,e),T5();break e}l=Error(Be(426))}}else if(Zt&&o.mode&1){var b=Bx(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),zx(b,a,o,s,e),h5(xu(l,o));break e}}s=l=xu(l,o),Bn!==4&&(Bn=2),ah===null?ah=[s]:ah.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=nk(s,l,e);Tx(s,m);break e;case 1:o=l;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(co===null||!co.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=rk(s,o,e);Tx(s,N);break e}}s=s.return}while(s!==null)}_k(n)}catch(O){e=O,In===n&&n!==null&&(In=n=n.return);continue}break}while(!0)}function bk(){var t=jm.current;return jm.current=zm,t===null?zm:t}function T5(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Kn===null||!(Al&268435455)&&!(Yg&268435455)||Wa(Kn,tr)}function Hm(t,e){var n=Ct;Ct|=2;var r=bk();(Kn!==t||tr!==e)&&(qs=null,xl(t,e));do try{EP();break}catch(i){wk(t,i)}while(!0);if(p5(),Ct=n,jm.current=r,In!==null)throw Error(Be(261));return Kn=null,tr=0,Bn}function EP(){for(;In!==null;)xk(In)}function SP(){for(;In!==null&&!Y8();)xk(In)}function xk(t){var e=Sk(t.alternate,t,Jr);t.memoizedProps=t.pendingProps,e===null?_k(t):In=e,N5.current=null}function _k(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yP(n,e),n!==null){n.flags&=32767,In=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bn=6,In=null;return}}else if(n=gP(n,e,Jr),n!==null){In=n;return}if(e=e.sibling,e!==null){In=e;return}In=e=t}while(e!==null);Bn===0&&(Bn=5)}function nl(t,e,n){var r=Dt,i=Ei.transition;try{Ei.transition=null,Dt=1,kP(t,e,n,r)}finally{Ei.transition=i,Dt=r}return null}function kP(t,e,n,r){do iu();while(Xa!==null);if(Ct&6)throw Error(Be(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Be(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(sI(t,s),t===Kn&&(In=Kn=null,tr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pp||(Pp=!0,kk(km,function(){return iu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ei.transition,Ei.transition=null;var a=Dt;Dt=1;var o=Ct;Ct|=4,N5.current=null,wP(t,n),gk(n,t),qI(py),Nm=!!fy,py=fy=null,t.current=n,bP(n),X8(),Ct=o,Dt=a,Ei.transition=s}else t.current=n;if(Pp&&(Pp=!1,Xa=t,Wm=i),s=t.pendingLanes,s===0&&(co=null),Z8(n.stateNode),Hr(t,yn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vm)throw Vm=!1,t=Oy,Oy=null,t;return Wm&1&&t.tag!==0&&iu(),s=t.pendingLanes,s&1?t===Dy?oh++:(oh=0,Dy=t):oh=0,Lo(),null}function iu(){if(Xa!==null){var t=nS(Wm),e=Ei.transition,n=Dt;try{if(Ei.transition=null,Dt=16>t?16:t,Xa===null)var r=!1;else{if(t=Xa,Xa=null,Wm=0,Ct&6)throw Error(Be(331));var i=Ct;for(Ct|=4,Ke=t.current;Ke!==null;){var s=Ke,a=s.child;if(Ke.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ke=c;Ke!==null;){var u=Ke;switch(u.tag){case 0:case 11:case 15:sh(8,u,s)}var d=u.child;if(d!==null)d.return=u,Ke=d;else for(;Ke!==null;){u=Ke;var f=u.sibling,h=u.return;if(fk(u),u===c){Ke=null;break}if(f!==null){f.return=h,Ke=f;break}Ke=h}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Ke=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ke=a;else e:for(;Ke!==null;){if(s=Ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sh(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Ke=m;break e}Ke=s.return}}var w=t.current;for(Ke=w;Ke!==null;){a=Ke;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,Ke=x;else e:for(a=w;Ke!==null;){if(o=Ke,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Kg(9,o)}}catch(O){un(o,o.return,O)}if(o===a){Ke=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,Ke=N;break e}Ke=o.return}}if(Ct=i,Lo(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(zg,t)}catch{}r=!0}return r}finally{Dt=n,Ei.transition=e}}return!1}function Zx(t,e,n){e=xu(n,e),e=nk(t,e,1),t=lo(t,e,1),e=Rr(),t!==null&&(rf(t,1,e),Hr(t,e))}function un(t,e,n){if(t.tag===3)Zx(t,t,n);else for(;e!==null;){if(e.tag===3){Zx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(co===null||!co.has(r))){t=xu(n,t),t=rk(e,t,1),e=lo(e,t,1),t=Rr(),e!==null&&(rf(e,1,t),Hr(e,t));break}}e=e.return}}function RP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rr(),t.pingedLanes|=t.suspendedLanes&n,Kn===t&&(tr&n)===n&&(Bn===4||Bn===3&&(tr&130023424)===tr&&500>yn()-A5?xl(t,0):C5|=n),Hr(t,e)}function Ek(t,e){e===0&&(t.mode&1?(e=xp,xp<<=1,!(xp&130023424)&&(xp=4194304)):e=1);var n=Rr();t=oa(t,e),t!==null&&(rf(t,e,n),Hr(t,n))}function NP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ek(t,n)}function CP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Be(314))}r!==null&&r.delete(e),Ek(t,n)}var Sk;Sk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vr.current)zr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zr=!1,mP(t,e,n);zr=!!(t.flags&131072)}else zr=!1,Zt&&e.flags&1048576&&CS(e,Om,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nm(t,e),t=e.pendingProps;var i=yu(e,yr.current);ru(e,n),i=_5(null,e,r,t,i,n);var s=E5();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wr(r)?(s=!0,Tm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,y5(e),i.updater=Gg,e.stateNode=i,i._reactInternals=e,Ey(e,r,t,n),e=Ry(null,e,r,!0,s,n)):(e.tag=0,Zt&&s&&u5(e),Sr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=IP(r),t=Wi(r,t),i){case 0:e=ky(null,e,r,t,n);break e;case 1:e=Wx(null,e,r,t,n);break e;case 11:e=jx(null,e,r,t,n);break e;case 14:e=Vx(null,e,r,Wi(r.type,t),n);break e}throw Error(Be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wi(r,i),ky(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wi(r,i),Wx(t,e,r,i,n);case 3:e:{if(ok(e),t===null)throw Error(Be(387));r=e.pendingProps,s=e.memoizedState,i=s.element,OS(t,e),Mm(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=xu(Error(Be(423)),e),e=Hx(t,e,r,n,i);break e}else if(r!==i){i=xu(Error(Be(424)),e),e=Hx(t,e,r,n,i);break e}else for(ei=oo(e.stateNode.containerInfo.firstChild),ni=e,Zt=!0,$i=null,n=TS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vu(),r===i){e=la(t,e,n);break e}Sr(t,e,r,n)}e=e.child}return e;case 5:return DS(e),t===null&&by(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,my(r,i)?a=null:s!==null&&my(r,s)&&(e.flags|=32),ak(t,e),Sr(t,e,a,n),e.child;case 6:return t===null&&by(e),null;case 13:return lk(t,e,n);case 4:return v5(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wu(e,null,r,n):Sr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wi(r,i),jx(t,e,r,i,n);case 7:return Sr(t,e,e.pendingProps,n),e.child;case 8:return Sr(t,e,e.pendingProps.children,n),e.child;case 12:return Sr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,$t(Dm,r._currentValue),r._currentValue=a,s!==null)if(ts(s.value,a)){if(s.children===i.children&&!Vr.current){e=la(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ea(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xy(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Be(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),xy(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Sr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ru(e,n),i=Ri(i),r=r(i),e.flags|=1,Sr(t,e,r,n),e.child;case 14:return r=e.type,i=Wi(r,e.pendingProps),i=Wi(r.type,i),Vx(t,e,r,i,n);case 15:return ik(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wi(r,i),nm(t,e),e.tag=1,Wr(r)?(t=!0,Tm(e)):t=!1,ru(e,n),tk(e,r,i),Ey(e,r,i,n),Ry(null,e,r,!0,t,n);case 19:return ck(t,e,n);case 22:return sk(t,e,n)}throw Error(Be(156,e.tag))};function kk(t,e){return JE(t,e)}function AP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(t,e,n,r){return new AP(t,e,n,r)}function L5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IP(t){if(typeof t=="function")return L5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jv)return 11;if(t===Zv)return 14}return 2}function ho(t,e){var n=t.alternate;return n===null?(n=xi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sm(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")L5(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Oc:return _l(n.children,i,s,e);case Qv:a=8,i|=8;break;case G2:return t=xi(12,n,e,i|2),t.elementType=G2,t.lanes=s,t;case K2:return t=xi(13,n,e,i),t.elementType=K2,t.lanes=s,t;case Y2:return t=xi(19,n,e,i),t.elementType=Y2,t.lanes=s,t;case DE:return Xg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LE:a=10;break e;case OE:a=9;break e;case Jv:a=11;break e;case Zv:a=14;break e;case Ba:a=16,r=null;break e}throw Error(Be(130,t==null?t:typeof t,""))}return e=xi(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function _l(t,e,n,r){return t=xi(7,t,r,e),t.lanes=n,t}function Xg(t,e,n,r){return t=xi(22,t,r,e),t.elementType=DE,t.lanes=n,t.stateNode={isHidden:!1},t}function J1(t,e,n){return t=xi(6,t,null,e),t.lanes=n,t}function Z1(t,e,n){return e=xi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=L1(0),this.expirationTimes=L1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function O5(t,e,n,r,i,s,a,o,l){return t=new PP(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=xi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},y5(s),t}function TP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Rk(t){if(!t)return _o;t=t._reactInternals;e:{if(Wl(t)!==t||t.tag!==1)throw Error(Be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Be(171))}if(t.tag===1){var n=t.type;if(Wr(n))return RS(t,n,e)}return e}function Nk(t,e,n,r,i,s,a,o,l){return t=O5(n,r,!0,t,i,s,a,o,l),t.context=Rk(null),n=t.current,r=Rr(),i=uo(n),s=ea(r,i),s.callback=e??null,lo(n,s,i),t.current.lanes=i,rf(t,i,r),Hr(t,r),t}function Qg(t,e,n,r){var i=e.current,s=Rr(),a=uo(i);return n=Rk(n),e.context===null?e.context=n:e.pendingContext=n,e=ea(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lo(i,e,a),t!==null&&(Ji(t,i,a,s),Zp(t,i,a)),a}function qm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function e_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function D5(t,e){e_(t,e),(t=t.alternate)&&e_(t,e)}function LP(){return null}var Ck=typeof reportError=="function"?reportError:function(t){console.error(t)};function F5(t){this._internalRoot=t}Jg.prototype.render=F5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Be(409));Qg(t,e,null,null)};Jg.prototype.unmount=F5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Il(function(){Qg(null,t,null,null)}),e[aa]=null}};function Jg(t){this._internalRoot=t}Jg.prototype.unstable_scheduleHydration=function(t){if(t){var e=sS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Va.length&&e!==0&&e<Va[n].priority;n++);Va.splice(n,0,t),n===0&&oS(t)}};function M5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function t_(){}function OP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=qm(a);s.call(c)}}var a=Nk(e,r,t,0,null,!1,!1,"",t_);return t._reactRootContainer=a,t[aa]=a.current,Ah(t.nodeType===8?t.parentNode:t),Il(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=qm(l);o.call(c)}}var l=O5(t,0,!1,null,null,!1,!1,"",t_);return t._reactRootContainer=l,t[aa]=l.current,Ah(t.nodeType===8?t.parentNode:t),Il(function(){Qg(e,l,n,r)}),l}function e0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=qm(a);o.call(l)}}Qg(e,a,t,i)}else a=OP(n,e,t,i,r);return qm(a)}rS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kd(e.pendingLanes);n!==0&&(n5(e,n|1),Hr(e,yn()),!(Ct&6)&&(_u=yn()+500,Lo()))}break;case 13:Il(function(){var r=oa(t,1);if(r!==null){var i=Rr();Ji(r,t,1,i)}}),D5(t,1)}};r5=function(t){if(t.tag===13){var e=oa(t,134217728);if(e!==null){var n=Rr();Ji(e,t,134217728,n)}D5(t,134217728)}};iS=function(t){if(t.tag===13){var e=uo(t),n=oa(t,e);if(n!==null){var r=Rr();Ji(n,t,e,r)}D5(t,e)}};sS=function(){return Dt};aS=function(t,e){var n=Dt;try{return Dt=t,e()}finally{Dt=n}};sy=function(t,e,n){switch(e){case"input":if(J2(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hg(r);if(!i)throw Error(Be(90));ME(r),J2(r,i)}}}break;case"textarea":BE(t,n);break;case"select":e=n.value,e!=null&&Zc(t,!!n.multiple,e,!1)}};$E=I5;GE=Il;var DP={usingClientEntryPoint:!1,Events:[af,Uc,Hg,HE,qE,I5]},Od={findFiberByHostInstance:ul,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FP={bundleType:Od.bundleType,version:Od.version,rendererPackageName:Od.rendererPackageName,rendererConfig:Od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XE(t),t===null?null:t.stateNode},findFiberByHostInstance:Od.findFiberByHostInstance||LP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tp.isDisabled&&Tp.supportsFiber)try{zg=Tp.inject(FP),_s=Tp}catch{}}ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DP;ai.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M5(e))throw Error(Be(200));return TP(t,e,null,n)};ai.createRoot=function(t,e){if(!M5(t))throw Error(Be(299));var n=!1,r="",i=Ck;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=O5(t,1,!1,null,null,n,!1,r,i),t[aa]=e.current,Ah(t.nodeType===8?t.parentNode:t),new F5(e)};ai.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Be(188)):(t=Object.keys(t).join(","),Error(Be(268,t)));return t=XE(e),t=t===null?null:t.stateNode,t};ai.flushSync=function(t){return Il(t)};ai.hydrate=function(t,e,n){if(!Zg(e))throw Error(Be(200));return e0(null,t,e,!0,n)};ai.hydrateRoot=function(t,e,n){if(!M5(t))throw Error(Be(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=Ck;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Nk(e,null,t,1,n??null,i,!1,s,a),t[aa]=e.current,Ah(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Jg(e)};ai.render=function(t,e,n){if(!Zg(e))throw Error(Be(200));return e0(null,t,e,!1,n)};ai.unmountComponentAtNode=function(t){if(!Zg(t))throw Error(Be(40));return t._reactRootContainer?(Il(function(){e0(null,null,t,!1,function(){t._reactRootContainer=null,t[aa]=null})}),!0):!1};ai.unstable_batchedUpdates=I5;ai.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zg(n))throw Error(Be(200));if(t==null||t._reactInternals===void 0)throw Error(Be(38));return e0(t,e,n,!1,r)};ai.version="18.3.1-next-f1338f8080-20240426";function Ak(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ak)}catch(t){console.error(t)}}Ak(),AE.exports=ai;var MP=AE.exports,n_=MP;q2.createRoot=n_.createRoot,q2.hydrateRoot=n_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uh(){return Uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uh.apply(this,arguments)}var Qa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qa||(Qa={}));const r_="popstate";function UP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return Uy("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$m(i)}return zP(e,n,null,t)}function En(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ik(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BP(){return Math.random().toString(36).substr(2,8)}function i_(t,e){return{usr:t.state,key:t.key,idx:e}}function Uy(t,e,n,r){return n===void 0&&(n=null),Uh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Uu(e):e,{state:n,key:e&&e.key||r||BP()})}function $m(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Uu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Qa.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Uh({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=Qa.Pop;let b=u(),m=b==null?null:b-c;c=b,l&&l({action:o,location:y.location,delta:m})}function f(b,m){o=Qa.Push;let w=Uy(y.location,b,m);c=u()+1;let x=i_(w,c),N=y.createHref(w);try{a.pushState(x,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(N)}s&&l&&l({action:o,location:y.location,delta:1})}function h(b,m){o=Qa.Replace;let w=Uy(y.location,b,m);c=u();let x=i_(w,c),N=y.createHref(w);a.replaceState(x,"",N),s&&l&&l({action:o,location:y.location,delta:0})}function g(b){let m=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:$m(b);return w=w.replace(/ $/,"%20"),En(m,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,m)}let y={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(r_,d),l=b,()=>{i.removeEventListener(r_,d),l=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let m=g(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:h,go(b){return a.go(b)}};return y}var s_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(s_||(s_={}));function jP(t,e,n){return n===void 0&&(n="/"),VP(t,e,n)}function VP(t,e,n,r){let i=typeof e=="string"?Uu(e):e,s=U5(i.pathname||"/",n);if(s==null)return null;let a=Pk(t);WP(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=tT(s);o=JP(a[l],c)}return o}function Pk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(En(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=fo([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(En(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Pk(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:XP(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of Tk(s.path))i(s,a,l)}),e}function Tk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Tk(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function WP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HP=/^:[\w-]+$/,qP=3,$P=2,GP=1,KP=10,YP=-2,a_=t=>t==="*";function XP(t,e){let n=t.split("/"),r=n.length;return n.some(a_)&&(r+=YP),e&&(r+=$P),n.filter(i=>!a_(i)).reduce((i,s)=>i+(HP.test(s)?qP:s===""?GP:KP),r)}function QP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function JP(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=ZP({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:fo([s,d.pathname]),pathnameBase:sT(fo([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=fo([s,d.pathnameBase]))}return a}function ZP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=eT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let y=o[d]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[d];return h&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function eT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ik(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function tT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ik(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function U5(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function nT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Uu(t):t;return{pathname:n?n.startsWith("/")?n:rT(n,e):e,search:aT(r),hash:oT(i)}}function rT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function e2(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function B5(t,e){let n=iT(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function z5(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Uu(t):(i=Uh({},t),En(!i.pathname||!i.pathname.includes("?"),e2("?","pathname","search",i)),En(!i.pathname||!i.pathname.includes("#"),e2("#","pathname","hash",i)),En(!i.search||!i.search.includes("#"),e2("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=nT(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const fo=t=>t.join("/").replace(/\/\/+/g,"/"),sT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Lk=["post","put","patch","delete"];new Set(Lk);const cT=["get",...Lk];new Set(cT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(this,arguments)}const j5=se.createContext(null),uT=se.createContext(null),Oo=se.createContext(null),t0=se.createContext(null),Do=se.createContext({outlet:null,matches:[],isDataRoute:!1}),Ok=se.createContext(null);function dT(t,e){let{relative:n}=e===void 0?{}:e;Bu()||En(!1);let{basename:r,navigator:i}=se.useContext(Oo),{hash:s,pathname:a,search:o}=Fk(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:fo([r,a])),i.createHref({pathname:l,search:o,hash:s})}function Bu(){return se.useContext(t0)!=null}function zu(){return Bu()||En(!1),se.useContext(t0).location}function Dk(t){se.useContext(Oo).static||se.useLayoutEffect(t)}function ga(){let{isDataRoute:t}=se.useContext(Do);return t?ST():hT()}function hT(){Bu()||En(!1);let t=se.useContext(j5),{basename:e,future:n,navigator:r}=se.useContext(Oo),{matches:i}=se.useContext(Do),{pathname:s}=zu(),a=JSON.stringify(B5(i,n.v7_relativeSplatPath)),o=se.useRef(!1);return Dk(()=>{o.current=!0}),se.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=z5(c,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:fo([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,a,s,t])}function Fk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=se.useContext(Oo),{matches:i}=se.useContext(Do),{pathname:s}=zu(),a=JSON.stringify(B5(i,r.v7_relativeSplatPath));return se.useMemo(()=>z5(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function fT(t,e){return pT(t,e)}function pT(t,e,n,r){Bu()||En(!1);let{navigator:i}=se.useContext(Oo),{matches:s}=se.useContext(Do),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=zu(),u;if(e){var d;let b=typeof e=="string"?Uu(e):e;l==="/"||(d=b.pathname)!=null&&d.startsWith(l)||En(!1),u=b}else u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=jP(t,{pathname:h}),y=wT(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:fo([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:fo([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&y?se.createElement(t0.Provider,{value:{location:Bh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Qa.Pop}},y):y}function mT(){let t=ET(),e=lT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),n?se.createElement("pre",{style:i},n):null,null)}const gT=se.createElement(mT,null);class yT extends se.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?se.createElement(Do.Provider,{value:this.props.routeContext},se.createElement(Ok.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vT(t){let{routeContext:e,match:n,children:r}=t,i=se.useContext(j5);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),se.createElement(Do.Provider,{value:e},r)}function wT(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||En(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let h,g=!1,y=null,b=null;n&&(h=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||gT,l&&(c<0&&f===0?(kT("route-fallback"),g=!0,b=null):c===f&&(g=!0,b=d.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),w=()=>{let x;return h?x=y:g?x=b:d.route.Component?x=se.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,se.createElement(vT,{match:d,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?se.createElement(yT,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:w(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):w()},null)}var Mk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Mk||{}),Uk=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Uk||{});function bT(t){let e=se.useContext(j5);return e||En(!1),e}function xT(t){let e=se.useContext(uT);return e||En(!1),e}function _T(t){let e=se.useContext(Do);return e||En(!1),e}function Bk(t){let e=_T(),n=e.matches[e.matches.length-1];return n.route.id||En(!1),n.route.id}function ET(){var t;let e=se.useContext(Ok),n=xT(),r=Bk();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ST(){let{router:t}=bT(Mk.UseNavigateStable),e=Bk(Uk.UseNavigateStable),n=se.useRef(!1);return Dk(()=>{n.current=!0}),se.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Bh({fromRouteId:e},s)))},[t,e])}const o_={};function kT(t,e,n){o_[t]||(o_[t]=!0)}function RT(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function l_(t){let{to:e,replace:n,state:r,relative:i}=t;Bu()||En(!1);let{future:s,static:a}=se.useContext(Oo),{matches:o}=se.useContext(Do),{pathname:l}=zu(),c=ga(),u=z5(e,B5(o,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return se.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Dn(t){En(!1)}function NT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qa.Pop,navigator:s,static:a=!1,future:o}=t;Bu()&&En(!1);let l=e.replace(/^\/*/,"/"),c=se.useMemo(()=>({basename:l,navigator:s,static:a,future:Bh({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Uu(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:g="default"}=r,y=se.useMemo(()=>{let b=U5(u,l);return b==null?null:{location:{pathname:b,search:d,hash:f,state:h,key:g},navigationType:i}},[l,u,d,f,h,g,i]);return y==null?null:se.createElement(Oo.Provider,{value:c},se.createElement(t0.Provider,{children:n,value:y}))}function CT(t){let{children:e,location:n}=t;return fT(By(e),n)}new Promise(()=>{});function By(t,e){e===void 0&&(e=[]);let n=[];return se.Children.forEach(t,(r,i)=>{if(!se.isValidElement(r))return;let s=[...e,i];if(r.type===se.Fragment){n.push.apply(n,By(r.props.children,s));return}r.type!==Dn&&En(!1),!r.props.index||!r.props.children||En(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=By(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(this,arguments)}function AT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function IT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PT(t,e){return t.button===0&&(!e||e==="_self")&&!IT(t)}const TT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],LT="6";try{window.__reactRouterVersion=LT}catch{}const OT="startTransition",c_=T8[OT];function DT(t){let{basename:e,children:n,future:r,window:i}=t,s=se.useRef();s.current==null&&(s.current=UP({window:i,v5Compat:!0}));let a=s.current,[o,l]=se.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=se.useCallback(d=>{c&&c_?c_(()=>l(d)):l(d)},[l,c]);return se.useLayoutEffect(()=>a.listen(u),[a,u]),se.useEffect(()=>RT(r),[r]),se.createElement(NT,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const FT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=se.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=AT(e,TT),{basename:h}=se.useContext(Oo),g,y=!1;if(typeof c=="string"&&MT.test(c)&&(g=c,FT))try{let x=new URL(window.location.href),N=c.startsWith("//")?new URL(x.protocol+c):new URL(c),O=U5(N.pathname,h);N.origin===x.origin&&O!=null?c=O+N.search+N.hash:y=!0}catch{}let b=dT(c,{relative:i}),m=UT(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function w(x){r&&r(x),x.defaultPrevented||m(x)}return se.createElement("a",zy({},f,{href:g||b,onClick:y||s?r:w,ref:n,target:l}))});var u_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(u_||(u_={}));var d_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(d_||(d_={}));function UT(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=ga(),c=zu(),u=Fk(t,{relative:a});return se.useCallback(d=>{if(PT(d,n)){d.preventDefault();let f=r!==void 0?r:$m(c)===$m(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,r,i,n,t,s,a,o])}const BT=()=>{};var h_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ze=function(t,e){if(!t)throw ju(e)},ju=function(t){return new Error("Firebase Database ("+zk.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},V5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|o>>4;let f=(o&15)<<2|c>>6,h=c&63;l||(h=64,a||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||d==null)throw new jT;const f=s<<2|o>>4;if(r.push(f),c!==64){const h=o<<4&240|c>>2;if(r.push(h),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vk=function(t){const e=jk(t);return V5.encodeByteArray(e,!0)},Gm=function(t){return Vk(t).replace(/\./g,"")},Km=function(t){try{return V5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){return Wk(void 0,t)}function Wk(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!WT(n)||(t[n]=Wk(t[n],e[n]));return t}function WT(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=()=>HT().__FIREBASE_DEFAULTS__,$T=()=>{if(typeof process>"u"||typeof h_>"u")return;const t=h_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Km(t[1]);return e&&JSON.parse(e)},W5=()=>{try{return BT()||qT()||$T()||GT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hk=t=>{var e,n;return(n=(e=W5())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},KT=t=>{const e=Hk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qk=()=>{var t;return(t=W5())==null?void 0:t.config},$k=t=>{var e;return(e=W5())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gm(JSON.stringify(n)),Gm(JSON.stringify(a)),""].join(".")}const lh={};function XT(){const t={prod:[],emulator:[]};for(const e of Object.keys(lh))lh[e]?t.emulator.push(e):t.prod.push(e);return t}function QT(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let f_=!1;function Kk(t,e){if(typeof window>"u"||typeof document>"u"||!Vu(window.location.host)||lh[t]===e||lh[t]||f_)return;lh[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=XT().prod.length>0;function a(){const f=document.getElementById(r);f&&f.remove()}function o(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{f_=!0,a()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=QT(r),h=n("text"),g=document.getElementById(h)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),m=n("preprendIcon"),w=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const x=f.element;o(x),u(b,y);const N=c();l(w,m),x.append(w,g,b,N),document.body.appendChild(x)}s?(g.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cr())}function JT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eL(){const t=Cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tL(){return zk.NODE_ADMIN===!0}function nL(){try{return typeof indexedDB=="object"}catch{return!1}}function rL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL="FirebaseError";class Fo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iL,Object.setPrototypeOf(this,Fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cf.prototype.create)}}class cf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?sL(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Fo(i,o,r)}}function sL(t,e){return t.replace(aL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const aL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t){return JSON.parse(t)}function Un(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=zh(Km(s[0])||""),n=zh(Km(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},oL=function(t){const e=Xk(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},lL=function(t){const e=Xk(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Eu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function jy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ym(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Pl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(p_(s)&&p_(a)){if(!Pl(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function p_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Qd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=o^s&(a^o),u=1518500249):(c=s^a^o,u=1859775393):d<60?(c=s&a|o&(s|a),u=2400959708):(c=s^a^o,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=o,o=a,a=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function uL(t,e){const n=new dL(t,e);return n.subscribe.bind(n)}class dL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=t2),i.error===void 0&&(i.error=t2),i.complete===void 0&&(i.complete=t2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function t2(){}function n0(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ze(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},r0=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t){return t&&t._delegate?t._delegate:t}class Tl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gL(e))try{this.getOrInitializeService({instanceIdentifier:rl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rl){return this.instances.has(e)}getOptions(e=rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rl){return this.component?this.component.multipleInstances?e:rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mL(t){return t===rl?void 0:t}function gL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Mt||(Mt={}));const vL={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},wL=Mt.INFO,bL={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},xL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=bL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class q5{constructor(e){this.name=e,this._logLevel=wL,this._logHandler=xL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const _L=(t,e)=>e.some(n=>t instanceof n);let m_,g_;function EL(){return m_||(m_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SL(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qk=new WeakMap,Vy=new WeakMap,Jk=new WeakMap,n2=new WeakMap,$5=new WeakMap;function kL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(po(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Qk.set(n,t)}).catch(()=>{}),$5.set(e,t),e}function RL(t){if(Vy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Vy.set(t,e)}let Wy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return po(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NL(t){Wy=t(Wy)}function CL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(r2(this),e,...n);return Jk.set(r,e.sort?e.sort():[e]),po(r)}:SL().includes(t)?function(...e){return t.apply(r2(this),e),po(Qk.get(this))}:function(...e){return po(t.apply(r2(this),e))}}function AL(t){return typeof t=="function"?CL(t):(t instanceof IDBTransaction&&RL(t),_L(t,EL())?new Proxy(t,Wy):t)}function po(t){if(t instanceof IDBRequest)return kL(t);if(n2.has(t))return n2.get(t);const e=AL(t);return e!==t&&(n2.set(t,e),$5.set(e,t)),e}const r2=t=>$5.get(t);function IL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=po(a);return r&&a.addEventListener("upgradeneeded",l=>{r(po(a.result),l.oldVersion,l.newVersion,po(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const PL=["get","getKey","getAll","getAllKeys","count"],TL=["put","add","delete","clear"],i2=new Map;function y_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(i2.get(e))return i2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PL.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return i2.set(e,s),s}NL(t=>({...t,get:(e,n,r)=>y_(e,n)||t.get(e,n,r),has:(e,n)=>!!y_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hy="@firebase/app",v_="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new q5("@firebase/app"),DL="@firebase/app-compat",FL="@firebase/analytics-compat",ML="@firebase/analytics",UL="@firebase/app-check-compat",BL="@firebase/app-check",zL="@firebase/auth",jL="@firebase/auth-compat",VL="@firebase/database",WL="@firebase/data-connect",HL="@firebase/database-compat",qL="@firebase/functions",$L="@firebase/functions-compat",GL="@firebase/installations",KL="@firebase/installations-compat",YL="@firebase/messaging",XL="@firebase/messaging-compat",QL="@firebase/performance",JL="@firebase/performance-compat",ZL="@firebase/remote-config",e7="@firebase/remote-config-compat",t7="@firebase/storage",n7="@firebase/storage-compat",r7="@firebase/firestore",i7="@firebase/ai",s7="@firebase/firestore-compat",a7="firebase",o7="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="[DEFAULT]",l7={[Hy]:"fire-core",[DL]:"fire-core-compat",[ML]:"fire-analytics",[FL]:"fire-analytics-compat",[BL]:"fire-app-check",[UL]:"fire-app-check-compat",[zL]:"fire-auth",[jL]:"fire-auth-compat",[VL]:"fire-rtdb",[WL]:"fire-data-connect",[HL]:"fire-rtdb-compat",[qL]:"fire-fn",[$L]:"fire-fn-compat",[GL]:"fire-iid",[KL]:"fire-iid-compat",[YL]:"fire-fcm",[XL]:"fire-fcm-compat",[QL]:"fire-perf",[JL]:"fire-perf-compat",[ZL]:"fire-rc",[e7]:"fire-rc-compat",[t7]:"fire-gcs",[n7]:"fire-gcs-compat",[r7]:"fire-fst",[s7]:"fire-fst-compat",[i7]:"fire-vertex","fire-js":"fire-js",[a7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=new Map,c7=new Map,$y=new Map;function w_(t,e){try{t.container.addComponent(e)}catch(n){ca.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Su(t){const e=t.name;if($y.has(e))return ca.debug(`There were multiple attempts to register component ${e}.`),!1;$y.set(e,t);for(const n of Xm.values())w_(n,t);for(const n of c7.values())w_(n,t);return!0}function G5(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mo=new cf("app","Firebase",u7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=o7;function Zk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:qy,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw mo.create("bad-app-name",{appName:String(i)});if(n||(n=qk()),!n)throw mo.create("no-options");const s=Xm.get(i);if(s){if(Pl(n,s.options)&&Pl(r,s.config))return s;throw mo.create("duplicate-app",{appName:i})}const a=new yL(i);for(const l of $y.values())a.addComponent(l);const o=new d7(n,r,a);return Xm.set(i,o),o}function e6(t=qy){const e=Xm.get(t);if(!e&&t===qy&&qk())return Zk();if(!e)throw mo.create("no-app",{appName:t});return e}function go(t,e,n){let r=l7[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ca.warn(a.join(" "));return}Su(new Tl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7="firebase-heartbeat-database",f7=1,jh="firebase-heartbeat-store";let s2=null;function t6(){return s2||(s2=IL(h7,f7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jh)}catch(n){console.warn(n)}}}}).catch(t=>{throw mo.create("idb-open",{originalErrorMessage:t.message})})),s2}async function p7(t){try{const n=(await t6()).transaction(jh),r=await n.objectStore(jh).get(n6(t));return await n.done,r}catch(e){if(e instanceof Fo)ca.warn(e.message);else{const n=mo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ca.warn(n.message)}}}async function b_(t,e){try{const r=(await t6()).transaction(jh,"readwrite");await r.objectStore(jh).put(e,n6(t)),await r.done}catch(n){if(n instanceof Fo)ca.warn(n.message);else{const r=mo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ca.warn(r.message)}}}function n6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=1024,g7=30;class y7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new w7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=x_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>g7){const a=b7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ca.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=x_(),{heartbeatsToSend:r,unsentEntries:i}=v7(this._heartbeatsCache.heartbeats),s=Gm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ca.warn(n),""}}}function x_(){return new Date().toISOString().substring(0,10)}function v7(t,e=m7){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),__(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),__(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class w7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nL()?rL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function __(t){return Gm(JSON.stringify({version:2,heartbeats:t})).length}function b7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(t){Su(new Tl("platform-logger",e=>new LL(e),"PRIVATE")),Su(new Tl("heartbeat",e=>new y7(e),"PRIVATE")),go(Hy,v_,t),go(Hy,v_,"esm2020"),go("fire-js","")}x7("");function r6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _7=r6,i6=new cf("auth","Firebase",r6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=new q5("@firebase/auth");function E7(t,...e){Qm.logLevel<=Mt.WARN&&Qm.warn(`Auth (${Hu}): ${t}`,...e)}function am(t,...e){Qm.logLevel<=Mt.ERROR&&Qm.error(`Auth (${Hu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...e){throw Y5(t,...e)}function Zi(t,...e){return Y5(t,...e)}function K5(t,e,n){const r={..._7(),[e]:n};return new cf("auth","Firebase",r).create(e,{appName:t.name})}function ta(t){return K5(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S7(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ci(t,"argument-error"),K5(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Y5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return i6.create(t,...e)}function ot(t,e,...n){if(!t)throw Y5(e,...n)}function Xs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw am(e),new Error(e)}function ua(t,e){t||Xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function k7(){return E_()==="http:"||E_()==="https:"}function E_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k7()||ZT()||"connection"in navigator)?navigator.onLine:!0}function N7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ua(n>e,"Short delay should be less than long delay!"),this.isMobile=H5()||Yk()}get(){return R7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t,e){ua(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I7=new uf(3e4,6e4);function ya(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function As(t,e,n,r,i={}){return a6(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Wu({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return JT()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Vu(t.emulatorConfig.host)&&(c.credentials="include"),s6.fetch()(await o6(t,t.config.apiHost,n,o),c)})}async function a6(t,e,n){t._canInitEmulator=!1;const r={...C7,...e};try{const i=new T7(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Lp(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lp(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Lp(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Lp(t,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw K5(t,u,c);Ci(t,u)}}catch(i){if(i instanceof Fo)throw i;Ci(t,"network-request-failed",{message:String(i)})}}async function df(t,e,n,r,i={}){const s=await As(t,e,n,r,i);return"mfaPendingCredential"in s&&Ci(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function o6(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?X5(t.config,i):`${t.config.apiScheme}://${i}`;return A7.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function P7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class T7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zi(this.auth,"network-request-failed")),I7.get())})}}function Lp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zi(t,e,r);return i.customData._tokenResponse=n,i}function S_(t){return t!==void 0&&t.enterprise!==void 0}class L7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O7(t,e){return As(t,"GET","/v2/recaptchaConfig",ya(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D7(t,e){return As(t,"POST","/v1/accounts:delete",e)}async function Jm(t,e){return As(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F7(t,e=!1){const n=Xn(t),r=await n.getIdToken(e),i=Q5(r);ot(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ch(a2(i.auth_time)),issuedAtTime:ch(a2(i.iat)),expirationTime:ch(a2(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function a2(t){return Number(t)*1e3}function Q5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return am("JWT malformed, contained fewer than 3 sections"),null;try{const i=Km(n);return i?JSON.parse(i):(am("Failed to decode base64 JWT payload"),null)}catch(i){return am("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function k_(t){const e=Q5(t);return ot(e,"internal-error"),ot(typeof e.exp<"u","internal-error"),ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fo&&M7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function M7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ch(this.lastLoginAt),this.creationTime=ch(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zm(t){var d;const e=t.auth,n=await t.getIdToken(),r=await ku(t,Jm(e,{idToken:n}));ot(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?l6(i.providerUserInfo):[],a=z7(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ky(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function B7(t){const e=Xn(t);await Zm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function l6(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j7(t,e){const n=await a6(t,{},async()=>{const r=Wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await o6(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Vu(t.emulatorConfig.host)&&(l.credentials="include"),s6.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function V7(t,e){return As(t,"POST","/v2/accounts:revokeToken",ya(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ot(e.idToken,"internal-error"),ot(typeof e.idToken<"u","internal-error"),ot(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ot(e.length!==0,"internal-error");const n=k_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await j7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new su;return r&&(ot(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ot(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ot(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new su,this.toJSON())}_performRefresh(){return Xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t,e){ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ki{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new U7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ky(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ku(this,this.stsTokenManager.getToken(this.auth,e));return ot(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F7(this,e)}reload(){return B7(this)}_assign(e){this!==e&&(ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ki({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(ta(this.auth));const e=await this.getIdToken();return await ku(this,D7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:h,providerData:g,stsTokenManager:y}=n;ot(d&&y,e,"internal-error");const b=su.fromJSON(this.name,y);ot(typeof d=="string",e,"internal-error"),Oa(r,e.name),Oa(i,e.name),ot(typeof f=="boolean",e,"internal-error"),ot(typeof h=="boolean",e,"internal-error"),Oa(s,e.name),Oa(a,e.name),Oa(o,e.name),Oa(l,e.name),Oa(c,e.name),Oa(u,e.name);const m=new Ki({uid:d,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:h,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:b,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(m.providerData=g.map(w=>({...w}))),l&&(m._redirectEventId=l),m}static async _fromIdTokenResponse(e,n,r=!1){const i=new su;i.updateFromServerResponse(n);const s=new Ki({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ot(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?l6(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new su;o.updateFromIdToken(r);const l=new Ki({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ky(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;function Qs(t){ua(t instanceof Function,"Expected a class definition");let e=R_.get(t);return e?(ua(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}c6.type="NONE";const N_=c6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t,e,n){return`firebase:${t}:${e}:${n}`}class au{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=om(this.userKey,i.apiKey,s),this.fullPersistenceKey=om("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jm(this.auth,{idToken:e}).catch(()=>{});return n?Ki._fromGetAccountInfoResponse(this.auth,n,e):null}return Ki._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new au(Qs(N_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Qs(N_);const a=om(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(a);if(u){let d;if(typeof u=="string"){const f=await Jm(e,{idToken:u}).catch(()=>{});if(!f)break;d=await Ki._fromGetAccountInfoResponse(e,f,u)}else d=Ki._fromJSON(e,u);c!==s&&(o=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new au(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new au(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m6(e))return"Blackberry";if(g6(e))return"Webos";if(d6(e))return"Safari";if((e.includes("chrome/")||h6(e))&&!e.includes("edge/"))return"Chrome";if(p6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function u6(t=Cr()){return/firefox\//i.test(t)}function d6(t=Cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h6(t=Cr()){return/crios\//i.test(t)}function f6(t=Cr()){return/iemobile/i.test(t)}function p6(t=Cr()){return/android/i.test(t)}function m6(t=Cr()){return/blackberry/i.test(t)}function g6(t=Cr()){return/webos/i.test(t)}function J5(t=Cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W7(t=Cr()){var e;return J5(t)&&!!((e=window.navigator)!=null&&e.standalone)}function H7(){return eL()&&document.documentMode===10}function y6(t=Cr()){return J5(t)||p6(t)||g6(t)||m6(t)||/windows phone/i.test(t)||f6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t,e=[]){let n;switch(t){case"Browser":n=C_(Cr());break;case"Worker":n=`${C_(Cr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $7(t,e={}){return As(t,"GET","/v2/passwordPolicy",ya(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=6;class K7{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??G7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A_(this),this.idTokenSubscription=new A_(this),this.beforeStateQueue=new q7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qs(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await au.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jm(this,{idToken:e}),r=await Ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Zr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zr(this.app))return Promise.reject(ta(this));const n=e?Xn(e):null;return n&&ot(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zr(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $7(this),n=new K7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await V7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qs(e)||this._popupRedirectResolver;ot(n,this,"argument-error"),this.redirectPersistenceManager=await au.create(this,[Qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ot(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&E7(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function va(t){return Xn(t)}class A_{constructor(e){this.auth=e,this.observer=null,this.addObserver=uL(n=>this.observer=n)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X7(t){i0=t}function w6(t){return i0.loadJS(t)}function Q7(){return i0.recaptchaEnterpriseScript}function J7(){return i0.gapiScript}function Z7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eO{constructor(){this.enterprise=new tO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nO="recaptcha-enterprise",b6="NO_RECAPTCHA";class rO{constructor(e){this.type=nO,this.auth=va(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{O7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new L7(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;S_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(b6)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eO().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&S_(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Q7();l.length!==0&&(l+=o),w6(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function I_(t,e,n,r=!1,i=!1){const s=new rO(t);let a;if(i)a=b6;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function eg(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await I_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await I_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t,e){const n=G5(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Pl(s,e??{}))return i;Ci(i,"already-initialized")}return n.initialize({options:e})}function sO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aO(t,e,n){const r=va(t);ot(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=x6(e),{host:a,port:o}=oO(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ot(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ot(Pl(c,r.config.emulator)&&Pl(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Vu(a)?(Gk(`${s}//${a}${l}`),Kk("Auth",!0)):lO()}function x6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oO(t){const e=x6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:P_(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:P_(a)}}}function P_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xs("not implemented")}_getIdTokenResponse(e){return Xs("not implemented")}_linkToIdToken(e,n){return Xs("not implemented")}_getReauthenticationResolver(e){return Xs("not implemented")}}async function cO(t,e){return As(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(t,e){return df(t,"POST","/v1/accounts:signInWithPassword",ya(t,e))}async function _6(t,e){return As(t,"POST","/v1/accounts:sendOobCode",ya(t,e))}async function dO(t,e){return _6(t,e)}async function hO(t,e){return _6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(t,e){return df(t,"POST","/v1/accounts:signInWithEmailLink",ya(t,e))}async function pO(t,e){return df(t,"POST","/v1/accounts:signInWithEmailLink",ya(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends Z5{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Vh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(e,n,"signInWithPassword",uO);case"emailLink":return fO(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(e,r,"signUpPassword",cO);case"emailLink":return pO(e,{idToken:n,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t,e){return df(t,"POST","/v1/accounts:signInWithIdp",ya(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="http://localhost";class Ll extends Z5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ll(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Ll(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ou(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ou(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ou(e,n)}buildRequest(){const e={requestUri:mO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yO(t){const e=Xd(Qd(t)).link,n=e?Xd(Qd(e)).deep_link_id:null,r=Xd(Qd(t)).deep_link_id;return(r?Xd(Qd(r)).link:null)||r||n||e||t}class ew{constructor(e){const n=Xd(Qd(e)),r=n.apiKey??null,i=n.oobCode??null,s=gO(n.mode??null);ot(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yO(e);try{return new ew(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.providerId=qu.PROVIDER_ID}static credential(e,n){return Vh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ew.parseLink(n);return ot(r,"argument-error"),Vh._fromEmailAndCode(e,r.code,r.tenantId)}}qu.PROVIDER_ID="password";qu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends tw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends hf{constructor(){super("facebook.com")}static credential(e){return Ll._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ha.credential(e.oauthAccessToken)}catch{return null}}}Ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ha.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends hf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ll._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bs.credential(n,r)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends hf{constructor(){super("github.com")}static credential(e){return Ll._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qa.credential(e.oauthAccessToken)}catch{return null}}}qa.GITHUB_SIGN_IN_METHOD="github.com";qa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends hf{constructor(){super("twitter.com")}static credential(e,n){return Ll._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $a.credential(n,r)}catch{return null}}}$a.TWITTER_SIGN_IN_METHOD="twitter.com";$a.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(t,e){return df(t,"POST","/v1/accounts:signUp",ya(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ki._fromIdTokenResponse(e,r,i),a=T_(r);return new Ol({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=T_(r);return new Ol({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function T_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends Fo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,tg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new tg(e,n,r,i)}}function E6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?tg._fromErrorAndOperation(t,s,e,r):s})}async function wO(t,e,n=!1){const r=await ku(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ol._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(t,e,n=!1){const{auth:r}=t;if(Zr(r.app))return Promise.reject(ta(r));const i="reauthenticate";try{const s=await ku(t,E6(r,i,e,t),n);ot(s.idToken,r,"internal-error");const a=Q5(s.idToken);ot(a,r,"internal-error");const{sub:o}=a;return ot(t.uid===o,r,"user-mismatch"),Ol._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ci(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t,e,n=!1){if(Zr(t.app))return Promise.reject(ta(t));const r="signIn",i=await E6(t,r,e),s=await Ol._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function xO(t,e){return S6(va(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t){const e=va(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _O(t,e,n){const r=va(t);await eg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",hO)}async function EO(t,e,n){if(Zr(t.app))return Promise.reject(ta(t));const r=va(t),a=await eg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vO).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&k6(t),l}),o=await Ol._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function SO(t,e,n){return Zr(t.app)?Promise.reject(ta(t)):xO(Xn(t),qu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&k6(t),r})}async function L_(t,e){const n=Xn(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await dO(n.auth,i);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(t,e){return As(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Xn(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await ku(r,kO(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function NO(t,e,n,r){return Xn(t).onIdTokenChanged(e,n,r)}function CO(t,e,n){return Xn(t).beforeAuthStateChanged(e,n)}function AO(t,e,n,r){return Xn(t).onAuthStateChanged(e,n,r)}function IO(t){return Xn(t).signOut()}const ng="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ng,"1"),this.storage.removeItem(ng),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=1e3,TO=10;class N6 extends R6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);H7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,TO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}N6.type="LOCAL";const LO=N6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6 extends R6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C6.type="SESSION";const A6=C6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new s0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await OO(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}s0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=nw("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(){return window}function FO(t){Ss().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(){return typeof Ss().WorkerGlobalScope<"u"&&typeof Ss().importScripts=="function"}async function MO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function BO(){return I6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="firebaseLocalStorageDb",zO=1,rg="firebaseLocalStorage",T6="fbase_key";class ff{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function a0(t,e){return t.transaction([rg],e?"readwrite":"readonly").objectStore(rg)}function jO(){const t=indexedDB.deleteDatabase(P6);return new ff(t).toPromise()}function Yy(){const t=indexedDB.open(P6,zO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rg,{keyPath:T6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rg)?e(r):(r.close(),await jO(),e(await Yy()))})})}async function O_(t,e,n){const r=a0(t,!0).put({[T6]:e,value:n});return new ff(r).toPromise()}async function VO(t,e){const n=a0(t,!1).get(e),r=await new ff(n).toPromise();return r===void 0?null:r.value}function D_(t,e){const n=a0(t,!0).delete(e);return new ff(n).toPromise()}const WO=800,HO=3;class L6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>HO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=s0._getInstance(BO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await MO(),!this.activeServiceWorker)return;this.sender=new DO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yy();return await O_(e,ng,"1"),await D_(e,ng),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>O_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>D_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=a0(i,!1).getAll();return new ff(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L6.type="LOCAL";const qO=L6;new uf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t,e){return e?Qs(e):(ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends Z5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ou(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ou(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ou(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $O(t){return S6(t.auth,new rw(t),t.bypassAuthState)}function GO(t){const{auth:e,user:n}=t;return ot(n,e,"internal-error"),bO(n,new rw(t),t.bypassAuthState)}async function KO(t){const{auth:e,user:n}=t;return ot(n,e,"internal-error"),wO(n,new rw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $O;case"linkViaPopup":case"linkViaRedirect":return KO;case"reauthViaPopup":case"reauthViaRedirect":return GO;default:Ci(this.auth,"internal-error")}}resolve(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new uf(2e3,1e4);async function XO(t,e,n){if(Zr(t.app))return Promise.reject(Zi(t,"operation-not-supported-in-this-environment"));const r=va(t);S7(t,e,tw);const i=O6(r,n);return new fl(r,"signInViaPopup",e,i).executeNotNull()}class fl extends D6{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ot(e,this.auth,"internal-error"),e}async onExecution(){ua(this.filter.length===1,"Popup operations only handle one event");const e=nw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YO.get())};e()}}fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="pendingRedirect",lm=new Map;class JO extends D6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lm.get(this.auth._key());if(!e){try{const r=await ZO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lm.set(this.auth._key(),e)}return this.bypassAuthState||lm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZO(t,e){const n=nD(e),r=tD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function eD(t,e){lm.set(t._key(),e)}function tD(t){return Qs(t._redirectPersistence)}function nD(t){return om(QO,t.config.apiKey,t.name)}async function rD(t,e,n=!1){if(Zr(t.app))return Promise.reject(ta(t));const r=va(t),i=O6(r,e),a=await new JO(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=10*60*1e3;class sD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!F6(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iD&&this.cachedEventUids.clear(),this.cachedEventUids.has(F_(e))}saveEventToCache(e){this.cachedEventUids.add(F_(e)),this.lastProcessedEventTime=Date.now()}}function F_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function F6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(t,e={}){return As(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cD=/^https?/;async function uD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oD(t);for(const n of e)try{if(dD(n))return}catch{}Ci(t,"unauthorized-domain")}function dD(t){const e=Gy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!cD.test(n))return!1;if(lD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new uf(3e4,6e4);function M_(){const t=Ss().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fD(t){return new Promise((e,n)=>{var i,s,a;function r(){M_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M_(),n(Zi(t,"network-request-failed"))},timeout:hD.get()})}if((s=(i=Ss().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Ss().gapi)!=null&&a.load)r();else{const o=Z7("iframefcb");return Ss()[o]=()=>{gapi.load?r():n(Zi(t,"network-request-failed"))},w6(`${J7()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw cm=null,e})}let cm=null;function pD(t){return cm=cm||fD(t),cm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=new uf(5e3,15e3),gD="__/auth/iframe",yD="emulator/auth/iframe",vD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bD(t){const e=t.config;ot(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?X5(e,yD):`https://${t.config.authDomain}/${gD}`,r={apiKey:e.apiKey,appName:t.name,v:Hu},i=wD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Wu(r).slice(1)}`}async function xD(t){const e=await pD(t),n=Ss().gapi;return ot(n,t,"internal-error"),e.open({where:document.body,url:bD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Zi(t,"network-request-failed"),o=Ss().setTimeout(()=>{s(a)},mD.get());function l(){Ss().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ED=500,SD=600,kD="_blank",RD="http://localhost";class U_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ND(t,e,n,r=ED,i=SD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={..._D,width:r.toString(),height:i.toString(),top:s,left:a},c=Cr().toLowerCase();n&&(o=h6(c)?kD:n),u6(c)&&(e=e||RD,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,g])=>`${f}${h}=${g},`,"");if(W7(c)&&o!=="_self")return CD(e||"",o),new U_(null);const d=window.open(e||"",o,u);ot(d,t,"popup-blocked");try{d.focus()}catch{}return new U_(d)}function CD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="__/auth/handler",ID="emulator/auth/handler",PD=encodeURIComponent("fac");async function B_(t,e,n,r,i,s){ot(t.config.authDomain,t,"auth-domain-config-required"),ot(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hu,eventId:i};if(e instanceof tw){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",jy(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))a[u]=d}if(e instanceof hf){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${PD}=${encodeURIComponent(l)}`:"";return`${TD(t)}?${Wu(o).slice(1)}${c}`}function TD({config:t}){return t.emulator?X5(t,ID):`https://${t.authDomain}/${AD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="webStorageSupport";class LD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A6,this._completeRedirectFn=rD,this._overrideRedirectResult=eD}async _openPopup(e,n,r,i){var a;ua((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await B_(e,n,r,Gy(),i);return ND(e,s,nw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await B_(e,n,r,Gy(),i);return FO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ua(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xD(e),r=new sD(e);return n.register("authEvent",i=>(ot(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(o2,{type:o2},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[o2];s!==void 0&&n(!!s),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return y6()||d6()||J5()}}const OD=LD;var z_="@firebase/auth",j_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MD(t){Su(new Tl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;ot(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v6(t)},c=new Y7(r,i,s,l);return sO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Su(new Tl("auth-internal",e=>{const n=va(e.getProvider("auth").getImmediate());return(r=>new DD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),go(z_,j_,FD(t)),go(z_,j_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=5*60,BD=$k("authIdTokenMaxAge")||UD;let V_=null;const zD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>BD)return;const i=n==null?void 0:n.token;V_!==i&&(V_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jD(t=e6()){const e=G5(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iO(t,{popupRedirectResolver:OD,persistence:[qO,LO,A6]}),r=$k("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=zD(s.toString());CO(n,a,()=>a(n.currentUser)),NO(n,o=>a(o))}}const i=Hk("auth");return i&&aO(n,`http://${i}`),n}function VD(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}X7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",VD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MD("Browser");var WD="firebase",HD="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */go(WD,HD,"app");var W_={};const H_="@firebase/database",q_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M6="";function U6(t){M6=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Un(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:zh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Cs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new qD(e)}}catch{}return new $D},pl=B6("localStorage"),GD=B6("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=new q5("@firebase/database"),KD=function(){let t=1;return function(){return t++}}(),z6=function(t){const e=fL(t),n=new cL;n.update(e);const r=n.digest();return V5.encodeByteArray(r)},pf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=pf.apply(null,r):typeof r=="object"?e+=Un(r):e+=r,e+=" "}return e};let uh=null,$_=!0;const YD=function(t,e){ze(!0,"Can't turn on custom loggers persistently."),lu.logLevel=Mt.VERBOSE,uh=lu.log.bind(lu)},er=function(...t){if($_===!0&&($_=!1,uh===null&&GD.get("logging_enabled")===!0&&YD()),uh){const e=pf.apply(null,t);uh(e)}},mf=function(t){return function(...e){er(t,...e)}},Xy=function(...t){const e="FIREBASE INTERNAL ERROR: "+pf(...t);lu.error(e)},da=function(...t){const e=`FIREBASE FATAL ERROR: ${pf(...t)}`;throw lu.error(e),new Error(e)},Nr=function(...t){const e="FIREBASE WARNING: "+pf(...t);lu.warn(e)},XD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Nr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},iw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},QD=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ru="[MIN_NAME]",Dl="[MAX_NAME]",Hl=function(t,e){if(t===e)return 0;if(t===Ru||e===Dl)return-1;if(e===Ru||t===Dl)return 1;{const n=G_(t),r=G_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},JD=function(t,e){return t===e?0:t<e?-1:1},Dd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Un(e))},sw=function(t){if(typeof t!="object"||t===null)return Un(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Un(e[r]),n+=":",n+=sw(t[e[r]]);return n+="}",n},j6=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function rr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const V6=function(t){ze(!iw(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,a,o,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=o+r,a=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},ZD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},eF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function tF(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const nF=new RegExp("^-?(0*)\\d{1,10}$"),rF=-2147483648,iF=2147483647,G_=function(t){if(nF.test(t)){const e=Number(t);if(e>=rF&&e<=iF)return e}return null},$u=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Nr("Exception was thrown by user callback.",n),e},Math.floor(0))}},sF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},dh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Zr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Nr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(er("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Nr(e)}}class um{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}um.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="5",W6="v",H6="s",q6="r",$6="f",G6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,K6="ls",Y6="p",Qy="ac",X6="websocket",Q6="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,n,r,i,s=!1,a="",o=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=pl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&pl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function lF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Z6(t,e,n){ze(typeof e=="string","typeof type must == string"),ze(typeof n=="object","typeof params must == object");let r;if(e===X6)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Q6)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);lF(t)&&(n.ns=t.namespace);const i=[];return rr(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.counters_={}}incrementCounter(e,n=1){Cs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return VT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2={},c2={};function ow(t){const e=t.toString();return l2[e]||(l2[e]=new cF),l2[e]}function uF(t,e){const n=t.toString();return c2[n]||(c2[n]=e()),c2[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&$u(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="start",hF="close",fF="pLPCommand",pF="pRTLPCB",eR="id",tR="pw",nR="ser",mF="cb",gF="seg",yF="ts",vF="d",wF="dframe",rR=1870,iR=30,bF=rR-iR,xF=25e3,_F=3e4;class qc{constructor(e,n,r,i,s,a,o){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mf(e),this.stats_=ow(n),this.urlFn=l=>(this.appCheckToken&&(l[Qy]=this.appCheckToken),Z6(n,Q6,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new dF(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(_F)),QD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new lw((...s)=>{const[a,o,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===K_)this.id=o,this.password=l;else if(a===hF)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const r={};r[K_]="t",r[nR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[mF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[W6]=aw,this.transportSessionId&&(r[H6]=this.transportSessionId),this.lastSessionId&&(r[K6]=this.lastSessionId),this.applicationId&&(r[Y6]=this.applicationId),this.appCheckToken&&(r[Qy]=this.appCheckToken),typeof location<"u"&&location.hostname&&G6.test(location.hostname)&&(r[q6]=$6);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qc.forceAllow_=!0}static forceDisallow(){qc.forceDisallow_=!0}static isAvailable(){return qc.forceAllow_?!0:!qc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ZD()&&!eF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Un(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Vk(n),i=j6(r,bF);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[wF]="t",r[eR]=e,r[tR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Un(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class lw{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=KD(),window[fF+this.uniqueCallbackIdentifier]=e,window[pF+this.uniqueCallbackIdentifier]=n,this.myIFrame=lw.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){er("frame writing exception"),o.stack&&er(o.stack),er(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||er("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[eR]=this.myID,e[tR]=this.myPW,e[nR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+iR+r.length<=rR;){const a=this.pendingSegs.shift();r=r+"&"+gF+i+"="+a.seg+"&"+yF+i+"="+a.ts+"&"+vF+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(xF)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{er("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=16384,SF=45e3;let ig=null;typeof MozWebSocket<"u"?ig=MozWebSocket:typeof WebSocket<"u"&&(ig=WebSocket);class Gi{constructor(e,n,r,i,s,a,o){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mf(this.connId),this.stats_=ow(n),this.connURL=Gi.connectionURL_(n,a,o,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const a={};return a[W6]=aw,typeof location<"u"&&location.hostname&&G6.test(location.hostname)&&(a[q6]=$6),n&&(a[H6]=n),r&&(a[K6]=r),i&&(a[Qy]=i),s&&(a[Y6]=s),Z6(e,X6,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,pl.set("previous_websocket_failure",!0);try{let r;tL(),this.mySock=new ig(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Gi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ig!==null&&!Gi.forceDisallow_}static previouslyFailed(){return pl.isInMemoryStorage||pl.get("previous_websocket_failure")===!0}markConnectionHealthy(){pl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=zh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ze(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Un(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=j6(n,EF);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(SF))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Gi.responsesRequiredToBeHealthy=2;Gi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{static get ALL_TRANSPORTS(){return[qc,Gi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Gi&&Gi.isAvailable();let r=n&&!Gi.previouslyFailed();if(e.webSocketOnly&&(n||Nr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Gi];else{const i=this.transports_=[];for(const s of Wh.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Wh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=6e4,RF=5e3,NF=10*1024,CF=100*1024,u2="t",Y_="d",AF="s",X_="r",IF="e",Q_="o",J_="a",Z_="n",e3="p",PF="h";class TF{constructor(e,n,r,i,s,a,o,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mf("c:"+this.id+":"),this.transportManager_=new Wh(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=dh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>CF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>NF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(u2 in e){const n=e[u2];n===J_?this.upgradeIfSecondaryHealthy_():n===X_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Q_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Dd("t",e),r=Dd("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:e3,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:J_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Z_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Dd("t",e),r=Dd("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Dd(u2,e);if(Y_ in e){const r=e[Y_];if(n===PF){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Z_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===AF?this.onConnectionShutdown_(r):n===X_?this.onReset_(r):n===IF?Xy("Server Error: "+r):n===Q_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xy("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),aw!==r&&Nr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),dh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(kF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(RF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:e3,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(pl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.allowedEvents_=e,this.listeners_={},ze(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ze(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends aR{static getInstance(){return new sg}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!H5()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ze(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=32,n3=768;class Ut{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function At(){return new Ut("")}function yt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Eo(t){return t.pieces_.length-t.pieceNum_}function qt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ut(t.pieces_,e)}function cw(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function LF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Hh(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function oR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ut(e,0)}function dn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ut)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ut(n,0)}function wt(t){return t.pieceNum_>=t.pieces_.length}function kr(t,e){const n=yt(t),r=yt(e);if(n===null)return e;if(n===r)return kr(qt(t),qt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function OF(t,e){const n=Hh(t,0),r=Hh(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Hl(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function uw(t,e){if(Eo(t)!==Eo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function _i(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Eo(t)>Eo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class DF{constructor(e,n){this.errorPrefix_=n,this.parts_=Hh(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=r0(this.parts_[r]);lR(this)}}function FF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=r0(e),lR(t)}function MF(t){const e=t.parts_.pop();t.byteLength_-=r0(e),t.parts_.length>0&&(t.byteLength_-=1)}function lR(t){if(t.byteLength_>n3)throw new Error(t.errorPrefix_+"has a key path longer than "+n3+" bytes ("+t.byteLength_+").");if(t.parts_.length>t3)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t3+") or object contains a cycle "+il(t))}function il(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends aR{static getInstance(){return new dw}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ze(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=1e3,UF=60*5*1e3,r3=30*1e3,BF=1.3,zF=3e4,jF="server_kill",i3=3;class na extends sR{constructor(e,n,r,i,s,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=na.nextPersistentConnectionId_++,this.log_=mf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fd,this.maxReconnectDelay_=UF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dw.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&sg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Un(s)),ze(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new lf,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),ze(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ze(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,o=>{const l=o.d,c=o.s;na.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",o),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Cs(e,"w")){const r=Eu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Nr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||lL(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=r3)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=oL(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ze(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Un(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Xy("Unrecognized action received from server: "+Un(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ze(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Fd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>zF&&(this.reconnectDelay_=Fd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*BF)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+na.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,r())},c=function(d){ze(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?er("getToken() completed but was canceled"):(er("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,o=new TF(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,h=>{Nr(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(jF)},s))}catch(d){this.log_("Failed to get token: "+d),a||(this.repoInfo_.nodeAdmin&&Nr(d),l())}}}interrupt(e){er("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){er("Resuming connection for reason: "+e),delete this.interruptReasons_[e],jy(this.interruptReasons_)&&(this.reconnectDelay_=Fd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>sw(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ut(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){er("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=i3&&(this.reconnectDelay_=r3,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){er("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=i3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+M6.replace(/\./g,"-")]=1,H5()?e["framework.cordova"]=1:Yk()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=sg.getInstance().currentlyOnline();return jy(this.interruptReasons_)&&e}}na.nextPersistentConnectionId_=0;na.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new vt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new vt(Ru,e),i=new vt(Ru,n);return this.compare(r,i)!==0}minPost(){return vt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op;class cR extends o0{static get __EMPTY_NODE(){return Op}static set __EMPTY_NODE(e){Op=e}compare(e,n){return Hl(e.name,n.name)}isDefinedOn(e){throw ju("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return vt.MIN}maxPost(){return new vt(Dl,Op)}makePost(e,n){return ze(typeof e=="string","KeyIndex indexValue must always be a string."),new vt(e,Op)}toString(){return".key"}}const cu=new cR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class $n{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??$n.RED,this.left=i??jr.EMPTY_NODE,this.right=s??jr.EMPTY_NODE}copy(e,n,r,i,s){return new $n(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return jr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return jr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}$n.RED=!0;$n.BLACK=!1;class VF{copy(e,n,r,i,s){return this}insert(e,n,r){return new $n(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class jr{constructor(e,n=jr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new jr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,$n.BLACK,null,null))}remove(e){return new jr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$n.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Dp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Dp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Dp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Dp(this.root_,null,this.comparator_,!0,e)}}jr.EMPTY_NODE=new VF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(t,e){return Hl(t.name,e.name)}function hw(t,e){return Hl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jy;function HF(t){Jy=t}const uR=function(t){return typeof t=="number"?"number:"+V6(t):"string:"+t},dR=function(t){if(t.isLeafNode()){const e=t.val();ze(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Cs(e,".sv"),"Priority must be a string or number.")}else ze(t===Jy||t.isEmpty(),"priority of unexpected type.");ze(t===Jy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s3;class Hn{static set __childrenNodeConstructor(e){s3=e}static get __childrenNodeConstructor(){return s3}constructor(e,n=Hn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ze(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),dR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Hn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Hn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return wt(e)?this:yt(e)===".priority"?this.priorityNode_:Hn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Hn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=yt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ze(r!==".priority"||Eo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Hn.__childrenNodeConstructor.EMPTY_NODE.updateChild(qt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+uR(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=V6(this.value_):e+=this.value_,this.lazyHash_=z6(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Hn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Hn.__childrenNodeConstructor?-1:(ze(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Hn.VALUE_TYPE_ORDER.indexOf(n),s=Hn.VALUE_TYPE_ORDER.indexOf(r);return ze(i>=0,"Unknown leaf type: "+n),ze(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Hn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hR,fR;function qF(t){hR=t}function $F(t){fR=t}class GF extends o0{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Hl(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return vt.MIN}maxPost(){return new vt(Dl,new Hn("[PRIORITY-POST]",fR))}makePost(e,n){const r=hR(e);return new vt(n,new Hn("[PRIORITY-POST]",r))}toString(){return".priority"}}const hn=new GF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=Math.log(2);class YF{constructor(e){const n=s=>parseInt(Math.log(s)/KF,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ag=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new $n(f,d.node,$n.BLACK,null,null);{const h=parseInt(u/2,10)+l,g=i(l,h),y=i(h+1,c);return d=t[h],f=n?n(d):d,new $n(f,d.node,$n.BLACK,g,y)}},s=function(l){let c=null,u=null,d=t.length;const f=function(g,y){const b=d-g,m=d;d-=g;const w=i(b+1,m),x=t[b],N=n?n(x):x;h(new $n(N,x.node,y,null,w))},h=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const y=l.nextBitIsOne(),b=Math.pow(2,l.count-(g+1));y?f(b,$n.BLACK):(f(b,$n.BLACK),f(b,$n.RED))}return u},a=new YF(t.length),o=s(a);return new jr(r||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d2;const Cc={};class Js{static get Default(){return ze(Cc&&hn,"ChildrenNode.ts has not been loaded"),d2=d2||new Js({".priority":Cc},{".priority":hn}),d2}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Eu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof jr?n:null}hasIndex(e){return Cs(this.indexSet_,e.toString())}addIndex(e,n){ze(e!==cu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(vt.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();let o;i?o=ag(r,e.getCompare()):o=Cc;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=o,new Js(u,c)}addToIndexes(e,n){const r=Ym(this.indexes_,(i,s)=>{const a=Eu(this.indexSet_,s);if(ze(a,"Missing index implementation for "+s),i===Cc)if(a.isDefinedOn(e.node)){const o=[],l=n.getIterator(vt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&o.push(c),c=l.getNext();return o.push(e),ag(o,a.getCompare())}else return Cc;else{const o=n.get(e.name);let l=i;return o&&(l=l.remove(new vt(e.name,o))),l.insert(e,e.node)}});return new Js(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ym(this.indexes_,i=>{if(i===Cc)return i;{const s=n.get(e.name);return s?i.remove(new vt(e.name,s)):i}});return new Js(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md;class lt{static get EMPTY_NODE(){return Md||(Md=new lt(new jr(hw),null,Js.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&dR(this.priorityNode_),this.children_.isEmpty()&&ze(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Md}updatePriority(e){return this.children_.isEmpty()?this:new lt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Md:n}}getChild(e){const n=yt(e);return n===null?this:this.getImmediateChild(n).getChild(qt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ze(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new vt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?Md:this.priorityNode_;return new lt(i,a,s)}}updateChild(e,n){const r=yt(e);if(r===null)return n;{ze(yt(e)!==".priority"||Eo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(qt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(hn,(a,o)=>{n[a]=o.val(e),r++,s&&lt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*r){const a=[];for(const o in n)a[o]=n[o];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+uR(this.getPriority().val())+":"),this.forEachChild(hn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":z6(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new vt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new vt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new vt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,vt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,vt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gf?-1:0}withIndex(e){if(e===cu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new lt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===cu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(hn),i=n.getIterator(hn);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===cu?null:this.indexMap_.get(e.toString())}}lt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class XF extends lt{constructor(){super(new jr(hw),lt.EMPTY_NODE,Js.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return lt.EMPTY_NODE}isEmpty(){return!1}}const gf=new XF;Object.defineProperties(vt,{MIN:{value:new vt(Ru,lt.EMPTY_NODE)},MAX:{value:new vt(Dl,gf)}});cR.__EMPTY_NODE=lt.EMPTY_NODE;Hn.__childrenNodeConstructor=lt;HF(gf);$F(gf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=!0;function Mn(t,e=null){if(t===null)return lt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ze(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Hn(n,Mn(e))}if(!(t instanceof Array)&&QF){const n=[];let r=!1;if(rr(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=Mn(o);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new vt(a,l)))}}),n.length===0)return lt.EMPTY_NODE;const s=ag(n,WF,a=>a.name,hw);if(r){const a=ag(n,hn.getCompare());return new lt(s,Mn(e),new Js({".priority":a},{".priority":hn}))}else return new lt(s,Mn(e),Js.Default)}else{let n=lt.EMPTY_NODE;return rr(t,(r,i)=>{if(Cs(t,r)&&r.substring(0,1)!=="."){const s=Mn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Mn(e))}}qF(Mn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF extends o0{constructor(e){super(),this.indexPath_=e,ze(!wt(e)&&yt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Hl(e.name,n.name):s}makePost(e,n){const r=Mn(e),i=lt.EMPTY_NODE.updateChild(this.indexPath_,r);return new vt(n,i)}maxPost(){const e=lt.EMPTY_NODE.updateChild(this.indexPath_,gf);return new vt(Dl,e)}toString(){return Hh(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF extends o0{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Hl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return vt.MIN}maxPost(){return vt.MAX}makePost(e,n){const r=Mn(e);return new vt(n,r)}toString(){return".value"}}const eM=new ZF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t){return{type:"value",snapshotNode:t}}function Nu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function qh(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function $h(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function tM(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.index_=e}updateChild(e,n,r,i,s,a){ze(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(n);return o.getChild(i).equals(r.getChild(i))&&o.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(qh(n,o)):ze(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Nu(n,r)):a.trackChildChange($h(n,r,o))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(hn,(i,s)=>{n.hasChild(i)||r.trackChildChange(qh(i,s))}),n.isLeafNode()||n.forEachChild(hn,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange($h(i,s,a))}else r.trackChildChange(Nu(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?lt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.indexedFilter_=new fw(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Gh.getStartPost_(e),this.endPost_=Gh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,a){return this.matches(new vt(n,r))||(r=lt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=lt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(lt.EMPTY_NODE);const s=this;return n.forEachChild(hn,(a,o)=>{s.matches(new vt(a,o))||(i=i.updateImmediateChild(a,lt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Gh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,a){return this.rangedFilter_.matches(new vt(n,r))||(r=lt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=lt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=lt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))i=i.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(lt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:i=i.updateImmediateChild(o.name,lt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let a;if(this.reverse_){const d=this.index_.getCompare();a=(f,h)=>d(h,f)}else a=this.index_.getCompare();const o=e;ze(o.numChildren()===this.limit_,"");const l=new vt(n,r),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(o.hasChild(n)){const d=o.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||o.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:a(f,l);if(u&&!r.isEmpty()&&h>=0)return s!=null&&s.trackChildChange($h(n,r,d)),o.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(qh(n,d));const y=o.updateImmediateChild(n,lt.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Nu(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:u&&a(c,l)>=0?(s!=null&&(s.trackChildChange(qh(c.name,c.node)),s.trackChildChange(Nu(n,r))),o.updateImmediateChild(n,r).updateImmediateChild(c.name,lt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ze(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ze(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ru}hasEnd(){return this.endSet_}getIndexEndValue(){return ze(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ze(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Dl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ze(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hn}copy(){const e=new l0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function rM(t){return t.loadsAllData()?new fw(t.getIndex()):t.hasLimit()?new nM(t):new Gh(t)}function a3(t){const e={};if(t.isDefault())return e;let n;if(t.index_===hn?n="$priority":t.index_===eM?n="$value":t.index_===cu?n="$key":(ze(t.index_ instanceof JF,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Un(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Un(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Un(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Un(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Un(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function o3(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==hn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends sR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ze(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=mf("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=og.getListenId_(e,r),o={};this.listens_[a]=o;const l=a3(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),Eu(this.listens_,a)===o){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=og.getListenId_(e,n);delete this.listens_[r]}get(e){const n=a3(e._queryParams),r=e._path.toString(),i=new lf;return this.restRequest_(r+".json",n,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Wu(n);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(r&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=zh(o.responseText)}catch{Nr("Failed to parse JSON response for "+a+": "+o.responseText)}r(null,l)}else o.status!==401&&o.status!==404&&Nr("Got unsuccessful REST response for "+a+" Status: "+o.status),r(o.status);r=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.rootNode_=lt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(){return{value:null,children:new Map}}function mR(t,e,n){if(wt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=yt(e);t.children.has(r)||t.children.set(r,lg());const i=t.children.get(r);e=qt(e),mR(i,e,n)}}function Zy(t,e,n){t.value!==null?n(e,t.value):sM(t,(r,i)=>{const s=new Ut(e.toString()+"/"+r);Zy(i,s,n)})}function sM(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&rr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=10*1e3,oM=30*1e3,lM=5*60*1e3;class cM{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new aM(e);const r=l3+(oM-l3)*Math.random();dh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;rr(e,(i,s)=>{s>0&&Cs(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),dh(this.reportStats_.bind(this),Math.floor(Math.random()*2*lM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Yi||(Yi={}));function pw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function mw(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function gw(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Yi.ACK_USER_WRITE,this.source=pw()}operationForChild(e){if(wt(this.path)){if(this.affectedTree.value!=null)return ze(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ut(e));return new cg(At(),n,this.revert)}}else return ze(yt(this.path)===e,"operationForChild called for unrelated child."),new cg(qt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.source=e,this.path=n,this.type=Yi.LISTEN_COMPLETE}operationForChild(e){return wt(this.path)?new Kh(this.source,At()):new Kh(this.source,qt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Yi.OVERWRITE}operationForChild(e){return wt(this.path)?new Fl(this.source,At(),this.snap.getImmediateChild(e)):new Fl(this.source,qt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Yi.MERGE}operationForChild(e){if(wt(this.path)){const n=this.children.subtree(new Ut(e));return n.isEmpty()?null:n.value?new Fl(this.source,At(),n.value):new Cu(this.source,At(),n)}else return ze(yt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cu(this.source,qt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(wt(e))return this.isFullyInitialized()&&!this.filtered_;const n=yt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function dM(t,e,n,r){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(tM(a.childName,a.snapshotNode))}),Ud(t,i,"child_removed",e,r,n),Ud(t,i,"child_added",e,r,n),Ud(t,i,"child_moved",s,r,n),Ud(t,i,"child_changed",e,r,n),Ud(t,i,"value",e,r,n),i}function Ud(t,e,n,r,i,s){const a=r.filter(o=>o.type===n);a.sort((o,l)=>fM(t,o,l)),a.forEach(o=>{const l=hM(t,o,s);i.forEach(c=>{c.respondsTo(o.type)&&e.push(c.createEvent(l,t.query_))})})}function hM(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function fM(t,e,n){if(e.childName==null||n.childName==null)throw ju("Should only compare child_ events.");const r=new vt(e.childName,e.snapshotNode),i=new vt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t,e){return{eventCache:t,serverCache:e}}function hh(t,e,n,r){return c0(new So(e,n,r),t.serverCache)}function gR(t,e,n,r){return c0(t.eventCache,new So(e,n,r))}function ug(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ml(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h2;const pM=()=>(h2||(h2=new jr(JD)),h2);class Ht{static fromObject(e){let n=new Ht(null);return rr(e,(r,i)=>{n=n.set(new Ut(r),i)}),n}constructor(e,n=pM()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:At(),value:this.value};if(wt(e))return null;{const r=yt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(qt(e),n);return s!=null?{path:dn(new Ut(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(wt(e))return this;{const n=yt(e),r=this.children.get(n);return r!==null?r.subtree(qt(e)):new Ht(null)}}set(e,n){if(wt(e))return new Ht(n,this.children);{const r=yt(e),s=(this.children.get(r)||new Ht(null)).set(qt(e),n),a=this.children.insert(r,s);return new Ht(this.value,a)}}remove(e){if(wt(e))return this.children.isEmpty()?new Ht(null):new Ht(null,this.children);{const n=yt(e),r=this.children.get(n);if(r){const i=r.remove(qt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ht(null):new Ht(this.value,s)}else return this}}get(e){if(wt(e))return this.value;{const n=yt(e),r=this.children.get(n);return r?r.get(qt(e)):null}}setTree(e,n){if(wt(e))return n;{const r=yt(e),s=(this.children.get(r)||new Ht(null)).setTree(qt(e),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new Ht(this.value,a)}}fold(e){return this.fold_(At(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(dn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,At(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(wt(e))return null;{const s=yt(e),a=this.children.get(s);return a?a.findOnPath_(qt(e),dn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,At(),n)}foreachOnPath_(e,n,r){if(wt(e))return this;{this.value&&r(n,this.value);const i=yt(e),s=this.children.get(i);return s?s.foreachOnPath_(qt(e),dn(n,i),r):new Ht(null)}}foreach(e){this.foreach_(At(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(dn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.writeTree_=e}static empty(){return new es(new Ht(null))}}function fh(t,e,n){if(wt(e))return new es(new Ht(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const a=kr(i,e);return s=s.updateChild(a,n),new es(t.writeTree_.set(i,s))}else{const i=new Ht(n),s=t.writeTree_.setTree(e,i);return new es(s)}}}function ev(t,e,n){let r=t;return rr(n,(i,s)=>{r=fh(r,dn(e,i),s)}),r}function c3(t,e){if(wt(e))return es.empty();{const n=t.writeTree_.setTree(e,new Ht(null));return new es(n)}}function tv(t,e){return ql(t,e)!=null}function ql(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(kr(n.path,e)):null}function u3(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(hn,(r,i)=>{e.push(new vt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new vt(r,i.value))}),e}function yo(t,e){if(wt(e))return t;{const n=ql(t,e);return n!=null?new es(new Ht(n)):new es(t.writeTree_.subtree(e))}}function nv(t){return t.writeTree_.isEmpty()}function Au(t,e){return yR(At(),t.writeTree_,e)}function yR(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ze(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=yR(dn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(dn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t,e){return xR(e,t)}function mM(t,e,n,r,i){ze(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=fh(t.visibleWrites,e,n)),t.lastWriteId=r}function gM(t,e,n,r){ze(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=ev(t.visibleWrites,e,n),t.lastWriteId=r}function yM(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function vM(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);ze(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=n&&wM(o,r.path)?i=!1:_i(r.path,o.path)&&(s=!0)),a--}if(i){if(s)return bM(t),!0;if(r.snap)t.visibleWrites=c3(t.visibleWrites,r.path);else{const o=r.children;rr(o,l=>{t.visibleWrites=c3(t.visibleWrites,dn(r.path,l))})}return!0}else return!1}function wM(t,e){if(t.snap)return _i(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&_i(dn(t.path,n),e))return!0;return!1}function bM(t){t.visibleWrites=vR(t.allWrites,xM,At()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function xM(t){return t.visible}function vR(t,e,n){let r=es.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let o;if(s.snap)_i(n,a)?(o=kr(n,a),r=fh(r,o,s.snap)):_i(a,n)&&(o=kr(a,n),r=fh(r,At(),s.snap.getChild(o)));else if(s.children){if(_i(n,a))o=kr(n,a),r=ev(r,o,s.children);else if(_i(a,n))if(o=kr(a,n),wt(o))r=ev(r,At(),s.children);else{const l=Eu(s.children,yt(o));if(l){const c=l.getChild(qt(o));r=fh(r,At(),c)}}}else throw ju("WriteRecord should have .snap or .children")}}return r}function wR(t,e,n,r,i){if(!r&&!i){const s=ql(t.visibleWrites,e);if(s!=null)return s;{const a=yo(t.visibleWrites,e);if(nv(a))return n;if(n==null&&!tv(a,At()))return null;{const o=n||lt.EMPTY_NODE;return Au(a,o)}}}else{const s=yo(t.visibleWrites,e);if(!i&&nv(s))return n;if(!i&&n==null&&!tv(s,At()))return null;{const a=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(_i(c.path,e)||_i(e,c.path))},o=vR(t.allWrites,a,e),l=n||lt.EMPTY_NODE;return Au(o,l)}}}function _M(t,e,n){let r=lt.EMPTY_NODE;const i=ql(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(hn,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=yo(t.visibleWrites,e);return n.forEachChild(hn,(a,o)=>{const l=Au(yo(s,new Ut(a)),o);r=r.updateImmediateChild(a,l)}),u3(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=yo(t.visibleWrites,e);return u3(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function EM(t,e,n,r,i){ze(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=dn(e,n);if(tv(t.visibleWrites,s))return null;{const a=yo(t.visibleWrites,s);return nv(a)?i.getChild(n):Au(a,i.getChild(n))}}function SM(t,e,n,r){const i=dn(e,n),s=ql(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=yo(t.visibleWrites,i);return Au(a,r.getNode().getImmediateChild(n))}else return null}function kM(t,e){return ql(t.visibleWrites,e)}function RM(t,e,n,r,i,s,a){let o;const l=yo(t.visibleWrites,e),c=ql(l,At());if(c!=null)o=c;else if(n!=null)o=Au(l,n);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const u=[],d=a.getCompare(),f=s?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a);let h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function NM(){return{visibleWrites:es.empty(),allWrites:[],lastWriteId:-1}}function dg(t,e,n,r){return wR(t.writeTree,t.treePath,e,n,r)}function yw(t,e){return _M(t.writeTree,t.treePath,e)}function d3(t,e,n,r){return EM(t.writeTree,t.treePath,e,n,r)}function hg(t,e){return kM(t.writeTree,dn(t.treePath,e))}function CM(t,e,n,r,i,s){return RM(t.writeTree,t.treePath,e,n,r,i,s)}function vw(t,e,n){return SM(t.writeTree,t.treePath,e,n)}function bR(t,e){return xR(dn(t.treePath,e),t.writeTree)}function xR(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ze(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ze(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,$h(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,qh(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Nu(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,$h(r,e.snapshotNode,i.oldSnap));else throw ju("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const _R=new IM;class ww{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new So(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vw(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ml(this.viewCache_),s=CM(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){return{filter:t}}function TM(t,e){ze(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ze(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function LM(t,e,n,r,i){const s=new AM;let a,o;if(n.type===Yi.OVERWRITE){const c=n;c.source.fromUser?a=rv(t,e,c.path,c.snap,r,i,s):(ze(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered()&&!wt(c.path),a=fg(t,e,c.path,c.snap,r,i,o,s))}else if(n.type===Yi.MERGE){const c=n;c.source.fromUser?a=DM(t,e,c.path,c.children,r,i,s):(ze(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered(),a=iv(t,e,c.path,c.children,r,i,o,s))}else if(n.type===Yi.ACK_USER_WRITE){const c=n;c.revert?a=UM(t,e,c.path,r,i,s):a=FM(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Yi.LISTEN_COMPLETE)a=MM(t,e,n.path,r,s);else throw ju("Unknown operation type: "+n.type);const l=s.getChanges();return OM(e,a,l),{viewCache:a,changes:l}}function OM(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ug(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(pR(ug(e)))}}function ER(t,e,n,r,i,s){const a=e.eventCache;if(hg(r,n)!=null)return e;{let o,l;if(wt(n))if(ze(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ml(e),u=c instanceof lt?c:lt.EMPTY_NODE,d=yw(r,u);o=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=dg(r,Ml(e));o=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=yt(n);if(c===".priority"){ze(Eo(n)===1,"Can't have a priority with additional path components");const u=a.getNode();l=e.serverCache.getNode();const d=d3(r,n,u,l);d!=null?o=t.filter.updatePriority(u,d):o=a.getNode()}else{const u=qt(n);let d;if(a.isCompleteForChild(c)){l=e.serverCache.getNode();const f=d3(r,n,a.getNode(),l);f!=null?d=a.getNode().getImmediateChild(c).updateChild(u,f):d=a.getNode().getImmediateChild(c)}else d=vw(r,c,e.serverCache);d!=null?o=t.filter.updateChild(a.getNode(),c,d,u,i,s):o=a.getNode()}}return hh(e,o,a.isFullyInitialized()||wt(n),t.filter.filtersNodes())}}function fg(t,e,n,r,i,s,a,o){const l=e.serverCache;let c;const u=a?t.filter:t.filter.getIndexedFilter();if(wt(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{const h=yt(n);if(!l.isCompleteForPath(n)&&Eo(n)>1)return e;const g=qt(n),b=l.getNode().getImmediateChild(h).updateChild(g,r);h===".priority"?c=u.updatePriority(l.getNode(),b):c=u.updateChild(l.getNode(),h,b,g,_R,null)}const d=gR(e,c,l.isFullyInitialized()||wt(n),u.filtersNodes()),f=new ww(i,d,s);return ER(t,d,n,i,f,o)}function rv(t,e,n,r,i,s,a){const o=e.eventCache;let l,c;const u=new ww(i,e,s);if(wt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,a),l=hh(e,c,!0,t.filter.filtersNodes());else{const d=yt(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=hh(e,c,o.isFullyInitialized(),o.isFiltered());else{const f=qt(n),h=o.getNode().getImmediateChild(d);let g;if(wt(f))g=r;else{const y=u.getCompleteChild(d);y!=null?cw(f)===".priority"&&y.getChild(oR(f)).isEmpty()?g=y:g=y.updateChild(f,r):g=lt.EMPTY_NODE}if(h.equals(g))l=e;else{const y=t.filter.updateChild(o.getNode(),d,g,f,u,a);l=hh(e,y,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function h3(t,e){return t.eventCache.isCompleteForChild(e)}function DM(t,e,n,r,i,s,a){let o=e;return r.foreach((l,c)=>{const u=dn(n,l);h3(e,yt(u))&&(o=rv(t,o,u,c,i,s,a))}),r.foreach((l,c)=>{const u=dn(n,l);h3(e,yt(u))||(o=rv(t,o,u,c,i,s,a))}),o}function f3(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function iv(t,e,n,r,i,s,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;wt(n)?c=r:c=new Ht(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),g=f3(t,h,f);l=fg(t,l,new Ut(d),g,i,s,a,o)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const g=e.serverCache.getNode().getImmediateChild(d),y=f3(t,g,f);l=fg(t,l,new Ut(d),y,i,s,a,o)}}),l}function FM(t,e,n,r,i,s,a){if(hg(i,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(wt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return fg(t,e,n,l.getNode().getChild(n),i,s,o,a);if(wt(n)){let c=new Ht(null);return l.getNode().forEachChild(cu,(u,d)=>{c=c.set(new Ut(u),d)}),iv(t,e,n,c,i,s,o,a)}else return e}else{let c=new Ht(null);return r.foreach((u,d)=>{const f=dn(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),iv(t,e,n,c,i,s,o,a)}}function MM(t,e,n,r,i){const s=e.serverCache,a=gR(e,s.getNode(),s.isFullyInitialized()||wt(n),s.isFiltered());return ER(t,a,n,r,_R,i)}function UM(t,e,n,r,i,s){let a;if(hg(r,n)!=null)return e;{const o=new ww(r,e,i),l=e.eventCache.getNode();let c;if(wt(n)||yt(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=dg(r,Ml(e));else{const d=e.serverCache.getNode();ze(d instanceof lt,"serverChildren would be complete if leaf node"),u=yw(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=yt(n);let d=vw(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,qt(n),o,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,lt.EMPTY_NODE,qt(n),o,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=dg(r,Ml(e)),a.isLeafNode()&&(c=t.filter.updateFullNode(c,a,s)))}return a=e.serverCache.isFullyInitialized()||hg(r,At())!=null,hh(e,c,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new fw(r.getIndex()),s=rM(r);this.processor_=PM(s);const a=n.serverCache,o=n.eventCache,l=i.updateFullNode(lt.EMPTY_NODE,a.getNode(),null),c=s.updateFullNode(lt.EMPTY_NODE,o.getNode(),null),u=new So(l,a.isFullyInitialized(),i.filtersNodes()),d=new So(c,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=c0(d,u),this.eventGenerator_=new uM(this.query_)}get query(){return this.query_}}function zM(t){return t.viewCache_.serverCache.getNode()}function jM(t){return ug(t.viewCache_)}function VM(t,e){const n=Ml(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!wt(e)&&!n.getImmediateChild(yt(e)).isEmpty())?n.getChild(e):null}function p3(t){return t.eventRegistrations_.length===0}function WM(t,e){t.eventRegistrations_.push(e)}function m3(t,e,n){const r=[];if(n){ze(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function g3(t,e,n,r){e.type===Yi.MERGE&&e.source.queryId!==null&&(ze(Ml(t.viewCache_),"We should always have a full cache before handling merges"),ze(ug(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=LM(t.processor_,i,e,n,r);return TM(t.processor_,s.viewCache),ze(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,SR(t,s.changes,s.viewCache.eventCache.getNode(),null)}function HM(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(hn,(s,a)=>{r.push(Nu(s,a))}),n.isFullyInitialized()&&r.push(pR(n.getNode())),SR(t,r,n.getNode(),e)}function SR(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return dM(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pg;class kR{constructor(){this.views=new Map}}function qM(t){ze(!pg,"__referenceConstructor has already been defined"),pg=t}function $M(){return ze(pg,"Reference.ts has not been loaded"),pg}function GM(t){return t.views.size===0}function bw(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ze(s!=null,"SyncTree gave us an op for an invalid query."),g3(s,e,n,r)}else{let s=[];for(const a of t.views.values())s=s.concat(g3(a,e,n,r));return s}}function RR(t,e,n,r,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let o=dg(n,i?r:null),l=!1;o?l=!0:r instanceof lt?(o=yw(n,r),l=!1):(o=lt.EMPTY_NODE,l=!1);const c=c0(new So(o,l,!1),new So(r,i,!1));return new BM(e,c)}return a}function KM(t,e,n,r,i,s){const a=RR(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),WM(a,n),HM(a,n)}function YM(t,e,n,r){const i=e._queryIdentifier,s=[];let a=[];const o=ko(t);if(i==="default")for(const[l,c]of t.views.entries())a=a.concat(m3(c,n,r)),p3(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(a=a.concat(m3(l,n,r)),p3(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return o&&!ko(t)&&s.push(new($M())(e._repo,e._path)),{removed:s,events:a}}function NR(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function vo(t,e){let n=null;for(const r of t.views.values())n=n||VM(r,e);return n}function CR(t,e){if(e._queryParams.loadsAllData())return d0(t);{const r=e._queryIdentifier;return t.views.get(r)}}function AR(t,e){return CR(t,e)!=null}function ko(t){return d0(t)!=null}function d0(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mg;function XM(t){ze(!mg,"__referenceConstructor has already been defined"),mg=t}function QM(){return ze(mg,"Reference.ts has not been loaded"),mg}let JM=1;class y3{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ht(null),this.pendingWriteTree_=NM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function IR(t,e,n,r,i){return mM(t.pendingWriteTree_,e,n,r,i),i?Gu(t,new Fl(pw(),e,n)):[]}function ZM(t,e,n,r){gM(t.pendingWriteTree_,e,n,r);const i=Ht.fromObject(n);return Gu(t,new Cu(pw(),e,i))}function Ja(t,e,n=!1){const r=yM(t.pendingWriteTree_,e);if(vM(t.pendingWriteTree_,e)){let s=new Ht(null);return r.snap!=null?s=s.set(At(),!0):rr(r.children,a=>{s=s.set(new Ut(a),!0)}),Gu(t,new cg(r.path,s,n))}else return[]}function yf(t,e,n){return Gu(t,new Fl(mw(),e,n))}function e9(t,e,n){const r=Ht.fromObject(n);return Gu(t,new Cu(mw(),e,r))}function t9(t,e){return Gu(t,new Kh(mw(),e))}function n9(t,e,n){const r=_w(t,n);if(r){const i=Ew(r),s=i.path,a=i.queryId,o=kr(s,e),l=new Kh(gw(a),o);return Sw(t,s,l)}else return[]}function gg(t,e,n,r,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let o=[];if(a&&(e._queryIdentifier==="default"||AR(a,e))){const l=YM(a,e,n,r);GM(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,h)=>ko(h));if(u&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const h=s9(f);for(let g=0;g<h.length;++g){const y=h[g],b=y.query,m=OR(t,y);t.listenProvider_.startListening(ph(b),Yh(t,b),m.hashFn,m.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(ph(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(h0(f));t.listenProvider_.stopListening(ph(f),h)}))}a9(t,c)}return o}function PR(t,e,n,r){const i=_w(t,r);if(i!=null){const s=Ew(i),a=s.path,o=s.queryId,l=kr(a,e),c=new Fl(gw(o),l,n);return Sw(t,a,c)}else return[]}function r9(t,e,n,r){const i=_w(t,r);if(i){const s=Ew(i),a=s.path,o=s.queryId,l=kr(a,e),c=Ht.fromObject(n),u=new Cu(gw(o),l,c);return Sw(t,a,u)}else return[]}function sv(t,e,n,r=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{const g=kr(f,i);s=s||vo(h,g),a=a||ko(h)});let o=t.syncPointTree_.get(i);o?(a=a||ko(o),s=s||vo(o,At())):(o=new kR,t.syncPointTree_=t.syncPointTree_.set(i,o));let l;s!=null?l=!0:(l=!1,s=lt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,g)=>{const y=vo(g,At());y&&(s=s.updateImmediateChild(h,y))}));const c=AR(o,e);if(!c&&!e._queryParams.loadsAllData()){const f=h0(e);ze(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=o9();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=u0(t.pendingWriteTree_,i);let d=KM(o,e,n,u,s,l);if(!c&&!a&&!r){const f=CR(o,e);d=d.concat(l9(t,e,f))}return d}function xw(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=kr(a,e),c=vo(o,l);if(c)return c});return wR(i,e,s,n,!0)}function i9(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=kr(c,n);r=r||vo(u,d)});let i=t.syncPointTree_.get(n);i?r=r||vo(i,At()):(i=new kR,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,a=s?new So(r,!0,!1):null,o=u0(t.pendingWriteTree_,e._path),l=RR(i,e,o,s?a.getNode():lt.EMPTY_NODE,s);return jM(l)}function Gu(t,e){return TR(e,t.syncPointTree_,null,u0(t.pendingWriteTree_,At()))}function TR(t,e,n,r){if(wt(t.path))return LR(t,e,n,r);{const i=e.get(At());n==null&&i!=null&&(n=vo(i,At()));let s=[];const a=yt(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const c=n?n.getImmediateChild(a):null,u=bR(r,a);s=s.concat(TR(o,l,c,u))}return i&&(s=s.concat(bw(i,t,r,n))),s}}function LR(t,e,n,r){const i=e.get(At());n==null&&i!=null&&(n=vo(i,At()));let s=[];return e.children.inorderTraversal((a,o)=>{const l=n?n.getImmediateChild(a):null,c=bR(r,a),u=t.operationForChild(a);u&&(s=s.concat(LR(u,o,l,c)))}),i&&(s=s.concat(bw(i,t,r,n))),s}function OR(t,e){const n=e.query,r=Yh(t,n);return{hashFn:()=>(zM(e)||lt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?n9(t,n._path,r):t9(t,n._path);{const s=tF(i,n);return gg(t,n,null,s)}}}}function Yh(t,e){const n=h0(e);return t.queryToTagMap.get(n)}function h0(t){return t._path.toString()+"$"+t._queryIdentifier}function _w(t,e){return t.tagToQueryMap.get(e)}function Ew(t){const e=t.indexOf("$");return ze(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ut(t.substr(0,e))}}function Sw(t,e,n){const r=t.syncPointTree_.get(e);ze(r,"Missing sync point for query tag that we're tracking");const i=u0(t.pendingWriteTree_,e);return bw(r,n,i,null)}function s9(t){return t.fold((e,n,r)=>{if(n&&ko(n))return[d0(n)];{let i=[];return n&&(i=NR(n)),rr(r,(s,a)=>{i=i.concat(a)}),i}})}function ph(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(QM())(t._repo,t._path):t}function a9(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=h0(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function o9(){return JM++}function l9(t,e,n){const r=e._path,i=Yh(t,e),s=OR(t,n),a=t.listenProvider_.startListening(ph(e),i,s.hashFn,s.onComplete),o=t.syncPointTree_.subtree(r);if(i)ze(!ko(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((c,u,d)=>{if(!wt(c)&&u&&ko(u))return[d0(u).query];{let f=[];return u&&(f=f.concat(NR(u).map(h=>h.query))),rr(d,(h,g)=>{f=f.concat(g)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(ph(u),Yh(t,u))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new kw(n)}node(){return this.node_}}class Rw{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=dn(this.path_,e);return new Rw(this.syncTree_,n)}node(){return xw(this.syncTree_,this.path_)}}const c9=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},v3=function(t,e,n){if(!t||typeof t!="object")return t;if(ze(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return u9(t[".sv"],e,n);if(typeof t[".sv"]=="object")return d9(t[".sv"],e);ze(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},u9=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ze(!1,"Unexpected server value: "+t)}},d9=function(t,e,n){t.hasOwnProperty("increment")||ze(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ze(!1,"Unexpected increment value: "+r);const i=e.node();if(ze(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},DR=function(t,e,n,r){return Nw(e,new Rw(n,t),r)},FR=function(t,e,n){return Nw(t,new kw(e),n)};function Nw(t,e,n){const r=t.getPriority().val(),i=v3(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,o=v3(a.getValue(),e,n);return o!==a.getValue()||i!==a.getPriority().val()?new Hn(o,Mn(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Hn(i))),a.forEachChild(hn,(o,l)=>{const c=Nw(l,e.getImmediateChild(o),n);c!==l&&(s=s.updateImmediateChild(o,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Aw(t,e){let n=e instanceof Ut?e:new Ut(e),r=t,i=yt(n);for(;i!==null;){const s=Eu(r.node.children,i)||{children:{},childCount:0};r=new Cw(i,r,s),n=qt(n),i=yt(n)}return r}function Ku(t){return t.node.value}function MR(t,e){t.node.value=e,av(t)}function UR(t){return t.node.childCount>0}function h9(t){return Ku(t)===void 0&&!UR(t)}function f0(t,e){rr(t.node.children,(n,r)=>{e(new Cw(n,t,r))})}function BR(t,e,n,r){n&&e(t),f0(t,i=>{BR(i,e,!0)})}function f9(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vf(t){return new Ut(t.parent===null?t.name:vf(t.parent)+"/"+t.name)}function av(t){t.parent!==null&&p9(t.parent,t.name,t)}function p9(t,e,n){const r=h9(n),i=Cs(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,av(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,av(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=/[\[\].#$\/\u0000-\u001F\u007F]/,g9=/[\[\].#$\u0000-\u001F\u007F]/,f2=10*1024*1024,Iw=function(t){return typeof t=="string"&&t.length!==0&&!m9.test(t)},zR=function(t){return typeof t=="string"&&t.length!==0&&!g9.test(t)},y9=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),zR(t)},v9=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!iw(t)||t&&typeof t=="object"&&Cs(t,".sv")},jR=function(t,e,n,r){r&&e===void 0||p0(n0(t,"value"),e,n)},p0=function(t,e,n){const r=n instanceof Ut?new DF(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+il(r));if(typeof e=="function")throw new Error(t+"contains a function "+il(r)+" with contents = "+e.toString());if(iw(e))throw new Error(t+"contains "+e.toString()+" "+il(r));if(typeof e=="string"&&e.length>f2/3&&r0(e)>f2)throw new Error(t+"contains a string greater than "+f2+" utf8 bytes "+il(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(rr(e,(a,o)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!Iw(a)))throw new Error(t+" contains an invalid key ("+a+") "+il(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);FF(r,a),p0(t,o,r),MF(r)}),i&&s)throw new Error(t+' contains ".value" child '+il(r)+" in addition to actual children.")}},w9=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Hh(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!Iw(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(OF);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&_i(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},b9=function(t,e,n,r){const i=n0(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];rr(e,(a,o)=>{const l=new Ut(a);if(p0(i,o,dn(n,l)),cw(l)===".priority"&&!v9(o))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),w9(i,s)},Pw=function(t,e,n,r){if(!zR(n))throw new Error(n0(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},x9=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Pw(t,e,n)},Tw=function(t,e){if(yt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},_9=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Iw(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!y9(n))throw new Error(n0(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function m0(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!uw(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function VR(t,e,n){m0(t,n),WR(t,r=>uw(r,e))}function Ai(t,e,n){m0(t,n),WR(t,r=>_i(r,e)||_i(e,r))}function WR(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(S9(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function S9(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();uh&&er("event: "+n.toString()),$u(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9="repo_interrupt",R9=25;class N9{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new E9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lg(),this.transactionQueueTree_=new Cw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function C9(t,e,n){if(t.stats_=ow(t.repoInfo_),t.forceRestClient_||sF())t.server_=new og(t.repoInfo_,(r,i,s,a)=>{w3(t,r,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>b3(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Un(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new na(t.repoInfo_,e,(r,i,s,a)=>{w3(t,r,i,s,a)},r=>{b3(t,r)},r=>{A9(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=uF(t.repoInfo_,()=>new cM(t.stats_,t.server_)),t.infoData_=new iM,t.infoSyncTree_=new y3({startListening:(r,i,s,a)=>{let o=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(o=yf(t.infoSyncTree_,r._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),Lw(t,"connected",!1),t.serverSyncTree_=new y3({startListening:(r,i,s,a)=>(t.server_.listen(r,s,i,(o,l)=>{const c=a(o,l);Ai(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function HR(t){const n=t.infoData_.getNode(new Ut(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function g0(t){return c9({timestamp:HR(t)})}function w3(t,e,n,r,i){t.dataUpdateCount++;const s=new Ut(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const l=Ym(n,c=>Mn(c));a=r9(t.serverSyncTree_,s,l,i)}else{const l=Mn(n);a=PR(t.serverSyncTree_,s,l,i)}else if(r){const l=Ym(n,c=>Mn(c));a=e9(t.serverSyncTree_,s,l)}else{const l=Mn(n);a=yf(t.serverSyncTree_,s,l)}let o=s;a.length>0&&(o=Iu(t,s)),Ai(t.eventQueue_,o,a)}function b3(t,e){Lw(t,"connected",e),e===!1&&L9(t)}function A9(t,e){rr(e,(n,r)=>{Lw(t,n,r)})}function Lw(t,e,n){const r=new Ut("/.info/"+e),i=Mn(n);t.infoData_.updateSnapshot(r,i);const s=yf(t.infoSyncTree_,r,i);Ai(t.eventQueue_,r,s)}function Ow(t){return t.nextWriteId_++}function I9(t,e,n){const r=i9(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Mn(i).withIndex(e._queryParams.getIndex());sv(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=yf(t.serverSyncTree_,e._path,s);else{const o=Yh(t.serverSyncTree_,e);a=PR(t.serverSyncTree_,e._path,s,o)}return Ai(t.eventQueue_,e._path,a),gg(t.serverSyncTree_,e,n,null,!0),s},i=>(wf(t,"get for query "+Un(e)+" failed: "+i),Promise.reject(new Error(i))))}function P9(t,e,n,r,i){wf(t,"set",{path:e.toString(),value:n,priority:r});const s=g0(t),a=Mn(n,r),o=xw(t.serverSyncTree_,e),l=FR(a,o,s),c=Ow(t),u=IR(t.serverSyncTree_,e,l,c,!0);m0(t.eventQueue_,u),t.server_.put(e.toString(),a.val(!0),(f,h)=>{const g=f==="ok";g||Nr("set at "+e+" failed: "+f);const y=Ja(t.serverSyncTree_,c,!g);Ai(t.eventQueue_,e,y),ov(t,i,f,h)});const d=Fw(t,e);Iu(t,d),Ai(t.eventQueue_,d,[])}function T9(t,e,n,r){wf(t,"update",{path:e.toString(),value:n});let i=!0;const s=g0(t),a={};if(rr(n,(o,l)=>{i=!1,a[o]=DR(dn(e,o),Mn(l),t.serverSyncTree_,s)}),i)er("update() called with empty data.  Don't do anything."),ov(t,r,"ok",void 0);else{const o=Ow(t),l=ZM(t.serverSyncTree_,e,a,o);m0(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||Nr("update at "+e+" failed: "+c);const f=Ja(t.serverSyncTree_,o,!d),h=f.length>0?Iu(t,e):e;Ai(t.eventQueue_,h,f),ov(t,r,c,u)}),rr(n,c=>{const u=Fw(t,dn(e,c));Iu(t,u)}),Ai(t.eventQueue_,e,[])}}function L9(t){wf(t,"onDisconnectEvents");const e=g0(t),n=lg();Zy(t.onDisconnect_,At(),(i,s)=>{const a=DR(i,s,t.serverSyncTree_,e);mR(n,i,a)});let r=[];Zy(n,At(),(i,s)=>{r=r.concat(yf(t.serverSyncTree_,i,s));const a=Fw(t,i);Iu(t,a)}),t.onDisconnect_=lg(),Ai(t.eventQueue_,At(),r)}function O9(t,e,n){let r;yt(e._path)===".info"?r=sv(t.infoSyncTree_,e,n):r=sv(t.serverSyncTree_,e,n),VR(t.eventQueue_,e._path,r)}function D9(t,e,n){let r;yt(e._path)===".info"?r=gg(t.infoSyncTree_,e,n):r=gg(t.serverSyncTree_,e,n),VR(t.eventQueue_,e._path,r)}function F9(t){t.persistentConnection_&&t.persistentConnection_.interrupt(k9)}function wf(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),er(n,...e)}function ov(t,e,n,r){e&&$u(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}function qR(t,e,n){return xw(t.serverSyncTree_,e,n)||lt.EMPTY_NODE}function Dw(t,e=t.transactionQueueTree_){if(e||y0(t,e),Ku(e)){const n=GR(t,e);ze(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&M9(t,vf(e),n)}else UR(e)&&f0(e,n=>{Dw(t,n)})}function M9(t,e,n){const r=n.map(c=>c.currentWriteId),i=qR(t,e,r);let s=i;const a=i.hash();for(let c=0;c<n.length;c++){const u=n[c];ze(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=kr(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const o=s.val(!0),l=e;t.server_.put(l.toString(),o,c=>{wf(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Ja(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();y0(t,Aw(t.transactionQueueTree_,e)),Dw(t,t.transactionQueueTree_),Ai(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)$u(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Nr("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Iu(t,e)}},a)}function Iu(t,e){const n=$R(t,e),r=vf(n),i=GR(t,n);return U9(t,i,r),r}function U9(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],c=kr(n,l.path);let u=!1,d;if(ze(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Ja(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=R9)u=!0,d="maxretry",i=i.concat(Ja(t.serverSyncTree_,l.currentWriteId,!0));else{const f=qR(t,l.path,a);l.currentInputSnapshot=f;const h=e[o].update(f.val());if(h!==void 0){p0("transaction failed: Data returned ",h,l.path);let g=Mn(h);typeof h=="object"&&h!=null&&Cs(h,".priority")||(g=g.updatePriority(f.getPriority()));const b=l.currentWriteId,m=g0(t),w=FR(g,f,m);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=w,l.currentWriteId=Ow(t),a.splice(a.indexOf(b),1),i=i.concat(IR(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(Ja(t.serverSyncTree_,b,!0))}else u=!0,d="nodata",i=i.concat(Ja(t.serverSyncTree_,l.currentWriteId,!0))}Ai(t.eventQueue_,n,i),i=[],u&&(e[o].status=2,function(f){setTimeout(f,Math.floor(0))}(e[o].unwatcher),e[o].onComplete&&(d==="nodata"?r.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):r.push(()=>e[o].onComplete(new Error(d),!1,null))))}y0(t,t.transactionQueueTree_);for(let o=0;o<r.length;o++)$u(r[o]);Dw(t,t.transactionQueueTree_)}function $R(t,e){let n,r=t.transactionQueueTree_;for(n=yt(e);n!==null&&Ku(r)===void 0;)r=Aw(r,n),e=qt(e),n=yt(e);return r}function GR(t,e){const n=[];return KR(t,e,n),n.sort((r,i)=>r.order-i.order),n}function KR(t,e,n){const r=Ku(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);f0(e,i=>{KR(t,i,n)})}function y0(t,e){const n=Ku(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,MR(e,n.length>0?n:void 0)}f0(e,r=>{y0(t,r)})}function Fw(t,e){const n=vf($R(t,e)),r=Aw(t.transactionQueueTree_,e);return f9(r,i=>{p2(t,i)}),p2(t,r),BR(r,i=>{p2(t,i)}),n}function p2(t,e){const n=Ku(e);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(ze(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(ze(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Ja(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?MR(e,void 0):n.length=s+1,Ai(t.eventQueue_,vf(e),i);for(let a=0;a<r.length;a++)$u(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function z9(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Nr(`Invalid query segment '${n}' in query '${t}'`)}return e}const x3=function(t,e){const n=j9(t),r=n.namespace;n.domain==="firebase.com"&&da(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&da("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||XD();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new J6(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ut(n.pathString)}},j9=function(t){let e="",n="",r="",i="",s="",a=!0,o="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(o=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=B9(t.substring(u,d)));const f=z9(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:o,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",V9=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=_3.charAt(n%64),n=Math.floor(n/64);ze(n===0,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=_3.charAt(e[i]);return ze(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Un(this.snapshot.exportVal())}}class H9{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ze(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return wt(this._path)?null:cw(this._path)}get ref(){return new Is(this._repo,this._path)}get _queryIdentifier(){const e=o3(this._queryParams),n=sw(e);return n==="{}"?"default":n}get _queryObject(){return o3(this._queryParams)}isEqual(e){if(e=Xn(e),!(e instanceof v0))return!1;const n=this._repo===e._repo,r=uw(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+LF(this._path)}}class Is extends v0{constructor(e,n){super(e,n,new l0,!1)}get parent(){const e=oR(this._path);return e===null?null:new Is(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Pu{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ut(e),r=Tu(this.ref,e);return new Pu(this._node.getChild(n),r,hn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Pu(i,Tu(this.ref,r),hn)))}hasChild(e){const n=new Ut(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ri(t,e){return t=Xn(t),t._checkNotDeleted("ref"),e!==void 0?Tu(t._root,e):t._root}function Tu(t,e){return t=Xn(t),yt(t._path)===null?x9("child","path",e):Pw("child","path",e),new Is(t._repo,dn(t._path,e))}function XR(t,e){t=Xn(t),Tw("push",t._path),jR("push",e,t._path,!0);const n=HR(t._repo),r=V9(n),i=Tu(t,r),s=Tu(t,r);let a;return e!=null?a=QR(s,e).then(()=>s):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function QR(t,e){t=Xn(t),Tw("set",t._path),jR("set",e,t._path,!1);const n=new lf;return P9(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Gs(t,e){b9("update",e,t._path);const n=new lf;return T9(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function JR(t){t=Xn(t);const e=new YR(()=>{}),n=new w0(e);return I9(t._repo,t,n).then(r=>new Pu(r,new Is(t._repo,t._path),t._queryParams.getIndex()))}class w0{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new W9("value",this,new Pu(e.snapshotNode,new Is(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new H9(this,e,n):null}matches(e){return e instanceof w0?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function q9(t,e,n,r,i){const s=new YR(n,void 0),a=new w0(s);return O9(t._repo,t,a),()=>D9(t._repo,t,a)}function Ro(t,e,n,r){return q9(t,"value",e)}qM(Is);XM(Is);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9="FIREBASE_DATABASE_EMULATOR_HOST",lv={};let G9=!1;function K9(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),a=Vu(s);t.repoInfo_=new J6(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function ZR(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||da("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),er("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=x3(s,i),o=a.repoInfo,l;typeof process<"u"&&W_&&(l=W_[$9]),l?(s=`http://${l}?ns=${o.namespace}`,a=x3(s,i),o=a.repoInfo):a.repoInfo.secure;const c=new oF(t.name,t.options,e);_9("Invalid Firebase Database URL",a),wt(a.path)||da("Database URL must point to the root of a Firebase Database (not including a child path).");const u=X9(o,t,c,new aF(t,n));return new eN(u,t)}function Y9(t,e){const n=lv[e];(!n||n[t.key]!==t)&&da(`Database ${e}(${t.repoInfo_}) has already been deleted.`),F9(t),delete n[t.key]}function X9(t,e,n,r){let i=lv[e.name];i||(i={},lv[e.name]=i);let s=i[t.toURLString()];return s&&da("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new N9(t,G9,n,r),i[t.toURLString()]=s,s}class eN{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(C9(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Is(this._repo,At())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Y9(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&da("Cannot call "+e+" on a deleted database.")}}function tN(t=e6(),e){const n=G5(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=KT("database");r&&nN(n,...r)}return n}function nN(t,e,n,r={}){t=Xn(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Pl(r,s.repoInfo_.emulatorOptions))return;da("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&da('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new um(um.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:YT(r.mockUserToken,t.app.options.projectId);a=new um(o)}Vu(e)&&(Gk(e),Kk("Database",!0)),K9(s,i,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t){U6(Hu),Su(new Tl("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return ZR(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),go(H_,q_,t),go(H_,q_,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9={".sv":"timestamp"};function rN(){return J9}na.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};na.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Q9();const Z9=Object.freeze(Object.defineProperty({__proto__:null,DataSnapshot:Pu,Database:eN,_QueryImpl:v0,_QueryParams:l0,_ReferenceImpl:Is,_repoManagerDatabaseFromApp:ZR,_setSDKVersion:U6,_validatePathString:Pw,_validateWritablePath:Tw,child:Tu,connectDatabaseEmulator:nN,get:JR,getDatabase:tN,onValue:Ro,push:XR,ref:ri,serverTimestamp:rN,set:QR,update:Gs},Symbol.toStringTag,{value:"Module"})),eU={apiKey:"AIzaSyAvqXFvGOtPOwugO3Q59FOiIAfmvF4sv38",authDomain:"imagetoolspro-e8af5.firebaseapp.com",projectId:"imagetoolspro-e8af5",storageBucket:"imagetoolspro-e8af5.firebasestorage.app",messagingSenderId:"517014077079",appId:"1:517014077079:web:c22536540865f49c1ff3d2",databaseURL:"https://imagetoolspro-e8af5-default-rtdb.firebaseio.com"},iN=Zk(eU),Da=jD(iN),Si=tN(iN);new bs;const sN=se.createContext({user:null,signup:()=>Promise.resolve(),login:()=>Promise.resolve(),loginWithGoogle:()=>Promise.resolve(),logout:()=>Promise.resolve(),resetPassword:()=>Promise.resolve(),resendVerification:()=>Promise.resolve(),loading:!1}),Tn=()=>{const t=se.useContext(sN);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},tU=({children:t})=>{const[e,n]=se.useState(null),[r,i]=se.useState(!0),s=async(f,h,g)=>{const y=await EO(Da,f,h);return await RO(y.user,{displayName:g}),await L_(y.user),y},a=(f,h)=>SO(Da,f,h),o=()=>{const f=new bs;return XO(Da,f)},l=()=>IO(Da),c=f=>_O(Da,f),u=()=>{if(Da.currentUser)return L_(Da.currentUser)};se.useEffect(()=>AO(Da,h=>{n(h),i(!1)}),[]);const d={user:e,signup:s,login:a,loginWithGoogle:o,logout:l,resetPassword:c,resendVerification:u,loading:r};return React.createElement(sN.Provider,{value:d},!r&&t)},Ga={FREE:{id:"free",name:"Free",price:0,currency:"USD",limits:{convert:5,resize:5,compress:5,edit:3,background:2,ai:0,metadata:5,batch:0,maxFileSize:5},features:["5 conversions per day","5 resize operations per day","5 compressions per day","3 edits per day","2 background operations per day","5 metadata operations per day","Max 5MB file size","Login required","No AI tools","No batch processing"]},PREMIUM:{id:"premium",name:"Premium",price:0,currency:"USD",limits:{convert:100,resize:100,compress:100,edit:50,background:30,ai:20,metadata:100,batch:50,maxFileSize:50},features:["100 conversions per day","100 resize operations per day","100 compressions per day","50 edits per day","30 background operations per day","20 AI operations per day","100 metadata operations per day","50 batch operations per day","Max 50MB file size","Priority support","No ads"]}},aN=se.createContext({usage:{},userPlan:"free",canUseFeature:()=>!1,incrementUsage:()=>{},loading:!0}),Mo=()=>{const t=se.useContext(aN);if(!t)throw new Error("useUsage must be used within UsageProvider");return t},nU=({children:t})=>{const{user:e}=Tn(),[n,r]=se.useState({}),[i,s]=se.useState("free"),[a,o]=se.useState(!0);se.useEffect(()=>{if(!e){o(!1);return}const h=ri(Si,`users/${e.uid}`),g=Ro(h,m=>{const w=m.val();if(w)if(w.plan==="premium"&&w.planExpiryDate){const x=Date.now();x>w.planExpiryDate?(Gs(h,{plan:"free",previousPlan:"premium",planExpiredAt:x,updatedAt:x}),s("free")):s(w.plan)}else s(w.plan||"free");else Gs(h,{plan:"free",createdAt:Date.now(),email:e.email,displayName:e.displayName||""})}),y=ri(Si,`usage/${e.uid}`),b=Ro(y,m=>{const w=m.val();if(w){const x=w.lastReset||0,N=Date.now();if((N-x)/(1e3*60*60)>=24){const D={convert:0,resize:0,compress:0,edit:0,background:0,ai:0,metadata:0,batch:0,lastReset:N};Gs(y,D),r(D)}else r(w)}else{const x={convert:0,resize:0,compress:0,edit:0,background:0,ai:0,metadata:0,batch:0,lastReset:Date.now()};Gs(y,x),r(x)}o(!1)});return()=>{g(),b()}},[e]);const f={usage:n,userPlan:i,canUseFeature:h=>{if(!e)return!1;const g=Ga[i.toUpperCase()];if(!g)return!1;const y=n[h]||0,b=g.limits[h];return y<b},incrementUsage:async h=>{if(!e)return!1;const g=ri(Si,`usage/${e.uid}`),b=(await JR(g)).val()||{},m={...b,[h]:(b[h]||0)+1};return await Gs(g,m),!0},getRemainingUsage:h=>{if(!e)return 0;const g=Ga[i.toUpperCase()];if(!g)return 0;const y=n[h]||0,b=g.limits[h];return Math.max(0,b-y)},getUsagePercentage:h=>{if(!e)return 100;const g=Ga[i.toUpperCase()];if(!g)return 0;const y=n[h]||0,b=g.limits[h];return b===0?100:Math.min(100,y/b*100)},loading:a};return React.createElement(aN.Provider,{value:f},t)};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),nt=(t,e)=>{const n=se.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},u)=>se.createElement("svg",{ref:u,...rU,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${iU(t)}`,o].join(" "),...c},[...e.map(([d,f])=>se.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=nt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=nt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=nt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=nt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=nt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=nt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=nt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=nt("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=nt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=nt("FlipHorizontal",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=nt("FlipVertical",[["path",{d:"M21 8V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v3",key:"14bfxa"}],["path",{d:"M21 16v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3",key:"14rx03"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=nt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=nt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=nt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=nt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=nt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=nt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=nt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=nt("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=nt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=nt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=nt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=nt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=nt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=nt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=nt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=nt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=nt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=nt("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=nt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=nt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=nt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=nt("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=nt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=nt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=nt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=nt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=nt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=nt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=nt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=nt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=nt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),fN=se.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),b0=se.createContext({}),x0=se.createContext(null),_0=typeof document<"u",zw=_0?se.useLayoutEffect:se.useEffect,pN=se.createContext({strict:!1}),jw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),wU="framerAppearId",mN="data-"+jw(wU);function bU(t,e,n,r){const{visualElement:i}=se.useContext(b0),s=se.useContext(pN),a=se.useContext(x0),o=se.useContext(fN).reducedMotion,l=se.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;se.useInsertionEffect(()=>{c&&c.update(n,a)});const u=se.useRef(!!(n[mN]&&!window.HandoffComplete));return zw(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),se.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function $c(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xU(t,e,n){return se.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):$c(n)&&(n.current=r))},[e])}function Qh(t){return typeof t=="string"||Array.isArray(t)}function E0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Vw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ww=["initial",...Vw];function S0(t){return E0(t.animate)||Ww.some(e=>Qh(t[e]))}function gN(t){return!!(S0(t)||t.variants)}function _U(t,e){if(S0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Qh(n)?n:void 0,animate:Qh(r)?r:void 0}}return t.inherit!==!1?e:{}}function EU(t){const{initial:e,animate:n}=_U(t,se.useContext(b0));return se.useMemo(()=>({initial:e,animate:n}),[A3(e),A3(n)])}function A3(t){return Array.isArray(t)?t.join(" "):t}const I3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jh={};for(const t in I3)Jh[t]={isEnabled:e=>I3[t].some(n=>!!e[n])};function SU(t){for(const e in t)Jh[e]={...Jh[e],...t[e]}}const Hw=se.createContext({}),yN=se.createContext({}),kU=Symbol.for("motionComponentSymbol");function RU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&SU(t);function s(o,l){let c;const u={...se.useContext(fN),...o,layoutId:NU(o)},{isStatic:d}=u,f=EU(o),h=r(o,d);if(!d&&_0){f.visualElement=bU(i,h,u,e);const g=se.useContext(yN),y=se.useContext(pN).strict;f.visualElement&&(c=f.visualElement.loadFeatures(u,y,t,g))}return se.createElement(b0.Provider,{value:f},c&&f.visualElement?se.createElement(c,{visualElement:f.visualElement,...u}):null,n(i,o,xU(h,f.visualElement,l),h,d,f.visualElement))}const a=se.forwardRef(s);return a[kU]=i,a}function NU({layoutId:t}){const e=se.useContext(Hw).id;return e&&t!==void 0?e+"-"+t:t}function CU(t){function e(r,i={}){return RU(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const AU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qw(t){return typeof t!="string"||t.includes("-")?!1:!!(AU.indexOf(t)>-1||/[A-Z]/.test(t))}const wg={};function IU(t){Object.assign(wg,t)}const bf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gl=new Set(bf);function vN(t,{layout:e,layoutId:n}){return Gl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wg[t]||t==="opacity")}const qr=t=>!!(t&&t.getVelocity),PU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TU=bf.length;function LU(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let a=0;a<TU;a++){const o=bf[a];if(t[o]!==void 0){const l=PU[o]||o;s+=`${l}(${t[o]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const wN=t=>e=>typeof e=="string"&&e.startsWith(t),bN=wN("--"),mv=wN("var(--"),OU=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,DU=(t,e)=>e&&typeof t=="number"?e.transform(t):t,No=(t,e,n)=>Math.min(Math.max(n,t),e),Kl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mh={...Kl,transform:t=>No(0,1,t)},Fp={...Kl,default:1},gh=t=>Math.round(t*1e5)/1e5,k0=/(-)?([\d]*\.?[\d])+/g,xN=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,FU=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function xf(t){return typeof t=="string"}const _f=t=>({test:e=>xf(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ua=_f("deg"),ks=_f("%"),st=_f("px"),MU=_f("vh"),UU=_f("vw"),P3={...ks,parse:t=>ks.parse(t)/100,transform:t=>ks.transform(t*100)},T3={...Kl,transform:Math.round},_N={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,size:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,rotate:Ua,rotateX:Ua,rotateY:Ua,rotateZ:Ua,scale:Fp,scaleX:Fp,scaleY:Fp,scaleZ:Fp,skew:Ua,skewX:Ua,skewY:Ua,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:mh,originX:P3,originY:P3,originZ:st,zIndex:T3,fillOpacity:mh,strokeOpacity:mh,numOctaves:T3};function $w(t,e,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=t;let l=!1,c=!1,u=!0;for(const d in e){const f=e[d];if(bN(d)){s[d]=f;continue}const h=_N[d],g=DU(f,h);if(Gl.has(d)){if(l=!0,a[d]=g,!u)continue;f!==(h.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,o[d]=g):i[d]=g}if(e.transform||(l||r?i.transform=LU(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:h=0}=o;i.transformOrigin=`${d} ${f} ${h}`}}const Gw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function EN(t,e,n){for(const r in e)!qr(e[r])&&!vN(r,n)&&(t[r]=e[r])}function BU({transformTemplate:t},e,n){return se.useMemo(()=>{const r=Gw();return $w(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function zU(t,e,n){const r=t.style||{},i={};return EN(i,r,t),Object.assign(i,BU(t,e,n)),t.transformValues?t.transformValues(i):i}function jU(t,e,n){const r={},i=zU(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const VU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||VU.has(t)}let SN=t=>!bg(t);function WU(t){t&&(SN=e=>e.startsWith("on")?!bg(e):t(e))}try{WU(require("@emotion/is-prop-valid").default)}catch{}function HU(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(SN(i)||n===!0&&bg(i)||!e&&!bg(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function L3(t,e,n){return typeof t=="string"?t:st.transform(e+n*t)}function qU(t,e,n){const r=L3(e,t.x,t.width),i=L3(n,t.y,t.height);return`${r} ${i}`}const $U={offset:"stroke-dashoffset",array:"stroke-dasharray"},GU={offset:"strokeDashoffset",array:"strokeDasharray"};function KU(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?$U:GU;t[s.offset]=st.transform(-r);const a=st.transform(e),o=st.transform(n);t[s.array]=`${a} ${o}`}function Kw(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},u,d,f){if($w(t,c,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:g,dimensions:y}=t;h.transform&&(y&&(g.transform=h.transform),delete h.transform),y&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=qU(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&KU(h,a,o,l,!1)}const kN=()=>({...Gw(),attrs:{}}),Yw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function YU(t,e,n,r){const i=se.useMemo(()=>{const s=kN();return Kw(s,e,{enableHardwareAcceleration:!1},Yw(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};EN(s,t.style,t),i.style={...s,...i.style}}return i}function XU(t=!1){return(n,r,i,{latestValues:s},a)=>{const l=(qw(n)?YU:jU)(r,s,a,n),u={...HU(r,typeof n=="string",t),...l,ref:i},{children:d}=r,f=se.useMemo(()=>qr(d)?d.get():d,[d]);return se.createElement(n,{...u,children:f})}}function RN(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const NN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CN(t,e,n,r){RN(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(NN.has(i)?i:jw(i),e.attrs[i])}function Xw(t,e){const{style:n}=t,r={};for(const i in n)(qr(n[i])||e.style&&qr(e.style[i])||vN(i,t))&&(r[i]=n[i]);return r}function AN(t,e){const n=Xw(t,e);for(const r in t)if(qr(t[r])||qr(e[r])){const i=bf.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Qw(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function IN(t){const e=se.useRef(null);return e.current===null&&(e.current=t()),e.current}const xg=t=>Array.isArray(t),QU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),JU=t=>xg(t)?t[t.length-1]||0:t;function pm(t){const e=qr(t)?t.get():t;return QU(e)?e.toValue():e}function ZU({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const a={latestValues:eB(r,i,s,t),renderState:e()};return n&&(a.mount=o=>n(r,o,a)),a}const PN=t=>(e,n)=>{const r=se.useContext(b0),i=se.useContext(x0),s=()=>ZU(t,e,r,i);return n?s():IN(s)};function eB(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=pm(s[f]);let{initial:a,animate:o}=t;const l=S0(t),c=gN(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const d=u?o:a;return d&&typeof d!="boolean"&&!E0(d)&&(Array.isArray(d)?d:[d]).forEach(h=>{const g=Qw(t,h);if(!g)return;const{transitionEnd:y,transition:b,...m}=g;for(const w in m){let x=m[w];if(Array.isArray(x)){const N=u?x.length-1:0;x=x[N]}x!==null&&(i[w]=x)}for(const w in y)i[w]=y[w]}),i}const xn=t=>t;class O3{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function tB(t){let e=new O3,n=new O3,r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:(l,c=!1,u=!1)=>{const d=u&&i,f=d?e:n;return c&&a.add(l),f.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),a.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),a.has(u)&&(o.schedule(u),t())}i=!1,s&&(s=!1,o.process(l))}};return o}const Mp=["prepare","read","update","preRender","render","postRender"],nB=40;function rB(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Mp.reduce((d,f)=>(d[f]=tB(()=>n=!0),d),{}),a=d=>s[d].process(i),o=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,nB),1),i.timestamp=d,i.isProcessing=!0,Mp.forEach(a),i.isProcessing=!1,n&&e&&(r=!1,t(o))},l=()=>{n=!0,r=!0,i.isProcessing||t(o)};return{schedule:Mp.reduce((d,f)=>{const h=s[f];return d[f]=(g,y=!1,b=!1)=>(n||l(),h.schedule(g,y,b)),d},{}),cancel:d=>Mp.forEach(f=>s[f].cancel(d)),state:i,steps:s}}const{schedule:Gt,cancel:pa,state:pr,steps:g2}=rB(typeof requestAnimationFrame<"u"?requestAnimationFrame:xn,!0),iB={useVisualState:PN({scrapeMotionValuesFromProps:AN,createRenderState:kN,onMount:(t,e,{renderState:n,latestValues:r})=>{Gt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Gt.render(()=>{Kw(n,r,{enableHardwareAcceleration:!1},Yw(e.tagName),t.transformTemplate),CN(e,n)})}})},sB={useVisualState:PN({scrapeMotionValuesFromProps:Xw,createRenderState:Gw})};function aB(t,{forwardMotionProps:e=!1},n,r){return{...qw(t)?iB:sB,preloadedFeatures:n,useRender:XU(e),createVisualElement:r,Component:t}}function Zs(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const TN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function R0(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const oB=t=>e=>TN(e)&&t(e,R0(e));function ra(t,e,n,r){return Zs(t,e,oB(n),r)}const lB=(t,e)=>n=>e(t(n)),wo=(...t)=>t.reduce(lB);function LN(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const D3=LN("dragHorizontal"),F3=LN("dragVertical");function ON(t){let e=!1;if(t==="y")e=F3();else if(t==="x")e=D3();else{const n=D3(),r=F3();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function DN(){const t=ON(!0);return t?(t(),!1):!0}class Uo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function M3(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,a)=>{if(s.pointerType==="touch"||DN())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[r]&&Gt.update(()=>o[r](s,a))};return ra(t.current,n,i,{passive:!t.getProps()[r]})}class cB extends Uo{mount(){this.unmount=wo(M3(this.node,!0),M3(this.node,!1))}unmount(){}}class uB extends Uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wo(Zs(this.node.current,"focus",()=>this.onFocus()),Zs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const FN=(t,e)=>e?t===e?!0:FN(t,e.parentElement):!1;function y2(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,R0(n))}class dB extends Uo{constructor(){super(...arguments),this.removeStartListeners=xn,this.removeEndListeners=xn,this.removeAccessibleListeners=xn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=ra(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();Gt.update(()=>{!d&&!FN(this.node.current,o.target)?u&&u(o,l):c&&c(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),a=ra(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wo(s,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||y2("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Gt.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Zs(this.node.current,"keyup",a),y2("down",(o,l)=>{this.startPress(o,l)})},n=Zs(this.node.current,"keydown",e),r=()=>{this.isPressing&&y2("cancel",(s,a)=>this.cancelPress(s,a))},i=Zs(this.node.current,"blur",r);this.removeAccessibleListeners=wo(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Gt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!DN()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Gt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ra(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Zs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const gv=new WeakMap,v2=new WeakMap,hB=t=>{const e=gv.get(t.target);e&&e(t)},fB=t=>{t.forEach(hB)};function pB({root:t,...e}){const n=t||document;v2.has(n)||v2.set(n,{});const r=v2.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(fB,{root:t,...e})),r[i]}function mB(t,e,n){const r=pB(e);return gv.set(t,n),r.observe(t),()=>{gv.delete(t),r.unobserve(t)}}const gB={some:0,all:1};class yB extends Uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:gB[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return mB(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vB(e,n))&&this.startObserver()}unmount(){}}function vB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wB={inView:{Feature:yB},tap:{Feature:dB},focus:{Feature:uB},hover:{Feature:cB}};function MN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function bB(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function xB(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function N0(t,e,n){const r=t.getProps();return Qw(r,e,n!==void 0?n:r.custom,bB(t),xB(t))}let Jw=xn;const Sl=t=>t*1e3,ia=t=>t/1e3,_B={current:!1},UN=t=>Array.isArray(t)&&typeof t[0]=="number";function BN(t){return!!(!t||typeof t=="string"&&zN[t]||UN(t)||Array.isArray(t)&&t.every(BN))}const Jd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,zN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jd([0,.65,.55,1]),circOut:Jd([.55,0,1,.45]),backIn:Jd([.31,.01,.66,-.59]),backOut:Jd([.33,1.53,.69,.99])};function jN(t){if(t)return UN(t)?Jd(t):Array.isArray(t)?t.map(jN):zN[t]}function EB(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=jN(o);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function SB(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const VN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,kB=1e-7,RB=12;function NB(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=VN(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>kB&&++o<RB);return a}function Ef(t,e,n,r){if(t===e&&n===r)return xn;const i=s=>NB(s,0,1,t,n);return s=>s===0||s===1?s:VN(i(s),e,r)}const CB=Ef(.42,0,1,1),AB=Ef(0,0,.58,1),WN=Ef(.42,0,.58,1),IB=t=>Array.isArray(t)&&typeof t[0]!="number",HN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qN=t=>e=>1-t(1-e),Zw=t=>1-Math.sin(Math.acos(t)),$N=qN(Zw),PB=HN(Zw),GN=Ef(.33,1.53,.69,.99),eb=qN(GN),TB=HN(eb),LB=t=>(t*=2)<1?.5*eb(t):.5*(2-Math.pow(2,-10*(t-1))),OB={linear:xn,easeIn:CB,easeInOut:WN,easeOut:AB,circIn:Zw,circInOut:PB,circOut:$N,backIn:eb,backInOut:TB,backOut:GN,anticipate:LB},U3=t=>{if(Array.isArray(t)){Jw(t.length===4);const[e,n,r,i]=t;return Ef(e,n,r,i)}else if(typeof t=="string")return OB[t];return t},tb=(t,e)=>n=>!!(xf(n)&&FU.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),KN=(t,e,n)=>r=>{if(!xf(r))return r;const[i,s,a,o]=r.match(k0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},DB=t=>No(0,255,t),w2={...Kl,transform:t=>Math.round(DB(t))},gl={test:tb("rgb","red"),parse:KN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+w2.transform(t)+", "+w2.transform(e)+", "+w2.transform(n)+", "+gh(mh.transform(r))+")"};function FB(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const yv={test:tb("#"),parse:FB,transform:gl.transform},Gc={test:tb("hsl","hue"),parse:KN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ks.transform(gh(e))+", "+ks.transform(gh(n))+", "+gh(mh.transform(r))+")"},Er={test:t=>gl.test(t)||yv.test(t)||Gc.test(t),parse:t=>gl.test(t)?gl.parse(t):Gc.test(t)?Gc.parse(t):yv.parse(t),transform:t=>xf(t)?t:t.hasOwnProperty("red")?gl.transform(t):Gc.transform(t)},nn=(t,e,n)=>-n*t+n*e+t;function b2(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function MB({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=b2(l,o,t+1/3),s=b2(l,o,t),a=b2(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}const x2=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},UB=[yv,gl,Gc],BB=t=>UB.find(e=>e.test(t));function B3(t){const e=BB(t);let n=e.parse(t);return e===Gc&&(n=MB(n)),n}const YN=(t,e)=>{const n=B3(t),r=B3(e),i={...n};return s=>(i.red=x2(n.red,r.red,s),i.green=x2(n.green,r.green,s),i.blue=x2(n.blue,r.blue,s),i.alpha=nn(n.alpha,r.alpha,s),gl.transform(i))};function zB(t){var e,n;return isNaN(t)&&xf(t)&&(((e=t.match(k0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(xN))===null||n===void 0?void 0:n.length)||0)>0}const XN={regex:OU,countKey:"Vars",token:"${v}",parse:xn},QN={regex:xN,countKey:"Colors",token:"${c}",parse:Er.parse},JN={regex:k0,countKey:"Numbers",token:"${n}",parse:Kl.parse};function _2(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function _g(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&_2(n,XN),_2(n,QN),_2(n,JN),n}function ZN(t){return _g(t).values}function eC(t){const{values:e,numColors:n,numVars:r,tokenised:i}=_g(t),s=e.length;return a=>{let o=i;for(let l=0;l<s;l++)l<r?o=o.replace(XN.token,a[l]):l<r+n?o=o.replace(QN.token,Er.transform(a[l])):o=o.replace(JN.token,gh(a[l]));return o}}const jB=t=>typeof t=="number"?0:t;function VB(t){const e=ZN(t);return eC(t)(e.map(jB))}const Co={test:zB,parse:ZN,createTransformer:eC,getAnimatableNone:VB},tC=(t,e)=>n=>`${n>0?e:t}`;function nC(t,e){return typeof t=="number"?n=>nn(t,e,n):Er.test(t)?YN(t,e):t.startsWith("var(")?tC(t,e):iC(t,e)}const rC=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,a)=>nC(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}},WB=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=nC(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},iC=(t,e)=>{const n=Co.createTransformer(e),r=_g(t),i=_g(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?wo(rC(r.values,i.values),n):tC(t,e)},Zh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},z3=(t,e)=>n=>nn(t,e,n);function HB(t){return typeof t=="number"?z3:typeof t=="string"?Er.test(t)?YN:iC:Array.isArray(t)?rC:typeof t=="object"?WB:z3}function qB(t,e,n){const r=[],i=n||HB(t[0]),s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||xn:e;o=wo(l,o)}r.push(o)}return r}function sC(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Jw(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=qB(e,r,i),o=a.length,l=c=>{let u=0;if(o>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=Zh(t[u],t[u+1],c);return a[u](d)};return n?c=>l(No(t[0],t[s-1],c)):l}function $B(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Zh(0,e,r);t.push(nn(n,1,i))}}function GB(t){const e=[0];return $B(e,t.length-1),e}function KB(t,e){return t.map(n=>n*e)}function YB(t,e){return t.map(()=>e||WN).splice(0,t.length-1)}function Eg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=IB(r)?r.map(U3):U3(r),s={done:!1,value:e[0]},a=KB(n&&n.length===e.length?n:GB(e),t),o=sC(a,e,{ease:Array.isArray(i)?i:YB(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}function aC(t,e){return e?t*(1e3/e):0}const XB=5;function oC(t,e,n){const r=Math.max(e-XB,0);return aC(n-t(r),e-r)}const E2=.001,QB=.01,JB=10,ZB=.05,ez=1;function tz({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,a=1-e;a=No(ZB,ez,a),t=No(QB,JB,ia(t)),a<1?(i=c=>{const u=c*a,d=u*t,f=u-n,h=vv(c,a),g=Math.exp(-d);return E2-f/h*g},s=c=>{const d=c*a*t,f=d*n+n,h=Math.pow(a,2)*Math.pow(c,2)*t,g=Math.exp(-d),y=vv(Math.pow(c,2),a);return(-i(c)+E2>0?-1:1)*((f-h)*g)/y}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-E2+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const o=5/t,l=rz(i,s,o);if(t=Sl(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const nz=12;function rz(t,e,n){let r=n;for(let i=1;i<nz;i++)r=r-t(r)/e(r);return r}function vv(t,e){return t*Math.sqrt(1-e*e)}const iz=["duration","bounce"],sz=["stiffness","damping","mass"];function j3(t,e){return e.some(n=>t[n]!==void 0)}function az(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!j3(t,sz)&&j3(t,iz)){const n=tz(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function lC({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],a={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:f}=az({...r,velocity:-ia(r.velocity||0)}),h=d||0,g=l/(2*Math.sqrt(o*c)),y=s-i,b=ia(Math.sqrt(o/c)),m=Math.abs(y)<5;n||(n=m?.01:2),e||(e=m?.005:.5);let w;if(g<1){const x=vv(b,g);w=N=>{const O=Math.exp(-g*b*N);return s-O*((h+g*b*y)/x*Math.sin(x*N)+y*Math.cos(x*N))}}else if(g===1)w=x=>s-Math.exp(-b*x)*(y+(h+b*y)*x);else{const x=b*Math.sqrt(g*g-1);w=N=>{const O=Math.exp(-g*b*N),D=Math.min(x*N,300);return s-O*((h+g*b*y)*Math.sinh(D)+x*y*Math.cosh(D))/x}}return{calculatedDuration:f&&u||null,next:x=>{const N=w(x);if(f)a.done=x>=u;else{let O=h;x!==0&&(g<1?O=oC(w,x,N):O=0);const D=Math.abs(O)<=n,M=Math.abs(s-N)<=e;a.done=D&&M}return a.value=a.done?s:N,a}}}function V3({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},h=R=>o!==void 0&&R<o||l!==void 0&&R>l,g=R=>o===void 0?l:l===void 0||Math.abs(o-R)<Math.abs(l-R)?o:l;let y=n*e;const b=d+y,m=a===void 0?b:a(b);m!==b&&(y=m-d);const w=R=>-y*Math.exp(-R/r),x=R=>m+w(R),N=R=>{const A=w(R),B=x(R);f.done=Math.abs(A)<=c,f.value=f.done?m:B};let O,D;const M=R=>{h(f.value)&&(O=R,D=lC({keyframes:[f.value,g(f.value)],velocity:oC(x,R,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return M(0),{calculatedDuration:null,next:R=>{let A=!1;return!D&&O===void 0&&(A=!0,N(R),M(R)),O!==void 0&&R>O?D.next(R-O):(!A&&N(R),f)}}}const oz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Gt.update(e,!0),stop:()=>pa(e),now:()=>pr.isProcessing?pr.timestamp:performance.now()}},W3=2e4;function H3(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<W3;)e+=n,r=t.next(e);return e>=W3?1/0:e}const lz={decay:V3,inertia:V3,tween:Eg,keyframes:Eg,spring:lC};function Sg({autoplay:t=!0,delay:e=0,driver:n=oz,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...f}){let h=1,g=!1,y,b;const m=()=>{b=new Promise(ne=>{y=ne})};m();let w;const x=lz[i]||Eg;let N;x!==Eg&&typeof r[0]!="number"&&(N=sC([0,100],r,{clamp:!1}),r=[0,100]);const O=x({...f,keyframes:r});let D;o==="mirror"&&(D=x({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let M="idle",R=null,A=null,B=null;O.calculatedDuration===null&&s&&(O.calculatedDuration=H3(O));const{calculatedDuration:L}=O;let k=1/0,I=1/0;L!==null&&(k=L+a,I=k*(s+1)-a);let _=0;const V=ne=>{if(A===null)return;h>0&&(A=Math.min(A,ne)),h<0&&(A=Math.min(ne-I/h,A)),R!==null?_=R:_=Math.round(ne-A)*h;const C=_-e*(h>=0?1:-1),K=h>=0?C<0:C>I;_=Math.max(C,0),M==="finished"&&R===null&&(_=I);let q=_,H=O;if(s){const de=Math.min(_,I)/k;let Re=Math.floor(de),Se=de%1;!Se&&de>=1&&(Se=1),Se===1&&Re--,Re=Math.min(Re,s+1),!!(Re%2)&&(o==="reverse"?(Se=1-Se,a&&(Se-=a/k)):o==="mirror"&&(H=D)),q=No(0,1,Se)*k}const oe=K?{done:!1,value:r[0]}:H.next(q);N&&(oe.value=N(oe.value));let{done:pe}=oe;!K&&L!==null&&(pe=h>=0?_>=I:_<=0);const ue=R===null&&(M==="finished"||M==="running"&&pe);return d&&d(oe.value),ue&&$(),oe},U=()=>{w&&w.stop(),w=void 0},P=()=>{M="idle",U(),y(),m(),A=B=null},$=()=>{M="finished",u&&u(),U(),y()},W=()=>{if(g)return;w||(w=n(V));const ne=w.now();l&&l(),R!==null?A=ne-R:(!A||M==="finished")&&(A=ne),M==="finished"&&m(),B=A,R=null,M="running",w.start()};t&&W();const te={then(ne,C){return b.then(ne,C)},get time(){return ia(_)},set time(ne){ne=Sl(ne),_=ne,R!==null||!w||h===0?R=ne:A=w.now()-ne/h},get duration(){const ne=O.calculatedDuration===null?H3(O):O.calculatedDuration;return ia(ne)},get speed(){return h},set speed(ne){ne===h||!w||(h=ne,te.time=ia(_))},get state(){return M},play:W,pause:()=>{M="paused",R=_},stop:()=>{g=!0,M!=="idle"&&(M="idle",c&&c(),P())},cancel:()=>{B!==null&&V(B),P()},complete:()=>{M="finished"},sample:ne=>(A=0,V(ne))};return te}function cz(t){let e;return()=>(e===void 0&&(e=t()),e)}const uz=cz(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),dz=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Up=10,hz=2e4,fz=(t,e)=>e.type==="spring"||t==="backgroundColor"||!BN(e.ease);function pz(t,e,{onUpdate:n,onComplete:r,...i}){if(!(uz()&&dz.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,o,l,c=!1;const u=()=>{l=new Promise(x=>{o=x})};u();let{keyframes:d,duration:f=300,ease:h,times:g}=i;if(fz(e,i)){const x=Sg({...i,repeat:0,delay:0});let N={done:!1,value:d[0]};const O=[];let D=0;for(;!N.done&&D<hz;)N=x.sample(D),O.push(N.value),D+=Up;g=void 0,d=O,f=D-Up,h="linear"}const y=EB(t.owner.current,e,d,{...i,duration:f,ease:h,times:g}),b=()=>{c=!1,y.cancel()},m=()=>{c=!0,Gt.update(b),o(),u()};return y.onfinish=()=>{c||(t.set(SB(d,i)),r&&r(),m())},{then(x,N){return l.then(x,N)},attachTimeline(x){return y.timeline=x,y.onfinish=null,xn},get time(){return ia(y.currentTime||0)},set time(x){y.currentTime=Sl(x)},get speed(){return y.playbackRate},set speed(x){y.playbackRate=x},get duration(){return ia(f)},play:()=>{a||(y.play(),pa(b))},pause:()=>y.pause(),stop:()=>{if(a=!0,y.playState==="idle")return;const{currentTime:x}=y;if(x){const N=Sg({...i,autoplay:!1});t.setWithVelocity(N.sample(x-Up).value,N.sample(x).value,Up)}m()},complete:()=>{c||y.finish()},cancel:m}}function mz({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:xn,pause:xn,stop:xn,then:s=>(s(),Promise.resolve()),cancel:xn,complete:xn});return e?Sg({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const gz={type:"spring",stiffness:500,damping:25,restSpeed:10},yz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),vz={type:"keyframes",duration:.8},wz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bz=(t,{keyframes:e})=>e.length>2?vz:Gl.has(t)?t.startsWith("scale")?yz(e[1]):gz:wz,wv=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Co.test(e)||e==="0")&&!e.startsWith("url(")),xz=new Set(["brightness","contrast","saturate","opacity"]);function _z(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(k0)||[];if(!r)return t;const i=n.replace(r,"");let s=xz.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Ez=/([a-z-]*)\(.*?\)/g,bv={...Co,getAnimatableNone:t=>{const e=t.match(Ez);return e?e.map(_z).join(" "):t}},Sz={..._N,color:Er,backgroundColor:Er,outlineColor:Er,fill:Er,stroke:Er,borderColor:Er,borderTopColor:Er,borderRightColor:Er,borderBottomColor:Er,borderLeftColor:Er,filter:bv,WebkitFilter:bv},nb=t=>Sz[t];function cC(t,e){let n=nb(t);return n!==bv&&(n=Co),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const uC=t=>/^0[^.\s]+$/.test(t);function kz(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||uC(t)}function Rz(t,e,n,r){const i=wv(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const a=r.from!==void 0?r.from:t.get();let o;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?a:s[c-1]),kz(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(o=s[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const u=l[c];s[u]=cC(e,o)}return s}function Nz({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function rb(t,e){return t[e]||t.default||t}const Cz={skipAnimations:!1},ib=(t,e,n,r={})=>i=>{const s=rb(r,t)||{},a=s.delay||r.delay||0;let{elapsed:o=0}=r;o=o-Sl(a);const l=Rz(e,t,n,s),c=l[0],u=l[l.length-1],d=wv(t,c),f=wv(t,u);let h={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-o,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Nz(s)||(h={...h,...bz(t,h)}),h.duration&&(h.duration=Sl(h.duration)),h.repeatDelay&&(h.repeatDelay=Sl(h.repeatDelay)),!d||!f||_B.current||s.type===!1||Cz.skipAnimations)return mz(h);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=pz(e,t,h);if(g)return g}return Sg(h)};function kg(t){return!!(qr(t)&&t.add)}const dC=t=>/^\-?\d*\.?\d+$/.test(t);function sb(t,e){t.indexOf(e)===-1&&t.push(e)}function ab(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ob{constructor(){this.subscriptions=[]}add(e){return sb(this.subscriptions,e),()=>ab(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Az=t=>!isNaN(parseFloat(t));class Iz{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:a}=pr;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,Gt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Gt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Az(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ob);const r=this.events[e].add(n);return e==="change"?()=>{r(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?aC(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lu(t,e){return new Iz(t,e)}const hC=t=>e=>e.test(t),Pz={test:t=>t==="auto",parse:t=>t},fC=[Kl,st,ks,Ua,UU,MU,Pz],zd=t=>fC.find(hC(t)),Tz=[...fC,Er,Co],Lz=t=>Tz.find(hC(t));function Oz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Lu(n))}function Dz(t,e){const n=N0(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const a in s){const o=JU(s[a]);Oz(t,a,o)}}function Fz(t,e,n){var r,i;const s=Object.keys(e).filter(o=>!t.hasValue(o)),a=s.length;if(a)for(let o=0;o<a;o++){const l=s[o],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(dC(u)||uC(u))?u=parseFloat(u):!Lz(u)&&Co.test(c)&&(u=cC(l,c)),t.addValue(l,Lu(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function Mz(t,e){return e?(e[t]||e.default||e).from:void 0}function Uz(t,e,n){const r={};for(const i in t){const s=Mz(i,e);if(s!==void 0)r[i]=s;else{const a=n.getValue(i);a&&(r[i]=a.get())}}return r}function Bz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function zz(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function pC(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in o){const f=t.getValue(d),h=o[d];if(!f||h===void 0||u&&Bz(u,d))continue;const g={delay:n,elapsed:0,...rb(s||{},d)};if(window.HandoffAppearAnimations){const m=t.getProps()[mN];if(m){const w=window.HandoffAppearAnimations(m,d,f,Gt);w!==null&&(g.elapsed=w,g.isHandoff=!0)}}let y=!g.isHandoff&&!zz(f,h);if(g.type==="spring"&&(f.getVelocity()||g.velocity)&&(y=!1),f.animation&&(y=!1),y)continue;f.start(ib(d,f,h,t.shouldReduceMotion&&Gl.has(d)?{type:!1}:g));const b=f.animation;kg(l)&&(l.add(d),b.then(()=>l.remove(d))),c.push(b)}return a&&Promise.all(c).then(()=>{a&&Dz(t,a)}),c}function xv(t,e,n={}){const r=N0(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(pC(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=i;return jz(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[s,a]:[a,s];return l().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function jz(t,e,n=0,r=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(t.variantChildren).sort(Vz).forEach((c,u)=>{c.notify("AnimationStart",e),a.push(xv(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function Vz(t,e){return t.sortNodePosition(e)}function Wz(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>xv(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=xv(t,e,n);else{const i=typeof e=="function"?N0(t,e,n.custom):e;r=Promise.all(pC(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const Hz=[...Vw].reverse(),qz=Vw.length;function $z(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Wz(t,n,r)))}function Gz(t){let e=$z(t);const n=Yz();let r=!0;const i=(l,c)=>{const u=N0(t,c);if(u){const{transition:d,transitionEnd:f,...h}=u;l={...l,...h,...f}}return l};function s(l){e=l(t)}function a(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},f=[],h=new Set;let g={},y=1/0;for(let m=0;m<qz;m++){const w=Hz[m],x=n[w],N=u[w]!==void 0?u[w]:d[w],O=Qh(N),D=w===c?x.isActive:null;D===!1&&(y=m);let M=N===d[w]&&N!==u[w]&&O;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),x.protectedKeys={...g},!x.isActive&&D===null||!N&&!x.prevProp||E0(N)||typeof N=="boolean")continue;let A=Kz(x.prevProp,N)||w===c&&x.isActive&&!M&&O||m>y&&O,B=!1;const L=Array.isArray(N)?N:[N];let k=L.reduce(i,{});D===!1&&(k={});const{prevResolvedValues:I={}}=x,_={...I,...k},V=U=>{A=!0,h.has(U)&&(B=!0,h.delete(U)),x.needsAnimating[U]=!0};for(const U in _){const P=k[U],$=I[U];if(g.hasOwnProperty(U))continue;let W=!1;xg(P)&&xg($)?W=!MN(P,$):W=P!==$,W?P!==void 0?V(U):h.add(U):P!==void 0&&h.has(U)?V(U):x.protectedKeys[U]=!0}x.prevProp=N,x.prevResolvedValues=k,x.isActive&&(g={...g,...k}),r&&t.blockInitialAnimation&&(A=!1),A&&(!M||B)&&f.push(...L.map(U=>({animation:U,options:{type:w,...l}})))}if(h.size){const m={};h.forEach(w=>{const x=t.getBaseTarget(w);x!==void 0&&(m[w]=x)}),f.push({animation:m})}let b=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(f):Promise.resolve()}function o(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(h=>{var g;return(g=h.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const f=a(u,l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n}}function Kz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!MN(e,t):!1}function el(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yz(){return{animate:el(!0),whileInView:el(),whileHover:el(),whileTap:el(),whileDrag:el(),whileFocus:el(),exit:el()}}class Xz extends Uo{constructor(e){super(e),e.animationState||(e.animationState=Gz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),E0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Qz=0;class Jz extends Uo{constructor(){super(...arguments),this.id=Qz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Zz={animation:{Feature:Xz},exit:{Feature:Jz}},q3=(t,e)=>Math.abs(t-e);function ej(t,e){const n=q3(t.x,e.x),r=q3(t.y,e.y);return Math.sqrt(n**2+r**2)}class mC{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=k2(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=ej(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:g}=d,{timestamp:y}=pr;this.history.push({...g,timestamp:y});const{onStart:b,onMove:m}=this.handlers;f||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=S2(f,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=k2(d.type==="pointercancel"?this.lastMoveEventInfo:S2(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,b),g&&g(d,b)},!TN(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=R0(e),o=S2(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=pr;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,k2(o,this.history)),this.removeListeners=wo(ra(this.contextWindow,"pointermove",this.handlePointerMove),ra(this.contextWindow,"pointerup",this.handlePointerUp),ra(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pa(this.updatePoint)}}function S2(t,e){return e?{point:e(t.point)}:t}function $3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function k2({point:t},e){return{point:t,delta:$3(t,gC(e)),offset:$3(t,tj(e)),velocity:nj(e,.1)}}function tj(t){return t[0]}function gC(t){return t[t.length-1]}function nj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=gC(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Sl(e)));)n--;if(!r)return{x:0,y:0};const s=ia(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function si(t){return t.max-t.min}function _v(t,e=0,n=.01){return Math.abs(t-e)<=n}function G3(t,e,n,r=.5){t.origin=r,t.originPoint=nn(e.min,e.max,t.origin),t.scale=si(n)/si(e),(_v(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=nn(n.min,n.max,t.origin)-t.originPoint,(_v(t.translate)||isNaN(t.translate))&&(t.translate=0)}function yh(t,e,n,r){G3(t.x,e.x,n.x,r?r.originX:void 0),G3(t.y,e.y,n.y,r?r.originY:void 0)}function K3(t,e,n){t.min=n.min+e.min,t.max=t.min+si(e)}function rj(t,e,n){K3(t.x,e.x,n.x),K3(t.y,e.y,n.y)}function Y3(t,e,n){t.min=e.min-n.min,t.max=t.min+si(e)}function vh(t,e,n){Y3(t.x,e.x,n.x),Y3(t.y,e.y,n.y)}function ij(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?nn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?nn(n,t,r.max):Math.min(t,n)),t}function X3(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function sj(t,{top:e,left:n,bottom:r,right:i}){return{x:X3(t.x,n,i),y:X3(t.y,e,r)}}function Q3(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function aj(t,e){return{x:Q3(t.x,e.x),y:Q3(t.y,e.y)}}function oj(t,e){let n=.5;const r=si(t),i=si(e);return i>r?n=Zh(e.min,e.max-r,t.min):r>i&&(n=Zh(t.min,t.max-i,e.min)),No(0,1,n)}function lj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ev=.35;function cj(t=Ev){return t===!1?t=0:t===!0&&(t=Ev),{x:J3(t,"left","right"),y:J3(t,"top","bottom")}}function J3(t,e,n){return{min:Z3(t,e),max:Z3(t,n)}}function Z3(t,e){return typeof t=="number"?t:t[e]||0}const e4=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kc=()=>({x:e4(),y:e4()}),t4=()=>({min:0,max:0}),Cn=()=>({x:t4(),y:t4()});function vi(t){return[t("x"),t("y")]}function yC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function uj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function dj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function R2(t){return t===void 0||t===1}function Sv({scale:t,scaleX:e,scaleY:n}){return!R2(t)||!R2(e)||!R2(n)}function sl(t){return Sv(t)||vC(t)||t.z||t.rotate||t.rotateX||t.rotateY}function vC(t){return n4(t.x)||n4(t.y)}function n4(t){return t&&t!=="0%"}function Rg(t,e,n){const r=t-n,i=e*r;return n+i}function r4(t,e,n,r,i){return i!==void 0&&(t=Rg(t,i,r)),Rg(t,n,r)+e}function kv(t,e=0,n=1,r,i){t.min=r4(t.min,e,n,r,i),t.max=r4(t.max,e,n,r,i)}function wC(t,{x:e,y:n}){kv(t.x,e.translate,e.scale,e.originPoint),kv(t.y,n.translate,n.scale,n.originPoint)}function hj(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Yc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,wC(t,a)),r&&sl(s.latestValues)&&Yc(t,s.latestValues))}e.x=i4(e.x),e.y=i4(e.y)}function i4(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ja(t,e){t.min=t.min+e,t.max=t.max+e}function s4(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,a=nn(t.min,t.max,s);kv(t,e[n],e[r],a,e.scale)}const fj=["x","scaleX","originX"],pj=["y","scaleY","originY"];function Yc(t,e){s4(t.x,e,fj),s4(t.y,e,pj)}function bC(t,e){return yC(dj(t.getBoundingClientRect(),e))}function mj(t,e,n){const r=bC(t,n),{scroll:i}=e;return i&&(ja(r.x,i.offset.x),ja(r.y,i.offset.y)),r}const xC=({current:t})=>t?t.ownerDocument.defaultView:null,gj=new WeakMap;class yj{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(R0(u,"page").point)},s=(u,d)=>{const{drag:f,dragPropagation:h,onDragStart:g}=this.getProps();if(f&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ON(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vi(b=>{let m=this.getAxisMotionValue(b).get()||0;if(ks.test(m)){const{projection:w}=this.visualElement;if(w&&w.layout){const x=w.layout.layoutBox[b];x&&(m=si(x)*(parseFloat(m)/100))}}this.originPoint[b]=m}),g&&Gt.update(()=>g(u,d),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(u,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=d;if(h&&this.currentDirection===null){this.currentDirection=vj(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),y&&y(u,d)},o=(u,d)=>this.stop(u,d),l=()=>vi(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new mC(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:xC(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Gt.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Bp(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=ij(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&$c(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=sj(i.layoutBox,n):this.constraints=!1,this.elastic=cj(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&vi(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=lj(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$c(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=mj(r,i.root,this.visualElement.getTransformPagePoint());let a=aj(i.layout.layoutBox,s);if(n){const o=n(uj(a));this.hasMutatedConstraints=!!o,o&&(a=yC(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=vi(u=>{if(!Bp(u,n,this.currentDirection))return;let d=l&&l[u]||{};a&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(ib(e,r,0,n))}stopAnimation(){vi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vi(n=>{const{drag:r}=this.getProps();if(!Bp(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-nn(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$c(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};vi(a=>{const o=this.getAxisMotionValue(a);if(o){const l=o.get();i[a]=oj({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vi(a=>{if(!Bp(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(nn(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;gj.set(this.visualElement,this);const e=this.visualElement.current,n=ra(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();$c(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const a=Zs(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(vi(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Ev,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Bp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function vj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class wj extends Uo{constructor(e){super(e),this.removeGroupControls=xn,this.removeListeners=xn,this.controls=new yj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const a4=t=>(e,n)=>{t&&Gt.update(()=>t(e,n))};class bj extends Uo{constructor(){super(...arguments),this.removePointerDownListener=xn}onPointerDown(e){this.session=new mC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:a4(e),onStart:a4(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Gt.update(()=>i(s,a))}}}mount(){this.removePointerDownListener=ra(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function xj(){const t=se.useContext(x0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=se.useId();return se.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const mm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function o4(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(st.test(t))t=parseFloat(t);else return t;const n=o4(t,e.target.x),r=o4(t,e.target.y);return`${n}% ${r}%`}},_j={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Co.parse(t);if(i.length>5)return r;const s=Co.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=nn(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};class Ej extends Jc.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;IU(Sj),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),mm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Gt.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _C(t){const[e,n]=xj(),r=se.useContext(Hw);return Jc.createElement(Ej,{...t,layoutGroup:r,switchLayoutGroup:se.useContext(yN),isPresent:e,safeToRemove:n})}const Sj={borderRadius:{...jd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jd,borderTopRightRadius:jd,borderBottomLeftRadius:jd,borderBottomRightRadius:jd,boxShadow:_j},EC=["TopLeft","TopRight","BottomLeft","BottomRight"],kj=EC.length,l4=t=>typeof t=="string"?parseFloat(t):t,c4=t=>typeof t=="number"||st.test(t);function Rj(t,e,n,r,i,s){i?(t.opacity=nn(0,n.opacity!==void 0?n.opacity:1,Nj(r)),t.opacityExit=nn(e.opacity!==void 0?e.opacity:1,0,Cj(r))):s&&(t.opacity=nn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<kj;a++){const o=`border${EC[a]}Radius`;let l=u4(e,o),c=u4(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||c4(l)===c4(c)?(t[o]=Math.max(nn(l4(l),l4(c),r),0),(ks.test(c)||ks.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=nn(e.rotate||0,n.rotate||0,r))}function u4(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Nj=SC(0,.5,$N),Cj=SC(.5,.95,xn);function SC(t,e,n){return r=>r<t?0:r>e?1:n(Zh(t,e,r))}function d4(t,e){t.min=e.min,t.max=e.max}function yi(t,e){d4(t.x,e.x),d4(t.y,e.y)}function h4(t,e,n,r,i){return t-=e,t=Rg(t,1/n,r),i!==void 0&&(t=Rg(t,1/i,r)),t}function Aj(t,e=0,n=1,r=.5,i,s=t,a=t){if(ks.test(e)&&(e=parseFloat(e),e=nn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=nn(s.min,s.max,r);t===s&&(o-=e),t.min=h4(t.min,e,n,o,i),t.max=h4(t.max,e,n,o,i)}function f4(t,e,[n,r,i],s,a){Aj(t,e[n],e[r],e[i],e.scale,s,a)}const Ij=["x","scaleX","originX"],Pj=["y","scaleY","originY"];function p4(t,e,n,r){f4(t.x,e,Ij,n?n.x:void 0,r?r.x:void 0),f4(t.y,e,Pj,n?n.y:void 0,r?r.y:void 0)}function m4(t){return t.translate===0&&t.scale===1}function kC(t){return m4(t.x)&&m4(t.y)}function Tj(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function RC(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function g4(t){return si(t.x)/si(t.y)}class Lj{constructor(){this.members=[]}add(e){sb(this.members,e),e.scheduleRender()}remove(e){if(ab(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function y4(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(r+=`scale(${a}, ${o})`),r||"none"}const Oj=(t,e)=>t.depth-e.depth;class Dj{constructor(){this.children=[],this.isDirty=!1}add(e){sb(this.children,e),this.isDirty=!0}remove(e){ab(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Oj),this.isDirty=!1,this.children.forEach(e)}}function Fj(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(pa(r),t(s-e))};return Gt.read(r,!0),()=>pa(r)}function Mj(t){window.MotionDebug&&window.MotionDebug.record(t)}function Uj(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Bj(t,e,n){const r=qr(t)?t:Lu(t);return r.start(ib("",r,e,n)),r.animation}const v4=["","X","Y","Z"],zj={visibility:"hidden"},w4=1e3;let jj=0;const al={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function NC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=jj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,al.totalNodes=al.resolvedTargetDeltas=al.recalculatedProjection=0,this.nodes.forEach(Hj),this.nodes.forEach(Yj),this.nodes.forEach(Xj),this.nodes.forEach(qj),Mj(al)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Dj)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ob),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Uj(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Fj(f,250),mm.hasAnimatedSinceResize&&(mm.hasAnimatedSinceResize=!1,this.nodes.forEach(x4))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||tV,{onLayoutAnimationStart:b,onLayoutAnimationComplete:m}=u.getProps(),w=!this.targetLayout||!RC(this.targetLayout,g)||h,x=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const N={...rb(y,"layout"),onPlay:b,onComplete:m};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else f||x4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qj),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(b4);return}this.isUpdating||this.nodes.forEach(Gj),this.isUpdating=!1,this.nodes.forEach(Kj),this.nodes.forEach(Vj),this.nodes.forEach(Wj),this.clearAllSnapshots();const o=performance.now();pr.delta=No(0,1e3/60,o-pr.timestamp),pr.timestamp=o,pr.isProcessing=!0,g2.update.process(pr),g2.preRender.process(pr),g2.render.process(pr),pr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach($j),this.sharedNodes.forEach(Jj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!kC(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&(o||sl(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),nV(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Cn();const o=a.measureViewportBox(),{scroll:l}=this.root;return l&&(ja(o.x,l.offset.x),ja(o.y,l.offset.y)),o}removeElementScroll(a){const o=Cn();yi(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){yi(o,a);const{scroll:f}=this.root;f&&(ja(o.x,-f.offset.x),ja(o.y,-f.offset.y))}ja(o.x,u.offset.x),ja(o.y,u.offset.y)}}return o}applyTransform(a,o=!1){const l=Cn();yi(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Yc(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),sl(u.latestValues)&&Yc(l,u.latestValues)}return sl(this.latestValues)&&Yc(l,this.latestValues),l}removeTransform(a){const o=Cn();yi(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!sl(c.latestValues))continue;Sv(c.latestValues)&&c.updateSnapshot();const u=Cn(),d=c.measurePageBox();yi(u,d),p4(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return sl(this.latestValues)&&p4(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=pr.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cn(),this.relativeTargetOrigin=Cn(),vh(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Cn(),this.targetWithTransforms=Cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yi(this.target,this.layout.layoutBox),wC(this.target,this.targetDelta)):yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cn(),this.relativeTargetOrigin=Cn(),vh(this.relativeTargetOrigin,this.target,h.target),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}al.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Sv(this.parent.latestValues)||vC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===pr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;yi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;hj(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:g}=o;if(!g){this.projectionTransform&&(this.projectionDelta=Kc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Kc(),this.projectionDeltaWithTransform=Kc());const y=this.projectionTransform;yh(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=y4(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==f||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),al.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Kc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Cn(),h=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=h!==g,b=this.getStack(),m=!b||b.members.length<=1,w=!!(y&&!m&&this.options.crossfade===!0&&!this.path.some(eV));this.animationProgress=0;let x;this.mixTargetDelta=N=>{const O=N/1e3;_4(d.x,a.x,O),_4(d.y,a.y,O),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Zj(this.relativeTarget,this.relativeTargetOrigin,f,O),x&&Tj(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Cn()),yi(x,this.relativeTarget)),y&&(this.animationValues=u,Rj(u,c,this.latestValues,O,w,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{mm.hasAnimatedSinceResize=!0,this.currentAnimation=Bj(0,w4,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(w4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&CC(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Cn();const d=si(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const f=si(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}yi(o,l),Yc(o,u),yh(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Lj),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let u=0;u<v4.length;u++){const d="rotate"+v4[u];l[d]&&(c[d]=l[d],a.setStaticValue(d,0))}a.render();for(const u in c)a.setStaticValue(u,c[u]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zj;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=pm(a==null?void 0:a.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=pm(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!sl(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=y4(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:h,y:g}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in wg){if(f[y]===void 0)continue;const{correct:b,applyTo:m}=wg[y],w=c.transform==="none"?f[y]:b(f[y],d);if(m){const x=m.length;for(let N=0;N<x;N++)c[m[N]]=w}else c[y]=w}return this.options.layoutId&&(c.pointerEvents=d===this?pm(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(b4),this.root.sharedNodes.clear()}}}function Vj(t){t.updateLayout()}function Wj(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?vi(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],h=si(f);f.min=r[d].min,f.max=f.min+h}):CC(s,n.layoutBox,r)&&vi(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],h=si(r[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const o=Kc();yh(o,r,n.layoutBox);const l=Kc();a?yh(l,t.applyTransform(i,!0),n.measuredBox):yh(l,r,n.layoutBox);const c=!kC(o);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const g=Cn();vh(g,n.layoutBox,f.layoutBox);const y=Cn();vh(y,r,h.layoutBox),RC(g,y)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Hj(t){al.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $j(t){t.clearSnapshot()}function b4(t){t.clearMeasurements()}function Gj(t){t.isLayoutDirty=!1}function Kj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function x4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Yj(t){t.resolveTargetDelta()}function Xj(t){t.calcProjection()}function Qj(t){t.resetRotation()}function Jj(t){t.removeLeadSnapshot()}function _4(t,e,n){t.translate=nn(e.translate,0,n),t.scale=nn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function E4(t,e,n,r){t.min=nn(e.min,n.min,r),t.max=nn(e.max,n.max,r)}function Zj(t,e,n,r){E4(t.x,e.x,n.x,r),E4(t.y,e.y,n.y,r)}function eV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tV={duration:.45,ease:[.4,0,.1,1]},S4=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),k4=S4("applewebkit/")&&!S4("chrome/")?Math.round:xn;function R4(t){t.min=k4(t.min),t.max=k4(t.max)}function nV(t){R4(t.x),R4(t.y)}function CC(t,e,n){return t==="position"||t==="preserve-aspect"&&!_v(g4(e),g4(n),.2)}const rV=NC({attachResizeListener:(t,e)=>Zs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),N2={current:void 0},AC=NC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!N2.current){const t=new rV({});t.mount(window),t.setOptions({layoutScroll:!0}),N2.current=t}return N2.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),iV={pan:{Feature:bj},drag:{Feature:wj,ProjectionNode:AC,MeasureLayout:_C}},sV=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function aV(t){const e=sV.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Rv(t,e,n=1){const[r,i]=aV(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return dC(a)?parseFloat(a):a}else return mv(i)?Rv(i,e,n+1):i}function oV(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!mv(s))return;const a=Rv(s,r);a&&i.set(a)});for(const i in e){const s=e[i];if(!mv(s))continue;const a=Rv(s,r);a&&(e[i]=a,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const lV=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),IC=t=>lV.has(t),cV=t=>Object.keys(t).some(IC),N4=t=>t===Kl||t===st,C4=(t,e)=>parseFloat(t.split(", ")[e]),A4=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return C4(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?C4(s[1],t):0}},uV=new Set(["x","y","z"]),dV=bf.filter(t=>!uV.has(t));function hV(t){const e=[];return dV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ou={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:A4(4,13),y:A4(5,14)};Ou.translateX=Ou.x;Ou.translateY=Ou.y;const fV=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:a}=s,o={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{o[c]=Ou[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(o[c]),t[c]=Ou[c](l,s)}),t},pV=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(IC);let s=[],a=!1;const o=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=zd(u);const f=e[l];let h;if(xg(f)){const g=f.length,y=f[0]===null?1:0;u=f[y],d=zd(u);for(let b=y;b<g&&f[b]!==null;b++)h?Jw(zd(f[b])===h):h=zd(f[b])}else h=zd(f);if(d!==h)if(N4(d)&&N4(h)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&h===st&&(e[l]=f.map(parseFloat))}else d!=null&&d.transform&&(h!=null&&h.transform)&&(u===0||f===0)?u===0?c.set(h.transform(u)):e[l]=d.transform(f):(a||(s=hV(t),a=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(f))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=fV(e,t,o);return s.length&&s.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),_0&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function mV(t,e,n,r){return cV(e)?pV(t,e,n,r):{target:e,transitionEnd:r}}const gV=(t,e,n,r)=>{const i=oV(t,e,r);return e=i.target,r=i.transitionEnd,mV(t,e,n,r)},Nv={current:null},PC={current:!1};function yV(){if(PC.current=!0,!!_0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Nv.current=t.matches;t.addListener(e),e()}else Nv.current=!1}function vV(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],a=n[i];if(qr(s))t.addValue(i,s),kg(r)&&r.add(i);else if(qr(a))t.addValue(i,Lu(s,{owner:t})),kg(r)&&r.remove(i);else if(a!==s)if(t.hasValue(i)){const o=t.getValue(i);!o.hasAnimated&&o.set(s)}else{const o=t.getStaticValue(i);t.addValue(i,Lu(o!==void 0?o:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const I4=new WeakMap,TC=Object.keys(Jh),wV=TC.length,P4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],bV=Ww.length;class xV{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Gt.render(this.render,!1,!0);const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=S0(n),this.isVariantNode=gN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const f=u[d];o[d]!==void 0&&qr(f)&&(f.set(o[d],!1),kg(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,I4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),PC.current||yV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){I4.delete(this.current),this.projection&&this.projection.unmount(),pa(this.notifyUpdate),pa(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Gl.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Gt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let a,o;for(let l=0;l<wV;l++){const c=TC[l],{isEnabled:u,Feature:d,ProjectionNode:f,MeasureLayout:h}=Jh[c];f&&(a=f),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),h&&(o=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&$c(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:h})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<P4.length;r++){const i=P4[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=vV(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<bV;r++){const i=Ww[r],s=this.props[i];(Qh(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Lu(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Qw(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!qr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ob),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LC extends xV{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let a=Uz(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),a&&(a=i(a))),s){Fz(this,r,a);const o=gV(this,r,a,n);n=o.transitionEnd,r=o.target}return{transition:e,transitionEnd:n,...r}}}function _V(t){return window.getComputedStyle(t)}class EV extends LC{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Gl.has(n)){const r=nb(n);return r&&r.default||0}else{const r=_V(e),i=(bN(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return bC(e,n)}build(e,n,r,i){$w(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Xw(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){RN(e,n,r,i)}}class SV extends LC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Gl.has(n)){const r=nb(n);return r&&r.default||0}return n=NN.has(n)?n:jw(n),e.getAttribute(n)}measureInstanceViewportBox(){return Cn()}scrapeMotionValuesFromProps(e,n){return AN(e,n)}build(e,n,r,i){Kw(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){CN(e,n,r,i)}mount(e){this.isSVGTag=Yw(e.tagName),super.mount(e)}}const kV=(t,e)=>qw(t)?new SV(e,{enableHardwareAcceleration:!1}):new EV(e,{enableHardwareAcceleration:!0}),RV={layout:{ProjectionNode:AC,MeasureLayout:_C}},NV={...Zz,...wB,...iV,...RV},He=CU((t,e)=>aB(t,e,NV,kV));function OC(){const t=se.useRef(!1);return zw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function CV(){const t=OC(),[e,n]=se.useState(0),r=se.useCallback(()=>{t.current&&n(e+1)},[e]);return[se.useCallback(()=>Gt.postRender(r),[r]),e]}class AV extends se.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function IV({children:t,isPresent:e}){const n=se.useId(),r=se.useRef(null),i=se.useRef({width:0,height:0,top:0,left:0});return se.useInsertionEffect(()=>{const{width:s,height:a,top:o,left:l}=i.current;if(e||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),se.createElement(AV,{isPresent:e,childRef:r,sizeRef:i},se.cloneElement(t,{ref:r}))}const C2=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=IN(PV),l=se.useId(),c=se.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{o.set(u,!0);for(const d of o.values())if(!d)return;r&&r()},register:u=>(o.set(u,!1),()=>o.delete(u))}),s?void 0:[n]);return se.useMemo(()=>{o.forEach((u,d)=>o.set(d,!1))},[n]),se.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(t=se.createElement(IV,{isPresent:n},t)),se.createElement(x0.Provider,{value:c},t)};function PV(){return new Map}function TV(t){return se.useEffect(()=>()=>t(),[])}const ol=t=>t.key||"";function LV(t,e){t.forEach(n=>{const r=ol(n);e.set(r,n)})}function OV(t){const e=[];return se.Children.forEach(t,n=>{se.isValidElement(n)&&e.push(n)}),e}const C0=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:a="sync"})=>{const o=se.useContext(Hw).forceRender||CV()[0],l=OC(),c=OV(t);let u=c;const d=se.useRef(new Map).current,f=se.useRef(u),h=se.useRef(new Map).current,g=se.useRef(!0);if(zw(()=>{g.current=!1,LV(c,h),f.current=u}),TV(()=>{g.current=!0,h.clear(),d.clear()}),g.current)return se.createElement(se.Fragment,null,u.map(w=>se.createElement(C2,{key:ol(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:a},w)));u=[...u];const y=f.current.map(ol),b=c.map(ol),m=y.length;for(let w=0;w<m;w++){const x=y[w];b.indexOf(x)===-1&&!d.has(x)&&d.set(x,void 0)}return a==="wait"&&d.size&&(u=[]),d.forEach((w,x)=>{if(b.indexOf(x)!==-1)return;const N=h.get(x);if(!N)return;const O=y.indexOf(x);let D=w;if(!D){const M=()=>{d.delete(x);const R=Array.from(h.keys()).filter(A=>!b.includes(A));if(R.forEach(A=>h.delete(A)),f.current=c.filter(A=>{const B=ol(A);return B===x||R.includes(B)}),!d.size){if(l.current===!1)return;o(),r&&r()}};D=se.createElement(C2,{key:ol(N),isPresent:!1,onExitComplete:M,custom:e,presenceAffectsLayout:s,mode:a},N),d.set(x,D)}u.splice(O,0,D)}),u=u.map(w=>{const x=w.key;return d.has(x)?w:se.createElement(C2,{key:ol(w),isPresent:!0,presenceAffectsLayout:s,mode:a},w)}),se.createElement(se.Fragment,null,d.size?u:u.map(w=>se.cloneElement(w)))},DV=()=>{var m,w;const[t,e]=se.useState(!1),[n,r]=se.useState(!1),[i,s]=se.useState(!1),[a,o]=se.useState("free"),l=zu(),c=ga(),{user:u,logout:d}=Tn(),f=(u==null?void 0:u.email)==="devtronex@gmail.com";se.useEffect(()=>{const x=localStorage.getItem("theme"),N=window.matchMedia("(prefers-color-scheme: dark)").matches;(x==="dark"||!x&&N)&&(r(!0),document.documentElement.classList.add("dark"))},[]),se.useEffect(()=>{if(!u){o("free");return}const x=ri(Si,`users/${u.uid}`),N=Ro(x,O=>{const D=O.val();D&&D.plan?o(D.plan):o("free")});return()=>N()},[u]);const h=()=>{r(!n),n?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"))},g=[{name:"Home",path:"/",icon:uU},{name:"Pricing",path:"/pricing",icon:oU},{name:"About",path:"/about",icon:hU},{name:"Contact",path:"/contact",icon:ki}],y=x=>x==="/"?l.pathname==="/":l.pathname.startsWith(x),b=async()=>{try{await d(),c("/")}catch(x){console.error("Logout failed:",x)}};return React.createElement("nav",{className:"glass-card sticky top-0 z-50 mb-8"},React.createElement("div",{className:"container mx-auto px-4 py-4"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement(gn,{to:"/",className:"flex items-center space-x-2 group"},React.createElement("span",{className:"text-4xl"},""),React.createElement("span",{className:"text-2xl font-bold gradient-text group-hover:scale-105 transition-transform"},"ImageToolsPro")),React.createElement("div",{className:"hidden md:flex items-center space-x-8"},g.map(x=>{const N=x.icon;return React.createElement(gn,{key:x.path,to:x.path,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${y(x.path)?"bg-primary-500 text-white shadow-lg":"hover:bg-white/50 dark:hover:bg-gray-700/50"}`},React.createElement(N,{size:18}),React.createElement("span",{className:"font-medium"},x.name))}),u&&!f&&React.createElement(gn,{to:"/inbox",className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${y("/inbox")?"bg-primary-500 text-white shadow-lg":"hover:bg-white/50 dark:hover:bg-gray-700/50"}`},React.createElement(hm,{size:18}),React.createElement("span",{className:"font-medium"},"Inbox")),f&&React.createElement(React.Fragment,null,React.createElement(gn,{to:"/inbox",className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${y("/inbox")?"bg-primary-500 text-white shadow-lg":"hover:bg-white/50 dark:hover:bg-gray-700/50"}`},React.createElement(hm,{size:18}),React.createElement("span",{className:"font-medium"},"Inbox")),React.createElement(gn,{to:"/admin",className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all ${y("/admin")?"bg-primary-500 text-white shadow-lg":"hover:bg-white/50 dark:hover:bg-gray-700/50"}`},React.createElement(vg,{size:18}),React.createElement("span",{className:"font-medium"},"Admin"))),u?React.createElement("div",{className:"relative"},React.createElement("button",{onClick:()=>s(!i),className:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-white/50 dark:hover:bg-gray-700/50 transition-all"},React.createElement(uu,{size:18}),React.createElement("span",{className:"font-medium"},u.displayName||((m=u.email)==null?void 0:m.split("@")[0]))),i&&React.createElement("div",{className:"absolute right-0 mt-2 w-56 glass-card p-2 space-y-1 z-50"},React.createElement("div",{className:"px-4 py-2 border-b border-gray-300 dark:border-gray-600"},React.createElement("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100"},u.displayName),React.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate"},u.email),React.createElement("div",{className:"mt-2"},a==="premium"?React.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-primary-500 to-purple-500 text-white text-xs font-semibold rounded-full"},React.createElement(El,{size:12}),"Premium"):React.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs font-semibold rounded-full"},"Free Plan"))),React.createElement("button",{onClick:b,className:"w-full flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 transition-all"},React.createElement(R3,{size:16}),React.createElement("span",null,"Logout")))):React.createElement(gn,{to:"/login",className:"flex items-center space-x-2 px-4 py-2 rounded-lg bg-primary-500 text-white hover:bg-primary-600 transition-all"},React.createElement(uu,{size:18}),React.createElement("span",{className:"font-medium"},"Login")),React.createElement("button",{onClick:h,className:"p-2 rounded-lg hover:bg-white/50 dark:hover:bg-gray-700/50 transition-all","aria-label":"Toggle theme"},n?React.createElement(C3,{size:20}):React.createElement(N3,{size:20}))),React.createElement("div",{className:"md:hidden flex items-center space-x-2"},React.createElement("button",{onClick:h,className:"p-2 rounded-lg hover:bg-white/50 dark:hover:bg-gray-700/50","aria-label":"Toggle theme"},n?React.createElement(C3,{size:20}):React.createElement(N3,{size:20})),React.createElement("button",{onClick:()=>e(!t),className:"p-2 rounded-lg hover:bg-white/50 dark:hover:bg-gray-700/50","aria-label":"Toggle menu"},t?React.createElement(Ka,{size:24}):React.createElement(pU,{size:24})))),React.createElement(C0,null,t&&React.createElement(He.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden mt-4 space-y-2"},g.map(x=>{const N=x.icon;return React.createElement(gn,{key:x.path,to:x.path,onClick:()=>e(!1),className:`flex items-center space-x-2 px-4 py-3 rounded-lg transition-all ${y(x.path)?"bg-primary-500 text-white shadow-lg":"hover:bg-white/50 dark:hover:bg-gray-700/50"}`},React.createElement(N,{size:18}),React.createElement("span",{className:"font-medium"},x.name))}),u&&React.createElement(gn,{to:"/inbox",onClick:()=>e(!1),className:`flex items-center space-x-2 px-4 py-3 rounded-lg transition-all ${y("/inbox")?"bg-primary-500 text-white shadow-lg":"hover:bg-white/50 dark:hover:bg-gray-700/50"}`},React.createElement(hm,{size:18}),React.createElement("span",{className:"font-medium"},"Inbox")),f&&React.createElement(gn,{to:"/admin",onClick:()=>e(!1),className:`flex items-center space-x-2 px-4 py-3 rounded-lg transition-all ${y("/admin")?"bg-primary-500 text-white shadow-lg":"hover:bg-white/50 dark:hover:bg-gray-700/50"}`},React.createElement(vg,{size:18}),React.createElement("span",{className:"font-medium"},"Admin")),u?React.createElement(React.Fragment,null,React.createElement("div",{className:"px-4 py-3 bg-white/50 dark:bg-gray-700/50 rounded-lg"},React.createElement("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100"},u.displayName||((w=u.email)==null?void 0:w.split("@")[0])),React.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate"},u.email),React.createElement("div",{className:"mt-2"},a==="premium"?React.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-primary-500 to-purple-500 text-white text-xs font-semibold rounded-full"},React.createElement(El,{size:12}),"Premium"):React.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs font-semibold rounded-full"},"Free Plan"))),React.createElement("button",{onClick:()=>{b(),e(!1)},className:"flex items-center space-x-2 px-4 py-3 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 transition-all w-full"},React.createElement(R3,{size:18}),React.createElement("span",{className:"font-medium"},"Logout"))):React.createElement(gn,{to:"/login",onClick:()=>e(!1),className:"flex items-center space-x-2 px-4 py-3 rounded-lg bg-primary-500 text-white hover:bg-primary-600 transition-all"},React.createElement(uu,{size:18}),React.createElement("span",{className:"font-medium"},"Login"))))))},FV=()=>{const t=new Date().getFullYear(),e=[{icon:dv,href:"https://github.com/devtricker",label:"GitHub"},{icon:ki,href:"mailto:devtronex@gmail.com",label:"Email"}];return React.createElement("footer",{className:"glass-card mt-16"},React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8"},React.createElement("div",{className:"space-y-4"},React.createElement("div",{className:"flex items-center space-x-2"},React.createElement("span",{className:"text-3xl"},""),React.createElement("span",{className:"text-xl font-bold gradient-text"},"ImageToolsPro")),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Professional image editing tools, all in your browser. Fast, secure, and free.")),React.createElement("div",{className:"space-y-4"},React.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Quick Links"),React.createElement("ul",{className:"space-y-2"},React.createElement("li",null,React.createElement("a",{href:"/",className:"text-gray-600 dark:text-gray-400 hover:text-primary-500 transition-colors"},"Home")),React.createElement("li",null,React.createElement("a",{href:"/convert",className:"text-gray-600 dark:text-gray-400 hover:text-primary-500 transition-colors"},"Tools")),React.createElement("li",null,React.createElement("a",{href:"/about",className:"text-gray-600 dark:text-gray-400 hover:text-primary-500 transition-colors"},"About")),React.createElement("li",null,React.createElement("a",{href:"/contact",className:"text-gray-600 dark:text-gray-400 hover:text-primary-500 transition-colors"},"Contact")))),React.createElement("div",{className:"space-y-4"},React.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Connect With Us"),React.createElement("div",{className:"flex space-x-4"},e.map(n=>{const r=n.icon;return React.createElement("a",{key:n.label,href:n.href,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg hover:bg-white/50 dark:hover:bg-gray-700/50 transition-all hover:scale-110","aria-label":n.label},React.createElement(r,{size:20}))})))),React.createElement("div",{className:"mt-8 pt-8 border-t border-gray-300/50 dark:border-gray-700/50"},React.createElement("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0"},React.createElement("p",{className:"text-gray-600 dark:text-gray-400 flex items-center"}," ",t," ImageToolsPro. Made with ",React.createElement(cN,{size:16,className:"mx-1 text-red-500"})," for creators"),React.createElement("div",{className:"flex space-x-6 text-sm"},React.createElement("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-primary-500 transition-colors"},"Privacy Policy"),React.createElement("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-primary-500 transition-colors"},"Terms of Service"))))))},ms=({children:t})=>{const{user:e}=Tn();return e?e.emailVerified?t:React.createElement(l_,{to:"/verify-email",replace:!0}):React.createElement(l_,{to:"/login",replace:!0})},MV=({icon:t,title:e,description:n,path:r,color:i="primary"})=>{const s={primary:"from-blue-500 to-blue-600",purple:"from-purple-500 to-purple-600",green:"from-green-500 to-green-600",orange:"from-orange-500 to-orange-600",pink:"from-pink-500 to-pink-600",indigo:"from-indigo-500 to-indigo-600",red:"from-red-500 to-red-600",teal:"from-teal-500 to-teal-600"};return React.createElement(He.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.05},transition:{duration:.2}},React.createElement(gn,{to:r,className:"block tool-card h-full group"},React.createElement("div",{className:"flex flex-col h-full space-y-4"},React.createElement("div",{className:`p-4 bg-gradient-to-br ${s[i]} rounded-xl w-fit`},React.createElement(t,{size:32,className:"text-white"})),React.createElement("div",{className:"flex-1 space-y-2"},React.createElement("h3",{className:"text-xl font-bold"},e),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},n)),React.createElement("div",{className:"flex items-center text-primary-600 dark:text-primary-400 font-medium group-hover:translate-x-2 transition-transform"},React.createElement("span",null,"Try it now"),React.createElement(oN,{size:20,className:"ml-2"})))))},A0=({children:t})=>{const{user:e}=Tn(),[n,r]=se.useState("free");return se.useEffect(()=>{if(!e){r("free");return}const i=ri(Si,`users/${e.uid}`),s=Ro(i,a=>{const o=a.val();o&&o.plan?r(o.plan):r("free")});return()=>s()},[e]),n==="premium"?null:React.createElement(React.Fragment,null,t)},DC=()=>{const t=se.useRef(null),e=se.useRef(!1);return se.useEffect(()=>{if(e.current)return;const n=document.createElement("script");n.type="text/javascript",n.src="//www.highperformanceformat.com/f839e2417391cccab5748dac2d0db81c/invoke.js",n.async=!0;const r=document.createElement("script");return r.type="text/javascript",r.innerHTML=`
      atOptions = {
        'key' : 'f839e2417391cccab5748dac2d0db81c',
        'format' : 'iframe',
        'height' : 90,
        'width' : 728,
        'params' : {}
      };
    `,t.current&&(t.current.appendChild(r),t.current.appendChild(n),e.current=!0),()=>{t.current&&(t.current.innerHTML="")}},[]),React.createElement(A0,null,React.createElement("div",{className:"flex justify-center my-4"},React.createElement("div",{ref:t,className:"banner-ad"})))},UV=()=>(se.useEffect(()=>{const t=document.createElement("script");return t.type="text/javascript",t.src="//pl26554245.effectivegatecpm.com/9a/05/78/9a05787efb9cda1432a99aed5b47d10a.js",t.async=!0,document.body.appendChild(t),()=>{document.body.contains(t)&&document.body.removeChild(t)}},[]),React.createElement(A0,null,null)),BV=()=>(se.useEffect(()=>{const t=document.createElement("script");return t.type="text/javascript",t.src="//pl26535103.effectivegatecpm.com/6b/ec/52/6bec52c566872bb8d545d36586267922.js",t.async=!0,document.body.appendChild(t),()=>{document.body.contains(t)&&document.body.removeChild(t)}},[]),React.createElement(A0,null,null)),FC=()=>{const t=se.useRef(null),e=se.useRef(!1);return se.useEffect(()=>{if(e.current)return;const n=document.createElement("script");return n.async=!0,n.setAttribute("data-cfasync","false"),n.src="//pl26554274.effectivegatecpm.com/ed8b749d1c069f29a2b90dfac9f4ad19/invoke.js",t.current&&t.current.parentNode&&(t.current.parentNode.insertBefore(n,t.current),e.current=!0),()=>{n.parentNode&&n.parentNode.removeChild(n)}},[]),React.createElement(A0,null,React.createElement("div",{className:"flex justify-center my-4"},React.createElement("div",{id:"container-ed8b749d1c069f29a2b90dfac9f4ad19",ref:t,className:"native-banner-ad"})))},zV=()=>{const t=[{category:"Convert",color:"primary",tools:[{icon:Xh,title:"Image Converter",description:"Convert between JPG, PNG, WEBP, HEIC, SVG, and PDF formats",path:"/convert",color:"primary"}]},{category:"Resize & Crop",color:"purple",tools:[{icon:hv,title:"Resize Image",description:"Resize by pixels or percentage, maintain aspect ratio",path:"/resize",color:"purple"}]},{category:"Compress",color:"green",tools:[{icon:fv,title:"Compress Image",description:"Reduce file size with adjustable quality settings",path:"/compress",color:"green"}]},{category:"Edit",color:"orange",tools:[{icon:fm,title:"Edit Image",description:"Rotate, flip, adjust colors, add filters and watermarks",path:"/edit",color:"orange"}]},{category:"Background",color:"pink",tools:[{icon:uN,title:"Background Tools",description:"Remove, replace, or make backgrounds transparent",path:"/background",color:"pink"}]},{category:"AI Tools",color:"indigo",tools:[{icon:pv,title:"AI Enhancement",description:"Upscale, remove objects, and colorize black & white photos",path:"/ai",color:"indigo"}]},{category:"Metadata",color:"red",tools:[{icon:lN,title:"EXIF Data",description:"View, edit, or remove image metadata and EXIF information",path:"/metadata",color:"red"}]},{category:"Batch Processing",color:"teal",tools:[{icon:uv,title:"Batch Tools",description:"Process multiple images at once and download as ZIP",path:"/batch",color:"teal"}]}];return React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(He.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-16 space-y-6"},React.createElement("h1",{className:"text-5xl md:text-6xl font-bold"},React.createElement("span",{className:"gradient-text"},"Professional Image Tools")),React.createElement("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto"},"All-in-one image editing suite with powerful tools for conversion, resizing, compression, editing, and more. Everything runs in your browser - fast, secure, and private."),React.createElement("div",{className:"flex flex-wrap justify-center gap-4 text-sm"},React.createElement("div",{className:"glass-card px-6 py-3 text-gray-900 dark:text-gray-100"},React.createElement("span",{className:"font-semibold"},"")," 100% Client-Side"),React.createElement("div",{className:"glass-card px-6 py-3 text-gray-900 dark:text-gray-100"},React.createElement("span",{className:"font-semibold"},"")," No Upload Required"),React.createElement("div",{className:"glass-card px-6 py-3 text-gray-900 dark:text-gray-100"},React.createElement("span",{className:"font-semibold"},""),"  Free Premium Offer"),React.createElement("div",{className:"glass-card px-6 py-3 text-gray-900 dark:text-gray-100"},React.createElement("span",{className:"font-semibold"},"")," Privacy First"))),React.createElement(DC,null),React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8"},React.createElement("h2",{className:"text-3xl font-bold text-center text-gray-900 dark:text-gray-100"},"All Tools"),React.createElement("div",{className:"grid grid-cols-3 gap-6"},t.map(e=>e.tools.map(n=>React.createElement(MV,{key:n.title,...n}))))),React.createElement(FC,null),React.createElement(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-20 glass-card p-8 md:p-12"},React.createElement("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-900 dark:text-gray-100"},"Why Choose ImageToolsPro?"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8"},React.createElement("div",{className:"text-center space-y-4"},React.createElement("div",{className:"text-4xl"},""),React.createElement("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"Secure & Private"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"All processing happens in your browser. Your images never leave your device.")),React.createElement("div",{className:"text-center space-y-4"},React.createElement("div",{className:"text-4xl"},""),React.createElement("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"Lightning Fast"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"No server uploads or downloads. Process images instantly with client-side technology.")),React.createElement("div",{className:"text-center space-y-4"},React.createElement("div",{className:"text-4xl"},""),React.createElement("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"Professional Quality"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Advanced algorithms ensure high-quality results for all your image editing needs.")))))},Bo=({onFileSelect:t,accept:e="image/*",multiple:n=!1})=>{const r=se.useCallback(a=>{a.preventDefault();const o=Array.from(a.dataTransfer.files);t(n?o:o[0])},[t,n]),i=a=>{a.preventDefault()},s=a=>{const o=Array.from(a.target.files);t(n?o:o[0])};return React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card p-8"},React.createElement("div",{onDrop:r,onDragOver:i,className:"border-2 border-dashed border-primary-300 dark:border-primary-700 rounded-xl p-12 text-center hover:border-primary-500 transition-all cursor-pointer group"},React.createElement("input",{type:"file",accept:e,multiple:n,onChange:s,className:"hidden",id:"file-upload"}),React.createElement("label",{htmlFor:"file-upload",className:"cursor-pointer"},React.createElement("div",{className:"flex flex-col items-center space-y-4"},React.createElement("div",{className:"p-4 bg-primary-100 dark:bg-primary-900/30 rounded-full group-hover:scale-110 transition-transform"},React.createElement(yU,{size:48,className:"text-primary-600 dark:text-primary-400"})),React.createElement("div",{className:"space-y-2"},React.createElement("h3",{className:"text-xl font-semibold"},"Drop your ",n?"images":"image"," here"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"or click to browse from your device")),React.createElement("div",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-500"},React.createElement(dU,{size:16}),React.createElement("span",null,"Supports: JPG, PNG, WEBP, GIF, BMP"))))))};function jV(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function MC(t,e){return new Promise(function(n,r){let i;return VV(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(a){return r(a)}},r)})}const VV=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let a=0;if(s.getUint16(a)!==65496)return n("not a valid JPEG");for(a+=2;;){const o=s.getUint16(a);if(o===65498)break;const l=s.getUint16(a+2);if(o===65505&&s.getUint32(a+4)===1165519206){const c=a+10;let u;switch(s.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(c+2,u)!==42)return n("TIFF header contains invalid version");const d=s.getUint32(c+4,u),f=c+d+2+12*s.getUint16(c+d,u);for(let h=c+d+2;h<f;h+=12)if(s.getUint16(h,u)==274){if(s.getUint16(h+2,u)!==3)return n("Orientation data type is invalid");if(s.getUint32(h+4,u)!==1)return n("Orientation data count is invalid");s.setUint16(h+8,1,u);break}return e(i.slice(a,a+2+l))}a+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var Ng={},WV={get exports(){return Ng},set exports(t){Ng=t}};(function(t){var e,n,r={};WV.exports=r,r.parse=function(i,s){for(var a=r.bin.readUshort,o=r.bin.readUint,l=0,c={},u=new Uint8Array(i),d=u.length-4;o(u,d)!=101010256;)d--;l=d,l+=4;var f=a(u,l+=4);a(u,l+=2);var h=o(u,l+=2),g=o(u,l+=4);l+=4,l=g;for(var y=0;y<f;y++){o(u,l),l+=4,l+=4,l+=4,o(u,l+=4),h=o(u,l+=4);var b=o(u,l+=4),m=a(u,l+=4),w=a(u,l+2),x=a(u,l+4);l+=6;var N=o(u,l+=8);l+=4,l+=m+w+x,r._readLocal(u,N,c,h,b,s)}return c},r._readLocal=function(i,s,a,o,l,c){var u=r.bin.readUshort,d=r.bin.readUint;d(i,s),u(i,s+=4),u(i,s+=2);var f=u(i,s+=2);d(i,s+=2),d(i,s+=4),s+=4;var h=u(i,s+=8),g=u(i,s+=2);s+=2;var y=r.bin.readUTF8(i,s,h);if(s+=h,s+=g,c)a[y]={size:l,csize:o};else{var b=new Uint8Array(i.buffer,s);if(f==0)a[y]=new Uint8Array(b.buffer.slice(s,s+o));else{if(f!=8)throw"unknown compression method: "+f;var m=new Uint8Array(l);r.inflateRaw(b,m),a[y]=m}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var a=0,o=new Uint8Array(50+Math.floor(1.1*i.length));o[a]=120,o[a+1]=156,a+=2,a=r.F.deflateRaw(i,o,a,s.level);var l=r.adler(i,0,i.length);return o[a+0]=l>>>24&255,o[a+1]=l>>>16&255,o[a+2]=l>>>8&255,o[a+3]=l>>>0&255,new Uint8Array(o.buffer,0,a+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var a=new Uint8Array(50+Math.floor(1.1*i.length)),o=r.F.deflateRaw(i,a,o,s.level);return new Uint8Array(a.buffer,0,o)},r.encode=function(i,s){s==null&&(s=!1);var a=0,o=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var u in i){var d=!r._noNeed(u)&&!s,f=i[u],h=r.crc.crc(f,0,f.length);c[u]={cpr:d,usize:f.length,crc:h,file:d?r.deflateRaw(f):f}}for(var u in c)a+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);a+=22;var g=new Uint8Array(a),y=0,b=[];for(var u in c){var m=c[u];b.push(y),y=r._writeHeader(g,y,u,m,0)}var w=0,x=y;for(var u in c)m=c[u],b.push(y),y=r._writeHeader(g,y,u,m,1,b[w++]);var N=y-x;return o(g,y,101010256),y+=4,l(g,y+=4,w),l(g,y+=2,w),o(g,y+=2,N),o(g,y+=4,x),y+=4,y+=2,g.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,a,o,l,c){var u=r.bin.writeUint,d=r.bin.writeUshort,f=o.file;return u(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),d(i,s,20),d(i,s+=2,0),d(i,s+=2,o.cpr?8:0),u(i,s+=2,0),u(i,s+=4,o.crc),u(i,s+=4,f.length),u(i,s+=4,o.usize),d(i,s+=4,r.bin.sizeUTF8(a)),d(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,u(i,s+=6,c),s+=4),s+=r.bin.writeUTF8(i,s,a),l==0&&(i.set(f,s),s+=f.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var a=s,o=0;o<8;o++)1&a?a=3988292384^a>>>1:a>>>=1;i[s]=a}return i}(),update:function(i,s,a,o){for(var l=0;l<o;l++)i=r.crc.table[255&(i^s[a+l])]^i>>>8;return i},crc:function(i,s,a){return 4294967295^r.crc.update(4294967295,i,s,a)}},r.adler=function(i,s,a){for(var o=1,l=0,c=s,u=s+a;c<u;){for(var d=Math.min(c+5552,u);c<d;)l+=o+=i[c++];o%=65521,l%=65521}return l<<16|o},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255,i[s+2]=a>>16&255,i[s+3]=a>>24&255},readASCII:function(i,s,a){for(var o="",l=0;l<a;l++)o+=String.fromCharCode(i[s+l]);return o},writeASCII:function(i,s,a){for(var o=0;o<a.length;o++)i[s+o]=a.charCodeAt(o)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,a){for(var o,l="",c=0;c<a;c++)l+="%"+r.bin.pad(i[s+c].toString(16));try{o=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,a)}return o},writeUTF8:function(i,s,a){for(var o=a.length,l=0,c=0;c<o;c++){var u=a.charCodeAt(c);if(!(4294967168&u))i[s+l]=u,l++;else if(!(4294965248&u))i[s+l]=192|u>>6,i[s+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))i[s+l]=224|u>>12,i[s+l+1]=128|u>>6&63,i[s+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";i[s+l]=240|u>>18,i[s+l+1]=128|u>>12&63,i[s+l+2]=128|u>>6&63,i[s+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,a=0,o=0;o<s;o++){var l=i.charCodeAt(o);if(!(4294967168&l))a++;else if(!(4294965248&l))a+=2;else if(!(4294901760&l))a+=3;else{if(4292870144&l)throw"e";a+=4}}return a}},r.F={},r.F.deflateRaw=function(i,s,a,o){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],c=r.F.U,u=r.F._goodIndex;r.F._hash;var d=r.F._putsE,f=0,h=a<<3,g=0,y=i.length;if(o==0){for(;f<y;)d(s,h,f+(L=Math.min(65535,y-f))==y?1:0),h=r.F._copyExact(i,f,L,s,h+8),f+=L;return h>>>3}var b=c.lits,m=c.strt,w=c.prev,x=0,N=0,O=0,D=0,M=0,R=0;for(y>2&&(m[R=r.F._hash(i,0)]=0),f=0;f<y;f++){if(M=R,f+1<y-2){R=r.F._hash(i,f+1);var A=f+1&32767;w[A]=m[R],m[R]=A}if(g<=f){(x>14e3||N>26697)&&y-f>100&&(g<f&&(b[x]=f-g,x+=2,g=f),h=r.F._writeBlock(f==y-1||g==y?1:0,b,x,D,i,O,f-O,s,h),x=N=D=0,O=f);var B=0;f<y-2&&(B=r.F._bestMatch(i,f,w,M,Math.min(l[2],y-f),l[3]));var L=B>>>16,k=65535&B;if(B!=0){k=65535&B;var I=u(L=B>>>16,c.of0);c.lhst[257+I]++;var _=u(k,c.df0);c.dhst[_]++,D+=c.exb[I]+c.dxb[_],b[x]=L<<23|f-g,b[x+1]=k<<16|I<<8|_,x+=2,g=f+L}else c.lhst[i[f]]++;N++}}for(O==f&&i.length!=0||(g<f&&(b[x]=f-g,x+=2,g=f),h=r.F._writeBlock(1,b,x,D,i,O,f-O,s,h),x=0,N=0,x=N=D=0,O=f);7&h;)h++;return h>>>3},r.F._bestMatch=function(i,s,a,o,l,c){var u=32767&s,d=a[u],f=u-d+32768&32767;if(d==u||o!=r.F._hash(i,s-f))return 0;for(var h=0,g=0,y=Math.min(32767,s);f<=y&&--c!=0&&d!=u;){if(h==0||i[s+h]==i[s+h-f]){var b=r.F._howLong(i,s,f);if(b>h){if(g=f,(h=b)>=l)break;f+2<b&&(b=f+2);for(var m=0,w=0;w<b-2;w++){var x=s-f+w+32768&32767,N=x-a[x]+32768&32767;N>m&&(m=N,d=x)}}}f+=(u=d)-(d=a[u])+32768&32767}return h<<16|g},r.F._howLong=function(i,s,a){if(i[s]!=i[s-a]||i[s+1]!=i[s+1-a]||i[s+2]!=i[s+2-a])return 0;var o=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-a];)s++;return s-o},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,a,o,l,c,u,d,f){var h,g,y,b,m,w,x,N,O,D=r.F.U,M=r.F._putsF,R=r.F._putsE;D.lhst[256]++,g=(h=r.F.getTrees())[0],y=h[1],b=h[2],m=h[3],w=h[4],x=h[5],N=h[6],O=h[7];var A=32+(f+3&7?8-(f+3&7):0)+(u<<3),B=o+r.F.contSize(D.fltree,D.lhst)+r.F.contSize(D.fdtree,D.dhst),L=o+r.F.contSize(D.ltree,D.lhst)+r.F.contSize(D.dtree,D.dhst);L+=14+3*x+r.F.contSize(D.itree,D.ihst)+(2*D.ihst[16]+3*D.ihst[17]+7*D.ihst[18]);for(var k=0;k<286;k++)D.lhst[k]=0;for(k=0;k<30;k++)D.dhst[k]=0;for(k=0;k<19;k++)D.ihst[k]=0;var I=A<B&&A<L?0:B<L?1:2;if(M(d,f,i),M(d,f+1,I),f+=3,I==0){for(;7&f;)f++;f=r.F._copyExact(l,c,u,d,f)}else{var _,V;if(I==1&&(_=D.fltree,V=D.fdtree),I==2){r.F.makeCodes(D.ltree,g),r.F.revCodes(D.ltree,g),r.F.makeCodes(D.dtree,y),r.F.revCodes(D.dtree,y),r.F.makeCodes(D.itree,b),r.F.revCodes(D.itree,b),_=D.ltree,V=D.dtree,R(d,f,m-257),R(d,f+=5,w-1),R(d,f+=5,x-4),f+=4;for(var U=0;U<x;U++)R(d,f+3*U,D.itree[1+(D.ordr[U]<<1)]);f+=3*x,f=r.F._codeTiny(N,D.itree,d,f),f=r.F._codeTiny(O,D.itree,d,f)}for(var P=c,$=0;$<a;$+=2){for(var W=s[$],te=W>>>23,ne=P+(8388607&W);P<ne;)f=r.F._writeLit(l[P++],_,d,f);if(te!=0){var C=s[$+1],K=C>>16,q=C>>8&255,H=255&C;R(d,f=r.F._writeLit(257+q,_,d,f),te-D.of0[q]),f+=D.exb[q],M(d,f=r.F._writeLit(H,V,d,f),K-D.df0[H]),f+=D.dxb[H],P+=te}}f=r.F._writeLit(256,_,d,f)}return f},r.F._copyExact=function(i,s,a,o,l){var c=l>>>3;return o[c]=a,o[c+1]=a>>>8,o[c+2]=255-o[c],o[c+3]=255-o[c+1],c+=4,o.set(new Uint8Array(i.buffer,s,a),c),l+(a+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),a=r.F._hufTree(i.dhst,i.dtree,15),o=[],l=r.F._lenCodes(i.ltree,o),c=[],u=r.F._lenCodes(i.dtree,c),d=0;d<o.length;d+=2)i.ihst[o[d]]++;for(d=0;d<c.length;d+=2)i.ihst[c[d]]++;for(var f=r.F._hufTree(i.ihst,i.itree,7),h=19;h>4&&i.itree[1+(i.ordr[h-1]<<1)]==0;)h--;return[s,a,f,l,u,h,o,c]},r.F.getSecond=function(i){for(var s=[],a=0;a<i.length;a+=2)s.push(i[a+1]);return s},r.F.nonZero=function(i){for(var s="",a=0;a<i.length;a+=2)i[a+1]!=0&&(s+=(a>>1)+",");return s},r.F.contSize=function(i,s){for(var a=0,o=0;o<s.length;o++)a+=s[o]*i[1+(o<<1)];return a},r.F._codeTiny=function(i,s,a,o){for(var l=0;l<i.length;l+=2){var c=i[l],u=i[l+1];o=r.F._writeLit(c,s,a,o);var d=c==16?2:c==17?3:7;c>15&&(r.F._putsE(a,o,u,d),o+=d)}return o},r.F._lenCodes=function(i,s){for(var a=i.length;a!=2&&i[a-1]==0;)a-=2;for(var o=0;o<a;o+=2){var l=i[o+1],c=o+3<a?i[o+3]:-1,u=o+5<a?i[o+5]:-1,d=o==0?-1:i[o-1];if(l==0&&c==l&&u==l){for(var f=o+5;f+2<a&&i[f+2]==l;)f+=2;(h=Math.min(f+1-o>>>1,138))<11?s.push(17,h-3):s.push(18,h-11),o+=2*h-2}else if(l==d&&c==l&&u==l){for(f=o+5;f+2<a&&i[f+2]==l;)f+=2;var h=Math.min(f+1-o>>>1,6);s.push(16,h-3),o+=2*h-2}else s.push(l,0)}return a>>>1},r.F._hufTree=function(i,s,a){var o=[],l=i.length,c=s.length,u=0;for(u=0;u<c;u+=2)s[u]=0,s[u+1]=0;for(u=0;u<l;u++)i[u]!=0&&o.push({lit:u,f:i[u]});var d=o.length,f=o.slice(0);if(d==0)return 0;if(d==1){var h=o[0].lit;return f=h==0?1:0,s[1+(h<<1)]=1,s[1+(f<<1)]=1,1}o.sort(function(N,O){return N.f-O.f});var g=o[0],y=o[1],b=0,m=1,w=2;for(o[0]={lit:-1,f:g.f+y.f,l:g,r:y,d:0};m!=d-1;)g=b!=m&&(w==d||o[b].f<o[w].f)?o[b++]:o[w++],y=b!=m&&(w==d||o[b].f<o[w].f)?o[b++]:o[w++],o[m++]={lit:-1,f:g.f+y.f,l:g,r:y};var x=r.F.setDepth(o[m-1],0);for(x>a&&(r.F.restrictDepth(f,a,x),x=a),u=0;u<d;u++)s[1+(f[u].lit<<1)]=f[u].d;return x},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,a){var o=0,l=1<<a-s,c=0;for(i.sort(function(d,f){return f.d==d.d?d.f-f.f:f.d-d.d}),o=0;o<i.length&&i[o].d>s;o++){var u=i[o].d;i[o].d=s,c+=l-(1<<a-u)}for(c>>>=a-s;c>0;)(u=i[o].d)<s?(i[o].d++,c-=1<<s-u-1):o++;for(;o>=0;o--)i[o].d==s&&c<0&&(i[o].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var a=0;return s[16|a]<=i&&(a|=16),s[8|a]<=i&&(a|=8),s[4|a]<=i&&(a|=4),s[2|a]<=i&&(a|=2),s[1|a]<=i&&(a|=1),a},r.F._writeLit=function(i,s,a,o){return r.F._putsF(a,o,s[i<<1]),o+s[1+(i<<1)]},r.F.inflate=function(i,s){var a=Uint8Array;if(i[0]==3&&i[1]==0)return s||new a(0);var o=r.F,l=o._bitsF,c=o._bitsE,u=o._decodeTiny,d=o.makeCodes,f=o.codes2map,h=o._get17,g=o.U,y=s==null;y&&(s=new a(i.length>>>2<<3));for(var b,m,w=0,x=0,N=0,O=0,D=0,M=0,R=0,A=0,B=0;w==0;)if(w=l(i,B,1),x=l(i,B+1,2),B+=3,x!=0){if(y&&(s=r.F._check(s,A+(1<<17))),x==1&&(b=g.flmap,m=g.fdmap,M=511,R=31),x==2){N=c(i,B,5)+257,O=c(i,B+5,5)+1,D=c(i,B+10,4)+4,B+=14;for(var L=0;L<38;L+=2)g.itree[L]=0,g.itree[L+1]=0;var k=1;for(L=0;L<D;L++){var I=c(i,B+3*L,3);g.itree[1+(g.ordr[L]<<1)]=I,I>k&&(k=I)}B+=3*D,d(g.itree,k),f(g.itree,k,g.imap),b=g.lmap,m=g.dmap,B=u(g.imap,(1<<k)-1,N+O,i,B,g.ttree);var _=o._copyOut(g.ttree,0,N,g.ltree);M=(1<<_)-1;var V=o._copyOut(g.ttree,N,O,g.dtree);R=(1<<V)-1,d(g.ltree,_),f(g.ltree,_,b),d(g.dtree,V),f(g.dtree,V,m)}for(;;){var U=b[h(i,B)&M];B+=15&U;var P=U>>>4;if(!(P>>>8))s[A++]=P;else{if(P==256)break;var $=A+P-254;if(P>264){var W=g.ldef[P-257];$=A+(W>>>3)+c(i,B,7&W),B+=7&W}var te=m[h(i,B)&R];B+=15&te;var ne=te>>>4,C=g.ddef[ne],K=(C>>>4)+l(i,B,15&C);for(B+=15&C,y&&(s=r.F._check(s,A+(1<<17)));A<$;)s[A]=s[A++-K],s[A]=s[A++-K],s[A]=s[A++-K],s[A]=s[A++-K];A=$}}}else{7&B&&(B+=8-(7&B));var q=4+(B>>>3),H=i[q-4]|i[q-3]<<8;y&&(s=r.F._check(s,A+H)),s.set(new a(i.buffer,i.byteOffset+q,H),A),B=q+H<<3,A+=H}return s.length==A?s:s.slice(0,A)},r.F._check=function(i,s){var a=i.length;if(s<=a)return i;var o=new Uint8Array(Math.max(a<<1,s));return o.set(i,0),o},r.F._decodeTiny=function(i,s,a,o,l,c){for(var u=r.F._bitsE,d=r.F._get17,f=0;f<a;){var h=i[d(o,l)&s];l+=15&h;var g=h>>>4;if(g<=15)c[f]=g,f++;else{var y=0,b=0;g==16?(b=3+u(o,l,2),l+=2,y=c[f-1]):g==17?(b=3+u(o,l,3),l+=3):g==18&&(b=11+u(o,l,7),l+=7);for(var m=f+b;f<m;)c[f]=y,f++}}return l},r.F._copyOut=function(i,s,a,o){for(var l=0,c=0,u=o.length>>>1;c<a;){var d=i[c+s];o[c<<1]=0,o[1+(c<<1)]=d,d>l&&(l=d),c++}for(;c<u;)o[c<<1]=0,o[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(i,s){for(var a,o,l,c,u=r.F.U,d=i.length,f=u.bl_count,h=0;h<=s;h++)f[h]=0;for(h=1;h<d;h+=2)f[i[h]]++;var g=u.next_code;for(a=0,f[0]=0,o=1;o<=s;o++)a=a+f[o-1]<<1,g[o]=a;for(l=0;l<d;l+=2)(c=i[l+1])!=0&&(i[l]=g[c],g[c]++)},r.F.codes2map=function(i,s,a){for(var o=i.length,l=r.F.U.rev15,c=0;c<o;c+=2)if(i[c+1]!=0)for(var u=c>>1,d=i[c+1],f=u<<4|d,h=s-d,g=i[c]<<h,y=g+(1<<h);g!=y;)a[l[g]>>>15-s]=f,g++},r.F.revCodes=function(i,s){for(var a=r.F.U.rev15,o=15-s,l=0;l<i.length;l+=2){var c=i[l]<<s-i[l+1];i[l]=a[c]>>>o}},r.F._putsE=function(i,s,a){a<<=7&s;var o=s>>>3;i[o]|=a,i[o+1]|=a>>>8},r.F._putsF=function(i,s,a){a<<=7&s;var o=s>>>3;i[o]|=a,i[o+1]|=a>>>8,i[o+2]|=a>>>16},r.F._bitsE=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<a)-1},r.F._bitsF=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<a)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var a=s;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,i.rev15[s]=(a>>>16|a<<16)>>>17}function o(l,c,u){for(;c--!=0;)l.push(0,u)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];o(i.fltree,144,8),o(i.fltree,112,9),o(i.fltree,24,7),o(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),o(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),o(i.itree,19,0),o(i.ltree,286,0),o(i.dtree,30,0),o(i.ttree,320,0)}()})();var HV=jV({__proto__:null,default:Ng},[Ng]);const Vi=function(){var t={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,f){u[d]=f>>8&255,u[d+1]=255&f},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,f){u[d]=f>>24&255,u[d+1]=f>>16&255,u[d+2]=f>>8&255,u[d+3]=255&f},readASCII(u,d,f){let h="";for(let g=0;g<f;g++)h+=String.fromCharCode(u[d+g]);return h},writeASCII(u,d,f){for(let h=0;h<f.length;h++)u[d+h]=f.charCodeAt(h)},readBytes(u,d,f){const h=[];for(let g=0;g<f;g++)h.push(u[d+g]);return h},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,f){let h,g="";for(let y=0;y<f;y++)g+=`%${t.pad(u[d+y].toString(16))}`;try{h=decodeURIComponent(g)}catch{return t.readASCII(u,d,f)}return h}};function e(u,d,f,h){const g=d*f,y=s(h),b=Math.ceil(d*y/8),m=new Uint8Array(4*g),w=new Uint32Array(m.buffer),{ctype:x}=h,{depth:N}=h,O=t.readUshort;if(x==6){const W=g<<2;if(N==8)for(var D=0;D<W;D+=4)m[D]=u[D],m[D+1]=u[D+1],m[D+2]=u[D+2],m[D+3]=u[D+3];if(N==16)for(D=0;D<W;D++)m[D]=u[D<<1]}else if(x==2){const W=h.tabs.tRNS;if(W==null){if(N==8)for(D=0;D<g;D++){var M=3*D;w[D]=255<<24|u[M+2]<<16|u[M+1]<<8|u[M]}if(N==16)for(D=0;D<g;D++)M=6*D,w[D]=255<<24|u[M+4]<<16|u[M+2]<<8|u[M]}else{var R=W[0];const te=W[1],ne=W[2];if(N==8)for(D=0;D<g;D++){var A=D<<2;M=3*D,w[D]=255<<24|u[M+2]<<16|u[M+1]<<8|u[M],u[M]==R&&u[M+1]==te&&u[M+2]==ne&&(m[A+3]=0)}if(N==16)for(D=0;D<g;D++)A=D<<2,M=6*D,w[D]=255<<24|u[M+4]<<16|u[M+2]<<8|u[M],O(u,M)==R&&O(u,M+2)==te&&O(u,M+4)==ne&&(m[A+3]=0)}}else if(x==3){const W=h.tabs.PLTE,te=h.tabs.tRNS,ne=te?te.length:0;if(N==1)for(var B=0;B<f;B++){var L=B*b,k=B*d;for(D=0;D<d;D++){A=k+D<<2;var I=3*(_=u[L+(D>>3)]>>7-((7&D)<<0)&1);m[A]=W[I],m[A+1]=W[I+1],m[A+2]=W[I+2],m[A+3]=_<ne?te[_]:255}}if(N==2)for(B=0;B<f;B++)for(L=B*b,k=B*d,D=0;D<d;D++)A=k+D<<2,I=3*(_=u[L+(D>>2)]>>6-((3&D)<<1)&3),m[A]=W[I],m[A+1]=W[I+1],m[A+2]=W[I+2],m[A+3]=_<ne?te[_]:255;if(N==4)for(B=0;B<f;B++)for(L=B*b,k=B*d,D=0;D<d;D++)A=k+D<<2,I=3*(_=u[L+(D>>1)]>>4-((1&D)<<2)&15),m[A]=W[I],m[A+1]=W[I+1],m[A+2]=W[I+2],m[A+3]=_<ne?te[_]:255;if(N==8)for(D=0;D<g;D++){var _;A=D<<2,I=3*(_=u[D]),m[A]=W[I],m[A+1]=W[I+1],m[A+2]=W[I+2],m[A+3]=_<ne?te[_]:255}}else if(x==4){if(N==8)for(D=0;D<g;D++){A=D<<2;var V=u[U=D<<1];m[A]=V,m[A+1]=V,m[A+2]=V,m[A+3]=u[U+1]}if(N==16)for(D=0;D<g;D++){var U;A=D<<2,V=u[U=D<<2],m[A]=V,m[A+1]=V,m[A+2]=V,m[A+3]=u[U+2]}}else if(x==0)for(R=h.tabs.tRNS?h.tabs.tRNS:-1,B=0;B<f;B++){const W=B*b,te=B*d;if(N==1)for(var P=0;P<d;P++){var $=(V=255*(u[W+(P>>>3)]>>>7-(7&P)&1))==255*R?0:255;w[te+P]=$<<24|V<<16|V<<8|V}else if(N==2)for(P=0;P<d;P++)$=(V=85*(u[W+(P>>>2)]>>>6-((3&P)<<1)&3))==85*R?0:255,w[te+P]=$<<24|V<<16|V<<8|V;else if(N==4)for(P=0;P<d;P++)$=(V=17*(u[W+(P>>>1)]>>>4-((1&P)<<2)&15))==17*R?0:255,w[te+P]=$<<24|V<<16|V<<8|V;else if(N==8)for(P=0;P<d;P++)$=(V=u[W+P])==R?0:255,w[te+P]=$<<24|V<<16|V<<8|V;else if(N==16)for(P=0;P<d;P++)V=u[W+(P<<1)],$=O(u,W+(P<<1))==R?0:255,w[te+P]=$<<24|V<<16|V<<8|V}return m}function n(u,d,f,h){const g=s(u),y=Math.ceil(f*g/8),b=new Uint8Array((y+1+u.interlace)*h);return d=u.tabs.CgBI?i(d,b):r(d,b),u.interlace==0?d=a(d,u,0,f,h):u.interlace==1&&(d=function(w,x){const N=x.width,O=x.height,D=s(x),M=D>>3,R=Math.ceil(N*D/8),A=new Uint8Array(O*R);let B=0;const L=[0,0,4,0,2,0,1],k=[0,4,0,2,0,1,0],I=[8,8,8,4,4,2,2],_=[8,8,4,4,2,2,1];let V=0;for(;V<7;){const P=I[V],$=_[V];let W=0,te=0,ne=L[V];for(;ne<O;)ne+=P,te++;let C=k[V];for(;C<N;)C+=$,W++;const K=Math.ceil(W*D/8);a(w,x,B,W,te);let q=0,H=L[V];for(;H<O;){let oe=k[V],pe=B+q*K<<3;for(;oe<N;){var U;if(D==1&&(U=(U=w[pe>>3])>>7-(7&pe)&1,A[H*R+(oe>>3)]|=U<<7-((7&oe)<<0)),D==2&&(U=(U=w[pe>>3])>>6-(7&pe)&3,A[H*R+(oe>>2)]|=U<<6-((3&oe)<<1)),D==4&&(U=(U=w[pe>>3])>>4-(7&pe)&15,A[H*R+(oe>>1)]|=U<<4-((1&oe)<<2)),D>=8){const ue=H*R+oe*M;for(let de=0;de<M;de++)A[ue+de]=w[(pe>>3)+de]}pe+=D,oe+=$}q++,H+=P}W*te!=0&&(B+=te*(1+K)),V+=1}return A}(d,u)),d}function r(u,d){return i(new Uint8Array(u.buffer,2,u.length-6),d)}var i=function(){const u={H:{}};return u.H.N=function(d,f){const h=Uint8Array;let g,y,b=0,m=0,w=0,x=0,N=0,O=0,D=0,M=0,R=0;if(d[0]==3&&d[1]==0)return f||new h(0);const A=u.H,B=A.b,L=A.e,k=A.R,I=A.n,_=A.A,V=A.Z,U=A.m,P=f==null;for(P&&(f=new h(d.length>>>2<<5));b==0;)if(b=B(d,R,1),m=B(d,R+1,2),R+=3,m!=0){if(P&&(f=u.H.W(f,M+(1<<17))),m==1&&(g=U.J,y=U.h,O=511,D=31),m==2){w=L(d,R,5)+257,x=L(d,R+5,5)+1,N=L(d,R+10,4)+4,R+=14;let W=1;for(var $=0;$<38;$+=2)U.Q[$]=0,U.Q[$+1]=0;for($=0;$<N;$++){const C=L(d,R+3*$,3);U.Q[1+(U.X[$]<<1)]=C,C>W&&(W=C)}R+=3*N,I(U.Q,W),_(U.Q,W,U.u),g=U.w,y=U.d,R=k(U.u,(1<<W)-1,w+x,d,R,U.v);const te=A.V(U.v,0,w,U.C);O=(1<<te)-1;const ne=A.V(U.v,w,x,U.D);D=(1<<ne)-1,I(U.C,te),_(U.C,te,g),I(U.D,ne),_(U.D,ne,y)}for(;;){const W=g[V(d,R)&O];R+=15&W;const te=W>>>4;if(!(te>>>8))f[M++]=te;else{if(te==256)break;{let ne=M+te-254;if(te>264){const oe=U.q[te-257];ne=M+(oe>>>3)+L(d,R,7&oe),R+=7&oe}const C=y[V(d,R)&D];R+=15&C;const K=C>>>4,q=U.c[K],H=(q>>>4)+B(d,R,15&q);for(R+=15&q;M<ne;)f[M]=f[M++-H],f[M]=f[M++-H],f[M]=f[M++-H],f[M]=f[M++-H];M=ne}}}}else{7&R&&(R+=8-(7&R));const W=4+(R>>>3),te=d[W-4]|d[W-3]<<8;P&&(f=u.H.W(f,M+te)),f.set(new h(d.buffer,d.byteOffset+W,te),M),R=W+te<<3,M+=te}return f.length==M?f:f.slice(0,M)},u.H.W=function(d,f){const h=d.length;if(f<=h)return d;const g=new Uint8Array(h<<1);return g.set(d,0),g},u.H.R=function(d,f,h,g,y,b){const m=u.H.e,w=u.H.Z;let x=0;for(;x<h;){const N=d[w(g,y)&f];y+=15&N;const O=N>>>4;if(O<=15)b[x]=O,x++;else{let D=0,M=0;O==16?(M=3+m(g,y,2),y+=2,D=b[x-1]):O==17?(M=3+m(g,y,3),y+=3):O==18&&(M=11+m(g,y,7),y+=7);const R=x+M;for(;x<R;)b[x]=D,x++}}return y},u.H.V=function(d,f,h,g){let y=0,b=0;const m=g.length>>>1;for(;b<h;){const w=d[b+f];g[b<<1]=0,g[1+(b<<1)]=w,w>y&&(y=w),b++}for(;b<m;)g[b<<1]=0,g[1+(b<<1)]=0,b++;return y},u.H.n=function(d,f){const h=u.H.m,g=d.length;let y,b,m,w;const x=h.j;for(var N=0;N<=f;N++)x[N]=0;for(N=1;N<g;N+=2)x[d[N]]++;const O=h.K;for(y=0,x[0]=0,b=1;b<=f;b++)y=y+x[b-1]<<1,O[b]=y;for(m=0;m<g;m+=2)w=d[m+1],w!=0&&(d[m]=O[w],O[w]++)},u.H.A=function(d,f,h){const g=d.length,y=u.H.m.r;for(let b=0;b<g;b+=2)if(d[b+1]!=0){const m=b>>1,w=d[b+1],x=m<<4|w,N=f-w;let O=d[b]<<N;const D=O+(1<<N);for(;O!=D;)h[y[O]>>>15-f]=x,O++}},u.H.l=function(d,f){const h=u.H.m.r,g=15-f;for(let y=0;y<d.length;y+=2){const b=d[y]<<f-d[y+1];d[y]=h[b]>>>g}},u.H.M=function(d,f,h){h<<=7&f;const g=f>>>3;d[g]|=h,d[g+1]|=h>>>8},u.H.I=function(d,f,h){h<<=7&f;const g=f>>>3;d[g]|=h,d[g+1]|=h>>>8,d[g+2]|=h>>>16},u.H.e=function(d,f,h){return(d[f>>>3]|d[1+(f>>>3)]<<8)>>>(7&f)&(1<<h)-1},u.H.b=function(d,f,h){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)&(1<<h)-1},u.H.Z=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)},u.H.i=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16|d[3+(f>>>3)]<<24)>>>(7&f)},u.H.m=function(){const d=Uint16Array,f=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var f=0;f<32768;f++){let g=f;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,d.r[f]=(g>>>16|g<<16)>>>17}function h(g,y,b){for(;y--!=0;)g.push(0,b)}for(f=0;f<32;f++)d.q[f]=d.S[f]<<3|d.T[f],d.c[f]=d.p[f]<<4|d.z[f];h(d._,144,8),h(d._,112,9),h(d._,24,7),h(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),h(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),h(d.Q,19,0),h(d.C,286,0),h(d.D,30,0),h(d.v,320,0)}(),u.H.N}();function s(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function a(u,d,f,h,g){let y=s(d);const b=Math.ceil(h*y/8);let m,w;y=Math.ceil(y/8);let x=u[f],N=0;if(x>1&&(u[f]=[0,0,1][x-2]),x==3)for(N=y;N<b;N++)u[N+1]=u[N+1]+(u[N+1-y]>>>1)&255;for(let O=0;O<g;O++)if(m=f+O*b,w=m+O+1,x=u[w-1],N=0,x==0)for(;N<b;N++)u[m+N]=u[w+N];else if(x==1){for(;N<y;N++)u[m+N]=u[w+N];for(;N<b;N++)u[m+N]=u[w+N]+u[m+N-y]}else if(x==2)for(;N<b;N++)u[m+N]=u[w+N]+u[m+N-b];else if(x==3){for(;N<y;N++)u[m+N]=u[w+N]+(u[m+N-b]>>>1);for(;N<b;N++)u[m+N]=u[w+N]+(u[m+N-b]+u[m+N-y]>>>1)}else{for(;N<y;N++)u[m+N]=u[w+N]+o(0,u[m+N-b],0);for(;N<b;N++)u[m+N]=u[w+N]+o(u[m+N-y],u[m+N-b],u[m+N-y-b])}return u}function o(u,d,f){const h=u+d-f,g=h-u,y=h-d,b=h-f;return g*g<=y*y&&g*g<=b*b?u:y*y<=b*b?d:f}function l(u,d,f){f.width=t.readUint(u,d),d+=4,f.height=t.readUint(u,d),d+=4,f.depth=u[d],d++,f.ctype=u[d],d++,f.compress=u[d],d++,f.filter=u[d],d++,f.interlace=u[d],d++}function c(u,d,f,h,g,y,b,m,w){const x=Math.min(d,g),N=Math.min(f,y);let O=0,D=0;for(let V=0;V<N;V++)for(let U=0;U<x;U++)if(b>=0&&m>=0?(O=V*d+U<<2,D=(m+V)*g+b+U<<2):(O=(-m+V)*d-b+U<<2,D=V*g+U<<2),w==0)h[D]=u[O],h[D+1]=u[O+1],h[D+2]=u[O+2],h[D+3]=u[O+3];else if(w==1){var M=u[O+3]*.00392156862745098,R=u[O]*M,A=u[O+1]*M,B=u[O+2]*M,L=h[D+3]*(1/255),k=h[D]*L,I=h[D+1]*L,_=h[D+2]*L;const P=1-M,$=M+L*P,W=$==0?0:1/$;h[D+3]=255*$,h[D+0]=(R+k*P)*W,h[D+1]=(A+I*P)*W,h[D+2]=(B+_*P)*W}else if(w==2)M=u[O+3],R=u[O],A=u[O+1],B=u[O+2],L=h[D+3],k=h[D],I=h[D+1],_=h[D+2],M==L&&R==k&&A==I&&B==_?(h[D]=0,h[D+1]=0,h[D+2]=0,h[D+3]=0):(h[D]=R,h[D+1]=A,h[D+2]=B,h[D+3]=M);else if(w==3){if(M=u[O+3],R=u[O],A=u[O+1],B=u[O+2],L=h[D+3],k=h[D],I=h[D+1],_=h[D+2],M==L&&R==k&&A==I&&B==_)continue;if(M<220&&L>20)return!1}return!0}return{decode:function(d){const f=new Uint8Array(d);let h=8;const g=t,y=g.readUshort,b=g.readUint,m={tabs:{},frames:[]},w=new Uint8Array(f.length);let x,N=0,O=0;const D=[137,80,78,71,13,10,26,10];for(var M=0;M<8;M++)if(f[M]!=D[M])throw"The input is not a PNG file!";for(;h<f.length;){const V=g.readUint(f,h);h+=4;const U=g.readASCII(f,h,4);if(h+=4,U=="IHDR")l(f,h,m);else if(U=="iCCP"){for(var R=h;f[R]!=0;)R++;g.readASCII(f,h,R-h),f[R+1];const P=f.slice(R+2,h+V);let $=null;try{$=r(P)}catch{$=i(P)}m.tabs[U]=$}else if(U=="CgBI")m.tabs[U]=f.slice(h,h+4);else if(U=="IDAT"){for(M=0;M<V;M++)w[N+M]=f[h+M];N+=V}else if(U=="acTL")m.tabs[U]={num_frames:b(f,h),num_plays:b(f,h+4)},x=new Uint8Array(f.length);else if(U=="fcTL"){O!=0&&((_=m.frames[m.frames.length-1]).data=n(m,x.slice(0,O),_.rect.width,_.rect.height),O=0);const P={x:b(f,h+12),y:b(f,h+16),width:b(f,h+4),height:b(f,h+8)};let $=y(f,h+22);$=y(f,h+20)/($==0?100:$);const W={rect:P,delay:Math.round(1e3*$),dispose:f[h+24],blend:f[h+25]};m.frames.push(W)}else if(U=="fdAT"){for(M=0;M<V-4;M++)x[O+M]=f[h+M+4];O+=V-4}else if(U=="pHYs")m.tabs[U]=[g.readUint(f,h),g.readUint(f,h+4),f[h+8]];else if(U=="cHRM")for(m.tabs[U]=[],M=0;M<8;M++)m.tabs[U].push(g.readUint(f,h+4*M));else if(U=="tEXt"||U=="zTXt"){m.tabs[U]==null&&(m.tabs[U]={});var A=g.nextZero(f,h),B=g.readASCII(f,h,A-h),L=h+V-A-1;if(U=="tEXt")I=g.readASCII(f,A+1,L);else{var k=r(f.slice(A+2,A+2+L));I=g.readUTF8(k,0,k.length)}m.tabs[U][B]=I}else if(U=="iTXt"){m.tabs[U]==null&&(m.tabs[U]={}),A=0,R=h,A=g.nextZero(f,R),B=g.readASCII(f,R,A-R);const P=f[R=A+1];var I;f[R+1],R+=2,A=g.nextZero(f,R),g.readASCII(f,R,A-R),R=A+1,A=g.nextZero(f,R),g.readUTF8(f,R,A-R),L=V-((R=A+1)-h),P==0?I=g.readUTF8(f,R,L):(k=r(f.slice(R,R+L)),I=g.readUTF8(k,0,k.length)),m.tabs[U][B]=I}else if(U=="PLTE")m.tabs[U]=g.readBytes(f,h,V);else if(U=="hIST"){const P=m.tabs.PLTE.length/3;for(m.tabs[U]=[],M=0;M<P;M++)m.tabs[U].push(y(f,h+2*M))}else if(U=="tRNS")m.ctype==3?m.tabs[U]=g.readBytes(f,h,V):m.ctype==0?m.tabs[U]=y(f,h):m.ctype==2&&(m.tabs[U]=[y(f,h),y(f,h+2),y(f,h+4)]);else if(U=="gAMA")m.tabs[U]=g.readUint(f,h)/1e5;else if(U=="sRGB")m.tabs[U]=f[h];else if(U=="bKGD")m.ctype==0||m.ctype==4?m.tabs[U]=[y(f,h)]:m.ctype==2||m.ctype==6?m.tabs[U]=[y(f,h),y(f,h+2),y(f,h+4)]:m.ctype==3&&(m.tabs[U]=f[h]);else if(U=="IEND")break;h+=V,g.readUint(f,h),h+=4}var _;return O!=0&&((_=m.frames[m.frames.length-1]).data=n(m,x.slice(0,O),_.rect.width,_.rect.height)),m.data=n(m,w,m.width,m.height),delete m.compress,delete m.interlace,delete m.filter,m},toRGBA8:function(d){const f=d.width,h=d.height;if(d.tabs.acTL==null)return[e(d.data,f,h,d).buffer];const g=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const y=f*h*4,b=new Uint8Array(y),m=new Uint8Array(y),w=new Uint8Array(y);for(let N=0;N<d.frames.length;N++){const O=d.frames[N],D=O.rect.x,M=O.rect.y,R=O.rect.width,A=O.rect.height,B=e(O.data,R,A,d);if(N!=0)for(var x=0;x<y;x++)w[x]=b[x];if(O.blend==0?c(B,R,A,b,f,h,D,M,0):O.blend==1&&c(B,R,A,b,f,h,D,M,1),g.push(b.buffer.slice(0)),O.dispose!=0){if(O.dispose==1)c(m,R,A,b,f,h,D,M,0);else if(O.dispose==2)for(x=0;x<y;x++)b[x]=w[x]}}return g},_paeth:o,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=Vi,{_bin:e}=Vi,n=Vi._paeth;var r={table:function(){const R=new Uint32Array(256);for(let A=0;A<256;A++){let B=A;for(let L=0;L<8;L++)1&B?B=3988292384^B>>>1:B>>>=1;R[A]=B}return R}(),update(R,A,B,L){for(let k=0;k<L;k++)R=r.table[255&(R^A[B+k])]^R>>>8;return R},crc:(R,A,B)=>4294967295^r.update(4294967295,R,A,B)};function i(R,A,B,L){A[B]+=R[0]*L>>4,A[B+1]+=R[1]*L>>4,A[B+2]+=R[2]*L>>4,A[B+3]+=R[3]*L>>4}function s(R){return Math.max(0,Math.min(255,R))}function a(R,A){const B=R[0]-A[0],L=R[1]-A[1],k=R[2]-A[2],I=R[3]-A[3];return B*B+L*L+k*k+I*I}function o(R,A,B,L,k,I,_){_==null&&(_=1);const V=L.length,U=[];for(var P=0;P<V;P++){const H=L[P];U.push([H>>>0&255,H>>>8&255,H>>>16&255,H>>>24&255])}for(P=0;P<V;P++){let H=4294967295;for(var $=0,W=0;W<V;W++){var te=a(U[P],U[W]);W!=P&&te<H&&(H=te,$=W)}}const ne=new Uint32Array(k.buffer),C=new Int16Array(A*B*4),K=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(P=0;P<K.length;P++)K[P]=255*((K[P]+.5)/16-.5);for(let H=0;H<B;H++)for(let oe=0;oe<A;oe++){var q;P=4*(H*A+oe),_!=2?q=[s(R[P]+C[P]),s(R[P+1]+C[P+1]),s(R[P+2]+C[P+2]),s(R[P+3]+C[P+3])]:(te=K[4*(3&H)+(3&oe)],q=[s(R[P]+te),s(R[P+1]+te),s(R[P+2]+te),s(R[P+3]+te)]),$=0;let pe=16777215;for(W=0;W<V;W++){const Re=a(q,U[W]);Re<pe&&(pe=Re,$=W)}const ue=U[$],de=[q[0]-ue[0],q[1]-ue[1],q[2]-ue[2],q[3]-ue[3]];_==1&&(oe!=A-1&&i(de,C,P+4,7),H!=B-1&&(oe!=0&&i(de,C,P+4*A-4,3),i(de,C,P+4*A,5),oe!=A-1&&i(de,C,P+4*A+4,1))),I[P>>2]=$,ne[P>>2]=L[$]}}function l(R,A,B,L,k){k==null&&(k={});const{crc:I}=r,_=e.writeUint,V=e.writeUshort,U=e.writeASCII;let P=8;const $=R.frames.length>1;let W,te=!1,ne=33+($?20:0);if(k.sRGB!=null&&(ne+=13),k.pHYs!=null&&(ne+=21),k.iCCP!=null&&(W=pako.deflate(k.iCCP),ne+=21+W.length+4),R.ctype==3){for(var C=R.plte.length,K=0;K<C;K++)R.plte[K]>>>24!=255&&(te=!0);ne+=8+3*C+4+(te?8+1*C+4:0)}for(var q=0;q<R.frames.length;q++)$&&(ne+=38),ne+=(ue=R.frames[q]).cimg.length+12,q!=0&&(ne+=4);ne+=12;const H=new Uint8Array(ne),oe=[137,80,78,71,13,10,26,10];for(K=0;K<8;K++)H[K]=oe[K];if(_(H,P,13),P+=4,U(H,P,"IHDR"),P+=4,_(H,P,A),P+=4,_(H,P,B),P+=4,H[P]=R.depth,P++,H[P]=R.ctype,P++,H[P]=0,P++,H[P]=0,P++,H[P]=0,P++,_(H,P,I(H,P-17,17)),P+=4,k.sRGB!=null&&(_(H,P,1),P+=4,U(H,P,"sRGB"),P+=4,H[P]=k.sRGB,P++,_(H,P,I(H,P-5,5)),P+=4),k.iCCP!=null){const de=13+W.length;_(H,P,de),P+=4,U(H,P,"iCCP"),P+=4,U(H,P,"ICC profile"),P+=11,P+=2,H.set(W,P),P+=W.length,_(H,P,I(H,P-(de+4),de+4)),P+=4}if(k.pHYs!=null&&(_(H,P,9),P+=4,U(H,P,"pHYs"),P+=4,_(H,P,k.pHYs[0]),P+=4,_(H,P,k.pHYs[1]),P+=4,H[P]=k.pHYs[2],P++,_(H,P,I(H,P-13,13)),P+=4),$&&(_(H,P,8),P+=4,U(H,P,"acTL"),P+=4,_(H,P,R.frames.length),P+=4,_(H,P,k.loop!=null?k.loop:0),P+=4,_(H,P,I(H,P-12,12)),P+=4),R.ctype==3){for(_(H,P,3*(C=R.plte.length)),P+=4,U(H,P,"PLTE"),P+=4,K=0;K<C;K++){const de=3*K,Re=R.plte[K],Se=255&Re,Le=Re>>>8&255,Me=Re>>>16&255;H[P+de+0]=Se,H[P+de+1]=Le,H[P+de+2]=Me}if(P+=3*C,_(H,P,I(H,P-3*C-4,3*C+4)),P+=4,te){for(_(H,P,C),P+=4,U(H,P,"tRNS"),P+=4,K=0;K<C;K++)H[P+K]=R.plte[K]>>>24&255;P+=C,_(H,P,I(H,P-C-4,C+4)),P+=4}}let pe=0;for(q=0;q<R.frames.length;q++){var ue=R.frames[q];$&&(_(H,P,26),P+=4,U(H,P,"fcTL"),P+=4,_(H,P,pe++),P+=4,_(H,P,ue.rect.width),P+=4,_(H,P,ue.rect.height),P+=4,_(H,P,ue.rect.x),P+=4,_(H,P,ue.rect.y),P+=4,V(H,P,L[q]),P+=2,V(H,P,1e3),P+=2,H[P]=ue.dispose,P++,H[P]=ue.blend,P++,_(H,P,I(H,P-30,30)),P+=4);const de=ue.cimg;_(H,P,(C=de.length)+(q==0?0:4)),P+=4;const Re=P;U(H,P,q==0?"IDAT":"fdAT"),P+=4,q!=0&&(_(H,P,pe++),P+=4),H.set(de,P),P+=C,_(H,P,I(H,Re,P-Re)),P+=4}return _(H,P,0),P+=4,U(H,P,"IEND"),P+=4,_(H,P,I(H,P-4,4)),P+=4,H.buffer}function c(R,A,B){for(let L=0;L<R.frames.length;L++){const k=R.frames[L];k.rect.width;const I=k.rect.height,_=new Uint8Array(I*k.bpl+I);k.cimg=h(k.img,I,k.bpp,k.bpl,_,A,B)}}function u(R,A,B,L,k){const I=k[0],_=k[1],V=k[2],U=k[3],P=k[4],$=k[5];let W=6,te=8,ne=255;for(var C=0;C<R.length;C++){const G=new Uint8Array(R[C]);for(var K=G.length,q=0;q<K;q+=4)ne&=G[q+3]}const H=ne!=255,oe=function(ee,Q,re,ge,ye,ce){const xe=[];for(var Ne=0;Ne<ee.length;Ne++){const Je=new Uint8Array(ee[Ne]),Ue=new Uint32Array(Je.buffer);var ke;let kt=0,Xe=0,Bt=Q,mt=re,gt=ge?1:0;if(Ne!=0){const vr=ce||ge||Ne==1||xe[Ne-2].dispose!=0?1:2;let xt=0,li=1e9;for(let Pt=0;Pt<vr;Pt++){var Fe=new Uint8Array(ee[Ne-1-Pt]);const ir=new Uint32Array(ee[Ne-1-Pt]);let Jt=Q,_t=re,tt=-1,Et=-1;for(let Kt=0;Kt<re;Kt++)for(let zn=0;zn<Q;zn++)Ue[je=Kt*Q+zn]!=ir[je]&&(zn<Jt&&(Jt=zn),zn>tt&&(tt=zn),Kt<_t&&(_t=Kt),Kt>Et&&(Et=Kt));tt==-1&&(Jt=_t=tt=Et=0),ye&&((1&Jt)==1&&Jt--,(1&_t)==1&&_t--);const ss=(tt-Jt+1)*(Et-_t+1);ss<li&&(li=ss,xt=Pt,kt=Jt,Xe=_t,Bt=tt-Jt+1,mt=Et-_t+1)}Fe=new Uint8Array(ee[Ne-1-xt]),xt==1&&(xe[Ne-1].dispose=2),ke=new Uint8Array(Bt*mt*4),t(Fe,Q,re,ke,Bt,mt,-kt,-Xe,0),gt=t(Je,Q,re,ke,Bt,mt,-kt,-Xe,3)?1:0,gt==1?f(Je,Q,re,ke,{x:kt,y:Xe,width:Bt,height:mt}):t(Je,Q,re,ke,Bt,mt,-kt,-Xe,0)}else ke=Je.slice(0);xe.push({rect:{x:kt,y:Xe,width:Bt,height:mt},img:ke,blend:gt,dispose:0})}if(ge)for(Ne=0;Ne<xe.length;Ne++){if((Ge=xe[Ne]).blend==1)continue;const Je=Ge.rect,Ue=xe[Ne-1].rect,kt=Math.min(Je.x,Ue.x),Xe=Math.min(Je.y,Ue.y),Bt={x:kt,y:Xe,width:Math.max(Je.x+Je.width,Ue.x+Ue.width)-kt,height:Math.max(Je.y+Je.height,Ue.y+Ue.height)-Xe};xe[Ne-1].dispose=1,Ne-1!=0&&d(ee,Q,re,xe,Ne-1,Bt,ye),d(ee,Q,re,xe,Ne,Bt,ye)}let Ye=0;if(ee.length!=1)for(var je=0;je<xe.length;je++){var Ge;Ye+=(Ge=xe[je]).rect.width*Ge.rect.height}return xe}(R,A,B,I,_,V),pe={},ue=[],de=[];if(L!=0){const G=[];for(q=0;q<oe.length;q++)G.push(oe[q].img.buffer);const ee=function(ye){let ce=0;for(var xe=0;xe<ye.length;xe++)ce+=ye[xe].byteLength;const Ne=new Uint8Array(ce);let ke=0;for(xe=0;xe<ye.length;xe++){const Fe=new Uint8Array(ye[xe]),Ye=Fe.length;for(let je=0;je<Ye;je+=4){let Ge=Fe[je],Je=Fe[je+1],Ue=Fe[je+2];const kt=Fe[je+3];kt==0&&(Ge=Je=Ue=0),Ne[ke+je]=Ge,Ne[ke+je+1]=Je,Ne[ke+je+2]=Ue,Ne[ke+je+3]=kt}ke+=Ye}return Ne.buffer}(G),Q=y(ee,L);for(q=0;q<Q.plte.length;q++)ue.push(Q.plte[q].est.rgba);let re=0;for(q=0;q<oe.length;q++){const ge=(Se=oe[q]).img.length;var Re=new Uint8Array(Q.inds.buffer,re>>2,ge>>2);de.push(Re);const ye=new Uint8Array(Q.abuf,re,ge);$&&o(Se.img,Se.rect.width,Se.rect.height,ue,ye,Re),Se.img.set(ye),re+=ge}}else for(C=0;C<oe.length;C++){var Se=oe[C];const G=new Uint32Array(Se.img.buffer);var Le=Se.rect.width;for(K=G.length,Re=new Uint8Array(K),de.push(Re),q=0;q<K;q++){const ee=G[q];if(q!=0&&ee==G[q-1])Re[q]=Re[q-1];else if(q>Le&&ee==G[q-Le])Re[q]=Re[q-Le];else{let Q=pe[ee];if(Q==null&&(pe[ee]=Q=ue.length,ue.push(ee),ue.length>=300))break;Re[q]=Q}}}const Me=ue.length;for(Me<=256&&P==0&&(te=Me<=2?1:Me<=4?2:Me<=16?4:8,te=Math.max(te,U)),C=0;C<oe.length;C++){(Se=oe[C]).rect.x,Se.rect.y,Le=Se.rect.width;const G=Se.rect.height;let ee=Se.img;new Uint32Array(ee.buffer);let Q=4*Le,re=4;if(Me<=256&&P==0){Q=Math.ceil(te*Le/8);var F=new Uint8Array(Q*G);const ge=de[C];for(let ye=0;ye<G;ye++){q=ye*Q;const ce=ye*Le;if(te==8)for(var ae=0;ae<Le;ae++)F[q+ae]=ge[ce+ae];else if(te==4)for(ae=0;ae<Le;ae++)F[q+(ae>>1)]|=ge[ce+ae]<<4-4*(1&ae);else if(te==2)for(ae=0;ae<Le;ae++)F[q+(ae>>2)]|=ge[ce+ae]<<6-2*(3&ae);else if(te==1)for(ae=0;ae<Le;ae++)F[q+(ae>>3)]|=ge[ce+ae]<<7-1*(7&ae)}ee=F,W=3,re=1}else if(H==0&&oe.length==1){F=new Uint8Array(Le*G*3);const ge=Le*G;for(q=0;q<ge;q++){const ye=3*q,ce=4*q;F[ye]=ee[ce],F[ye+1]=ee[ce+1],F[ye+2]=ee[ce+2]}ee=F,W=2,re=3,Q=3*Le}Se.img=ee,Se.bpl=Q,Se.bpp=re}return{ctype:W,depth:te,plte:ue,frames:oe}}function d(R,A,B,L,k,I,_){const V=Uint8Array,U=Uint32Array,P=new V(R[k-1]),$=new U(R[k-1]),W=k+1<R.length?new V(R[k+1]):null,te=new V(R[k]),ne=new U(te.buffer);let C=A,K=B,q=-1,H=-1;for(let pe=0;pe<I.height;pe++)for(let ue=0;ue<I.width;ue++){const de=I.x+ue,Re=I.y+pe,Se=Re*A+de,Le=ne[Se];Le==0||L[k-1].dispose==0&&$[Se]==Le&&(W==null||W[4*Se+3]!=0)||(de<C&&(C=de),de>q&&(q=de),Re<K&&(K=Re),Re>H&&(H=Re))}q==-1&&(C=K=q=H=0),_&&((1&C)==1&&C--,(1&K)==1&&K--),I={x:C,y:K,width:q-C+1,height:H-K+1};const oe=L[k];oe.rect=I,oe.blend=1,oe.img=new Uint8Array(I.width*I.height*4),L[k-1].dispose==0?(t(P,A,B,oe.img,I.width,I.height,-I.x,-I.y,0),f(te,A,B,oe.img,I)):t(te,A,B,oe.img,I.width,I.height,-I.x,-I.y,0)}function f(R,A,B,L,k){t(R,A,B,L,k.width,k.height,-k.x,-k.y,2)}function h(R,A,B,L,k,I,_){const V=[];let U,P=[0,1,2,3,4];I!=-1?P=[I]:(A*L>5e5||B==1)&&(P=[0]),_&&(U={level:0});const $=HV;for(var W=0;W<P.length;W++){for(let C=0;C<A;C++)g(k,R,C,L,B,P[W]);V.push($.deflate(k,U))}let te,ne=1e9;for(W=0;W<V.length;W++)V[W].length<ne&&(te=W,ne=V[W].length);return V[te]}function g(R,A,B,L,k,I){const _=B*L;let V=_+B;if(R[V]=I,V++,I==0)if(L<500)for(var U=0;U<L;U++)R[V+U]=A[_+U];else R.set(new Uint8Array(A.buffer,_,L),V);else if(I==1){for(U=0;U<k;U++)R[V+U]=A[_+U];for(U=k;U<L;U++)R[V+U]=A[_+U]-A[_+U-k]+256&255}else if(B==0){for(U=0;U<k;U++)R[V+U]=A[_+U];if(I==2)for(U=k;U<L;U++)R[V+U]=A[_+U];if(I==3)for(U=k;U<L;U++)R[V+U]=A[_+U]-(A[_+U-k]>>1)+256&255;if(I==4)for(U=k;U<L;U++)R[V+U]=A[_+U]-n(A[_+U-k],0,0)+256&255}else{if(I==2)for(U=0;U<L;U++)R[V+U]=A[_+U]+256-A[_+U-L]&255;if(I==3){for(U=0;U<k;U++)R[V+U]=A[_+U]+256-(A[_+U-L]>>1)&255;for(U=k;U<L;U++)R[V+U]=A[_+U]+256-(A[_+U-L]+A[_+U-k]>>1)&255}if(I==4){for(U=0;U<k;U++)R[V+U]=A[_+U]+256-n(0,A[_+U-L],0)&255;for(U=k;U<L;U++)R[V+U]=A[_+U]+256-n(A[_+U-k],A[_+U-L],A[_+U-k-L])&255}}}function y(R,A){const B=new Uint8Array(R),L=B.slice(0),k=new Uint32Array(L.buffer),I=b(L,A),_=I[0],V=I[1],U=B.length,P=new Uint8Array(U>>2);let $;if(B.length<2e7)for(var W=0;W<U;W+=4)$=m(_,te=B[W]*(1/255),ne=B[W+1]*(1/255),C=B[W+2]*(1/255),K=B[W+3]*(1/255)),P[W>>2]=$.ind,k[W>>2]=$.est.rgba;else for(W=0;W<U;W+=4){var te=B[W]*.00392156862745098,ne=B[W+1]*(1/255),C=B[W+2]*(1/255),K=B[W+3]*(1/255);for($=_;$.left;)$=w($.est,te,ne,C,K)<=0?$.left:$.right;P[W>>2]=$.ind,k[W>>2]=$.est.rgba}return{abuf:L.buffer,inds:P,plte:V}}function b(R,A,B){B==null&&(B=1e-4);const L=new Uint32Array(R.buffer),k={i0:0,i1:R.length,bst:null,est:null,tdst:0,left:null,right:null};k.bst=O(R,k.i0,k.i1),k.est=D(k.bst);const I=[k];for(;I.length<A;){let V=0,U=0;for(var _=0;_<I.length;_++)I[_].est.L>V&&(V=I[_].est.L,U=_);if(V<B)break;const P=I[U],$=x(R,L,P.i0,P.i1,P.est.e,P.est.eMq255);if(P.i0>=$||P.i1<=$){P.est.L=0;continue}const W={i0:P.i0,i1:$,bst:null,est:null,tdst:0,left:null,right:null};W.bst=O(R,W.i0,W.i1),W.est=D(W.bst);const te={i0:$,i1:P.i1,bst:null,est:null,tdst:0,left:null,right:null};for(te.bst={R:[],m:[],N:P.bst.N-W.bst.N},_=0;_<16;_++)te.bst.R[_]=P.bst.R[_]-W.bst.R[_];for(_=0;_<4;_++)te.bst.m[_]=P.bst.m[_]-W.bst.m[_];te.est=D(te.bst),P.left=W,P.right=te,I[U]=W,I.push(te)}for(I.sort((V,U)=>U.bst.N-V.bst.N),_=0;_<I.length;_++)I[_].ind=_;return[k,I]}function m(R,A,B,L,k){if(R.left==null)return R.tdst=function(W,te,ne,C,K){const q=te-W[0],H=ne-W[1],oe=C-W[2],pe=K-W[3];return q*q+H*H+oe*oe+pe*pe}(R.est.q,A,B,L,k),R;const I=w(R.est,A,B,L,k);let _=R.left,V=R.right;I>0&&(_=R.right,V=R.left);const U=m(_,A,B,L,k);if(U.tdst<=I*I)return U;const P=m(V,A,B,L,k);return P.tdst<U.tdst?P:U}function w(R,A,B,L,k){const{e:I}=R;return I[0]*A+I[1]*B+I[2]*L+I[3]*k-R.eMq}function x(R,A,B,L,k,I){for(L-=4;B<L;){for(;N(R,B,k)<=I;)B+=4;for(;N(R,L,k)>I;)L-=4;if(B>=L)break;const _=A[B>>2];A[B>>2]=A[L>>2],A[L>>2]=_,B+=4,L-=4}for(;N(R,B,k)>I;)B-=4;return B+4}function N(R,A,B){return R[A]*B[0]+R[A+1]*B[1]+R[A+2]*B[2]+R[A+3]*B[3]}function O(R,A,B){const L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[0,0,0,0],I=B-A>>2;for(let _=A;_<B;_+=4){const V=R[_]*.00392156862745098,U=R[_+1]*(1/255),P=R[_+2]*(1/255),$=R[_+3]*(1/255);k[0]+=V,k[1]+=U,k[2]+=P,k[3]+=$,L[0]+=V*V,L[1]+=V*U,L[2]+=V*P,L[3]+=V*$,L[5]+=U*U,L[6]+=U*P,L[7]+=U*$,L[10]+=P*P,L[11]+=P*$,L[15]+=$*$}return L[4]=L[1],L[8]=L[2],L[9]=L[6],L[12]=L[3],L[13]=L[7],L[14]=L[11],{R:L,m:k,N:I}}function D(R){const{R:A}=R,{m:B}=R,{N:L}=R,k=B[0],I=B[1],_=B[2],V=B[3],U=L==0?0:1/L,P=[A[0]-k*k*U,A[1]-k*I*U,A[2]-k*_*U,A[3]-k*V*U,A[4]-I*k*U,A[5]-I*I*U,A[6]-I*_*U,A[7]-I*V*U,A[8]-_*k*U,A[9]-_*I*U,A[10]-_*_*U,A[11]-_*V*U,A[12]-V*k*U,A[13]-V*I*U,A[14]-V*_*U,A[15]-V*V*U],$=P,W=M;let te=[Math.random(),Math.random(),Math.random(),Math.random()],ne=0,C=0;if(L!=0)for(let q=0;q<16&&(te=W.multVec($,te),C=Math.sqrt(W.dot(te,te)),te=W.sml(1/C,te),!(q!=0&&Math.abs(C-ne)<1e-9));q++)ne=C;const K=[k*U,I*U,_*U,V*U];return{Cov:P,q:K,e:te,L:ne,eMq255:W.dot(W.sml(255,K),te),eMq:W.dot(te,K),rgba:(Math.round(255*K[3])<<24|Math.round(255*K[2])<<16|Math.round(255*K[1])<<8|Math.round(255*K[0])<<0)>>>0}}var M={multVec:(R,A)=>[R[0]*A[0]+R[1]*A[1]+R[2]*A[2]+R[3]*A[3],R[4]*A[0]+R[5]*A[1]+R[6]*A[2]+R[7]*A[3],R[8]*A[0]+R[9]*A[1]+R[10]*A[2]+R[11]*A[3],R[12]*A[0]+R[13]*A[1]+R[14]*A[2]+R[15]*A[3]],dot:(R,A)=>R[0]*A[0]+R[1]*A[1]+R[2]*A[2]+R[3]*A[3],sml:(R,A)=>[R*A[0],R*A[1],R*A[2],R*A[3]]};Vi.encode=function(A,B,L,k,I,_,V){k==null&&(k=0),V==null&&(V=!1);const U=u(A,B,L,k,[!1,!1,!1,0,V,!1]);return c(U,-1),l(U,B,L,I,_)},Vi.encodeLL=function(A,B,L,k,I,_,V,U){const P={ctype:0+(k==1?0:2)+(I==0?0:4),depth:_,frames:[]},$=(k+I)*_,W=$*B;for(let te=0;te<A.length;te++)P.frames.push({rect:{x:0,y:0,width:B,height:L},img:new Uint8Array(A[te]),blend:0,dispose:1,bpp:Math.ceil($/8),bpl:Math.ceil(W/8)});return c(P,0,!0),l(P,B,L,V,U)},Vi.encode.compress=u,Vi.encode.dither=o,Vi.quantize=y,Vi.quantize.getKDtree=b,Vi.quantize.getNearest=m})();const UC={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),a=new Uint32Array(s.data.buffer),o=(32*n+31)/32<<2,l=o*r,c=122+l,u=new ArrayBuffer(c),d=new DataView(u),f=1<<20;let h,g,y,b,m=f,w=0,x=0,N=0;function O(R){d.setUint16(x,R,!0),x+=2}function D(R){d.setUint32(x,R,!0),x+=4}function M(R){x+=R}O(19778),D(c),M(4),D(122),D(108),D(n),D(-r>>>0),O(1),O(32),D(3),D(l),D(2835),D(2835),M(8),D(16711680),D(65280),D(255),D(4278190080),D(1466527264),function R(){for(;w<r&&m>0;){for(b=122+w*o,h=0;h<i;)m--,g=a[N++],y=g>>>24,d.setUint32(b+h,g<<8|y),h+=4;w++}N<a.length?(m=f,setTimeout(R,UC._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Ur={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},qV={[Ur.CHROME]:16384,[Ur.FIREFOX]:11180,[Ur.DESKTOP_SAFARI]:16384,[Ur.IE]:8192,[Ur.IOS]:4096,[Ur.ETC]:8192};const lb=typeof window<"u",BC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Cg=lb&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),$V=(lb||BC)&&(Cg&&Cg.getOriginalSymbol(window,"File")||typeof File<"u"&&File),zC=(lb||BC)&&(Cg&&Cg.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function cb(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],a=globalThis.atob(i[1]);let o=a.length;const l=new Uint8Array(o);for(;o--;)l[o]=a.charCodeAt(o);const c=new Blob([l],{type:s});c.name=e,c.lastModified=n,r(c)})}function jC(t){return new Promise((e,n)=>{const r=new zC;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function VC(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function yl(){if(yl.cachedResult!==void 0)return yl.cachedResult;let t=Ur.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Ur.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Ur.IOS:/Safari/i.test(e)?t=Ur.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Ur.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Ur.IE),yl.cachedResult=t,yl.cachedResult}function WC(t,e){const n=yl(),r=qV[n];let i=t,s=e,a=i*s;const o=i>s?s/i:i/s;for(;a>r*r;){const l=(r+i)/2,c=(r+s)/2;l<c?(s=c,i=c*o):(s=l*o,i=l),a=i*s}return{width:i,height:s}}function I0(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function HC(t,e){const{width:n,height:r}=WC(t.width,t.height),[i,s]=I0(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function gm(){return gm.cachedResult!==void 0||(gm.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),gm.cachedResult}function Ag(t,e={}){return new Promise(function(n,r){let i,s;var a=function(){try{return s=HC(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},o=function(l){try{var c=function(u){try{throw u}catch(d){return r(d)}};try{let u;return jC(t).then(function(d){try{return u=d,VC(u).then(function(f){try{return i=f,function(){try{return a()}catch(h){return r(h)}}()}catch(h){return c(h)}},c)}catch(f){return c(f)}},c)}catch(u){c(u)}}catch(u){return r(u)}};try{if(gm()||[Ur.DESKTOP_SAFARI,Ur.MOBILE_SAFARI].includes(yl()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,a()}catch{return o()}},o)}catch{o()}})}function Ig(t,e,n,r,i=1){return new Promise(function(s,a){let o;if(e==="image/png"){let c,u,d;return c=t.getContext("2d"),{data:u}=c.getImageData(0,0,t.width,t.height),d=Vi.encode([u.buffer],t.width,t.height,4096*i),o=new Blob([d],{type:e}),o.name=n,o.lastModified=r,l.call(this)}{let c=function(){return l.call(this)};if(e==="image/bmp")return new Promise(u=>UC.toBlob(t,u)).then((function(u){try{return o=u,o.name=n,o.lastModified=r,c.call(this)}catch(d){return a(d)}}).bind(this),a);{let u=function(){return c.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(d){try{return o=d,o.name=n,o.lastModified=r,u.call(this)}catch(f){return a(f)}}).bind(this),a);{let d;return d=t.toDataURL(e,i),cb(d,n,r).then((function(f){try{return o=f,u.call(this)}catch(h){return a(h)}}).bind(this),a)}}}function l(){return s(o)}})}function vs(t){t.width=0,t.height=0}function Xc(){return new Promise(function(t,e){let n,r,i,s;return Xc.cachedResult!==void 0?t(Xc.cachedResult):cb("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return n=a,Ag(n).then(function(o){try{return r=o[1],Ig(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,vs(r),Ag(i).then(function(c){try{return s=c[0],Xc.cachedResult=s.width===1&&s.height===2,t(Xc.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(o){return e(o)}},e)})}function qC(t){return new Promise((e,n)=>{const r=new zC;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const a=s.byteLength;let o=2;for(;o<a;){if(s.getUint16(o+2,!1)<=8)return e(-1);const l=s.getUint16(o,!1);if(o+=2,l==65505){if(s.getUint32(o+=2,!1)!=1165519206)return e(-1);const c=s.getUint16(o+=6,!1)==18761;o+=s.getUint32(o+4,c);const u=s.getUint16(o,c);o+=2;for(let d=0;d<u;d++)if(s.getUint16(o+12*d,c)==274)return e(s.getUint16(o+12*d+8,c))}else{if((65280&l)!=65280)break;o+=s.getUint16(o,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function $C(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,a=t;return isFinite(i)&&(n>i||r>i)&&([a,s]=I0(n,r),n>r?(a.width=i,a.height=r/n*i):(a.width=n/r*i,a.height=i),s.drawImage(t,0,0,a.width,a.height),vs(t)),a}function GC(t,e){const{width:n}=t,{height:r}=t,[i,s]=I0(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),vs(t),i}function T4(t,e,n=0){return new Promise(function(r,i){let s,a,o,l,c,u,d,f,h,g,y,b,m,w,x,N,O,D,M,R;function A(L=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=L,e.onProgress(Math.min(s,100))}function B(L){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(L,s),100),e.onProgress(s)}return s=n,a=e.maxIteration||10,o=1024*e.maxSizeMB*1024,A(),Ag(t,e).then((function(L){try{return[,l]=L,A(),c=$C(l,e),A(),new Promise(function(k,I){var _;if(!(_=e.exifOrientation))return qC(t).then((function(U){try{return _=U,V.call(this)}catch(P){return I(P)}}).bind(this),I);function V(){return k(_)}return V.call(this)}).then((function(k){try{return u=k,A(),Xc().then((function(I){try{return d=I?c:GC(c,u),A(),f=e.initialQuality||1,h=e.fileType||t.type,Ig(d,h,t.name,t.lastModified,f).then((function(_){try{{let U=function(){if(a--&&(x>o||x>m)){let $,W;return $=R?.95*M.width:M.width,W=R?.95*M.height:M.height,[O,D]=I0($,W),D.drawImage(M,0,0,$,W),f*=h==="image/png"?.85:.95,Ig(O,h,t.name,t.lastModified,f).then(function(te){try{return N=te,vs(M),M=O,x=N.size,B(Math.min(99,Math.floor((w-x)/(w-o)*100))),U}catch(ne){return i(ne)}},i)}return[1]},P=function(){return vs(M),vs(O),vs(c),vs(d),vs(l),B(100),r(N)};if(g=_,A(),y=g.size>o,b=g.size>t.size,!y&&!b)return B(100),r(g);var V;return m=t.size,w=g.size,x=w,M=d,R=!e.alwaysKeepResolution&&y,(V=(function($){for(;$;){if($.then)return void $.then(V,i);try{if($.pop){if($.length)return $.pop()?P.call(this):$;$=U}else $=$.call(this)}catch(W){return i(W)}}}).bind(this))(U)}}catch(U){return i(U)}}).bind(this),i)}catch(_){return i(_)}}).bind(this),i)}catch(I){return i(I)}}).bind(this),i)}catch(k){return i(k)}}).bind(this),i)})}const GV=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let A2;function KV(t,e){return new Promise((n,r)=>{A2||(A2=function(a){const o=[];return o.push(a),URL.createObjectURL(new Blob(o))}(GV));const i=new Worker(A2);i.addEventListener("message",function(a){if(e.signal&&e.signal.aborted)i.terminate();else if(a.data.progress===void 0){if(a.data.error)return r(new Error(a.data.error)),void i.terminate();n(a.data.file),i.terminate()}else e.onProgress(a.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function fr(t,e){return new Promise(function(n,r){let i,s,a,o,l,c;if(i={...e},a=0,{onProgress:o}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=h=>{a=h,typeof o=="function"&&o(a)},!(t instanceof Blob||t instanceof $V))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return T4(t,i).then((function(h){try{return s=h,f.call(this)}catch(g){return r(g)}}).bind(this),r);var u=(function(){try{return f.call(this)}catch(h){return r(h)}}).bind(this),d=function(h){try{return T4(t,i).then(function(g){try{return s=g,u()}catch(y){return r(y)}},r)}catch(g){return r(g)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",KV(t,i).then(function(h){try{return s=h,u()}catch{return d()}},d)}catch{d()}function f(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=MC(t,s))}catch{}return n(s)}})}fr.getDataUrlFromFile=jC,fr.getFilefromDataUrl=cb,fr.loadImage=VC,fr.drawImageInCanvas=HC,fr.drawFileInCanvas=Ag,fr.canvasToFile=Ig,fr.getExifOrientation=qC,fr.handleMaxWidthOrHeight=$C,fr.followExifOrientation=GC,fr.cleanupCanvasMemory=vs,fr.isAutoOrientationInBrowser=Xc,fr.approximateBelowMaximumCanvasSizeOfBrowser=WC,fr.copyExifWithoutOrientation=MC,fr.getBrowserName=yl,fr.version="2.0.2";const KC=async(t,e=.8)=>{const n={maxSizeMB:10,maxWidthOrHeight:4096,useWebWorker:!0,quality:e};try{return await fr(t,n)}catch(r){throw new Error("Compression failed: "+r.message)}},YV=async(t,e=.8)=>new Promise((n,r)=>{const i=new FileReader;i.onload=s=>{const a=new Image;a.onload=()=>{const o=document.createElement("canvas");o.width=a.width,o.height=a.height,o.getContext("2d").drawImage(a,0,0),o.toBlob(c=>{if(c){const u=new File([c],t.name.replace(/\.[^/.]+$/,".webp"),{type:"image/webp"});n(u)}else r(new Error("WebP conversion failed"))},"image/webp",e)},a.onerror=()=>r(new Error("Failed to load image")),a.src=s.target.result},i.onerror=()=>r(new Error("Failed to read file")),i.readAsDataURL(t)}),Pg=t=>{if(t===0)return"0 Bytes";const e=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,r)*100)/100+" "+n[r]},Sf=({file:t,originalFile:e,onDownload:n,onClose:r,title:i="Preview"})=>{const[s,a]=se.useState(""),[o,l]=se.useState("");if(se.useEffect(()=>{if(t){const u=URL.createObjectURL(t);return a(u),()=>URL.revokeObjectURL(u)}},[t]),se.useEffect(()=>{if(e){const u=URL.createObjectURL(e);return l(u),()=>URL.revokeObjectURL(u)}},[e]),!t)return null;const c=e&&o;return React.createElement(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"glass-card p-6 space-y-4"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h3",{className:"text-xl font-bold"},i),r&&React.createElement("button",{onClick:r,className:"p-2 hover:bg-white/50 dark:hover:bg-gray-700/50 rounded-lg transition-all"},React.createElement(Ka,{size:20}))),React.createElement("div",{className:`grid ${c?"grid-cols-1 md:grid-cols-2":"grid-cols-1"} gap-4`},c&&React.createElement("div",{className:"space-y-2"},React.createElement("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Original"),React.createElement("div",{className:"relative rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800"},React.createElement("img",{src:o,alt:"Original",className:"w-full h-auto max-h-96 object-contain"})),React.createElement("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400"},React.createElement("div",{className:"flex items-center space-x-2"},React.createElement(E3,{size:16}),React.createElement("span",null,e.name)),React.createElement("div",{className:"flex items-center space-x-2"},React.createElement(k3,{size:16}),React.createElement("span",null,Pg(e.size))))),React.createElement("div",{className:"space-y-2"},c&&React.createElement("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Processed"),React.createElement("div",{className:"relative rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800"},React.createElement("img",{src:s,alt:"Preview",className:"w-full h-auto max-h-96 object-contain"})),React.createElement("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400"},React.createElement("div",{className:"flex items-center space-x-2"},React.createElement(E3,{size:16}),React.createElement("span",null,t.name)),React.createElement("div",{className:"flex items-center space-x-2"},React.createElement(k3,{size:16}),React.createElement("span",null,Pg(t.size)))))),c&&React.createElement("div",{className:"glass-card p-4 bg-primary-50 dark:bg-primary-900/20"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",{className:"font-medium"},"Size Reduction:"),React.createElement("span",{className:"text-lg font-bold text-primary-600 dark:text-primary-400"},((1-t.size/e.size)*100).toFixed(1),"%"))),n&&React.createElement("button",{onClick:n,className:"glass-button w-full"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(fa,{size:20}),React.createElement("span",null,"Download Image"))))},Yl=({isOpen:t,message:e="Processing..."})=>React.createElement(C0,null,t&&React.createElement(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm"},React.createElement(He.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"glass-card p-8 max-w-sm w-full mx-4"},React.createElement("div",{className:"flex flex-col items-center space-y-4"},React.createElement(fU,{size:48,className:"text-primary-600 dark:text-primary-400 animate-spin"}),React.createElement("h3",{className:"text-xl font-semibold"},e),React.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-center"},"Please wait while we process your image..."))))),zo=()=>React.createElement("div",{className:"min-h-screen flex items-center justify-center px-4"},React.createElement(He.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full"},React.createElement("div",{className:"glass-card p-8 text-center"},React.createElement("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-6"},React.createElement(yg,{size:40,className:"text-red-500"})),React.createElement("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4"},"Login Required"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400 mb-8"},"You need to login to use this tool. Please sign up or login to continue."),React.createElement("div",{className:"space-y-3"},React.createElement(gn,{to:"/login",className:"w-full bg-gradient-to-r from-primary-500 to-purple-500 text-white py-3 rounded-lg font-semibold hover:shadow-xl transition-all flex items-center justify-center gap-2"},React.createElement(Mw,{size:20}),"Login to Continue"),React.createElement(gn,{to:"/signup",className:"w-full glass-button py-3 flex items-center justify-center gap-2"},React.createElement(hN,{size:20}),"Create New Account")),React.createElement("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800"},React.createElement("p",{className:"text-sm text-blue-800 dark:text-blue-300"}," Sign up for free and get 5 operations per day!"))))),jo=({isOpen:t,onClose:e,feature:n,remaining:r})=>React.createElement(C0,null,t&&React.createElement(React.Fragment,null,React.createElement(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),React.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none"},React.createElement(He.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"w-full max-w-sm pointer-events-auto"},React.createElement("div",{className:"glass-card p-5 relative max-h-[90vh] overflow-y-auto"},React.createElement("button",{onClick:e,className:"absolute top-3 right-3 p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-all"},React.createElement(Ka,{size:18})),React.createElement("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4"},React.createElement(El,{size:24,className:"text-white"})),React.createElement("h2",{className:"text-xl font-bold text-center gradient-text mb-3"},r===0?"Limit Reached!":"Almost There!"),React.createElement("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400 mb-4"},r===0?React.createElement(React.Fragment,null,"You've used all your ",React.createElement("strong",null,n)," operations for today. Upgrade to Premium for unlimited access!"):React.createElement(React.Fragment,null,"You have ",React.createElement("strong",null,r)," ",n," operations left today. Upgrade to Premium for 100x more!")),React.createElement("div",{className:"bg-gradient-to-r from-primary-50 to-purple-50 dark:from-primary-900/20 dark:to-purple-900/20 rounded-lg p-3 mb-4"},React.createElement("h3",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100 mb-2 flex items-center gap-2"},React.createElement(Bw,{size:16,className:"text-primary-500"}),"Premium Benefits:"),React.createElement("ul",{className:"space-y-1.5 text-xs text-gray-700 dark:text-gray-300"},React.createElement("li",{className:"flex items-center gap-2"},React.createElement("div",{className:"w-1 h-1 bg-primary-500 rounded-full"}),"100x more operations per day"),React.createElement("li",{className:"flex items-center gap-2"},React.createElement("div",{className:"w-1 h-1 bg-primary-500 rounded-full"}),"Access to AI tools"),React.createElement("li",{className:"flex items-center gap-2"},React.createElement("div",{className:"w-1 h-1 bg-primary-500 rounded-full"}),"Batch processing"),React.createElement("li",{className:"flex items-center gap-2"},React.createElement("div",{className:"w-1 h-1 bg-primary-500 rounded-full"}),"50MB file size limit"),React.createElement("li",{className:"flex items-center gap-2"},React.createElement("div",{className:"w-1 h-1 bg-primary-500 rounded-full"}),"Priority support"))),React.createElement("div",{className:"text-center mb-4"},React.createElement("div",{className:"flex items-baseline justify-center gap-2"},React.createElement("span",{className:"text-3xl font-bold gradient-text"},"100% FREE")),React.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1"},"Just login to activate!")),React.createElement("div",{className:"space-y-2"},React.createElement(gn,{to:"/pricing",className:"w-full bg-gradient-to-r from-primary-500 to-purple-500 text-white py-2.5 rounded-lg font-semibold hover:shadow-xl transition-all flex items-center justify-center gap-2 text-sm"},React.createElement(El,{size:18}),"Activate Premium (Free)",React.createElement(oN,{size:16})),React.createElement("button",{onClick:e,className:"w-full glass-button py-2.5 text-sm"},"Maybe Later")),React.createElement("p",{className:"text-center text-xs text-gray-500 dark:text-gray-400 mt-3"}," 100% Free  No Payment Required")))))),XV="modulepreload",QV=function(t){return"/imagetoolspro/"+t},L4={},Tg=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=QV(l),l in L4)return;L4[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":XV,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Ot(t){"@babel/helpers - typeof";return Ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(t)}var gr=Uint8Array,ti=Uint16Array,ub=Int32Array,P0=new gr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),T0=new gr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Cv=new gr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YC=function(t,e){for(var n=new ti(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new ub(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},XC=YC(P0,2),QC=XC.b,Av=XC.r;QC[28]=258,Av[258]=28;var JC=YC(T0,0),JV=JC.b,O4=JC.r,Iv=new ti(32768);for(var Xt=0;Xt<32768;++Xt){var Fa=(Xt&43690)>>1|(Xt&21845)<<1;Fa=(Fa&52428)>>2|(Fa&13107)<<2,Fa=(Fa&61680)>>4|(Fa&3855)<<4,Iv[Xt]=((Fa&65280)>>8|(Fa&255)<<8)>>1}var Rs=function(t,e,n){for(var r=t.length,i=0,s=new ti(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new ti(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new ti(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],d=a[t[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)o[Iv[d]>>l]=c}else for(o=new ti(r),i=0;i<r;++i)t[i]&&(o[i]=Iv[a[t[i]-1]++]>>15-t[i]);return o},Ao=new gr(288);for(var Xt=0;Xt<144;++Xt)Ao[Xt]=8;for(var Xt=144;Xt<256;++Xt)Ao[Xt]=9;for(var Xt=256;Xt<280;++Xt)Ao[Xt]=7;for(var Xt=280;Xt<288;++Xt)Ao[Xt]=8;var ef=new gr(32);for(var Xt=0;Xt<32;++Xt)ef[Xt]=5;var ZV=Rs(Ao,9,0),eW=Rs(Ao,9,1),tW=Rs(ef,5,0),nW=Rs(ef,5,1),I2=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},zi=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},P2=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},db=function(t){return(t+7)/8|0},ZC=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new gr(t.subarray(e,n))},rW=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Hi=function(t,e,n){var r=new Error(e||rW[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Hi),!n)throw r;return r},iW=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new gr(0);var a=!n,o=a||e.i!=2,l=e.i;a&&(n=new gr(i*3));var c=function(Se){var Le=n.length;if(Se>Le){var Me=new gr(Math.max(Le*2,Se));Me.set(n),n=Me}},u=e.f||0,d=e.p||0,f=e.b||0,h=e.l,g=e.d,y=e.m,b=e.n,m=i*8;do{if(!h){u=zi(t,d,1);var w=zi(t,d+1,3);if(d+=3,w)if(w==1)h=eW,g=nW,y=9,b=5;else if(w==2){var D=zi(t,d,31)+257,M=zi(t,d+10,15)+4,R=D+zi(t,d+5,31)+1;d+=14;for(var A=new gr(R),B=new gr(19),L=0;L<M;++L)B[Cv[L]]=zi(t,d+L*3,7);d+=M*3;for(var k=I2(B),I=(1<<k)-1,_=Rs(B,k,1),L=0;L<R;){var V=_[zi(t,d,I)];d+=V&15;var x=V>>4;if(x<16)A[L++]=x;else{var U=0,P=0;for(x==16?(P=3+zi(t,d,3),d+=2,U=A[L-1]):x==17?(P=3+zi(t,d,7),d+=3):x==18&&(P=11+zi(t,d,127),d+=7);P--;)A[L++]=U}}var $=A.subarray(0,D),W=A.subarray(D);y=I2($),b=I2(W),h=Rs($,y,1),g=Rs(W,b,1)}else Hi(1);else{var x=db(d)+4,N=t[x-4]|t[x-3]<<8,O=x+N;if(O>i){l&&Hi(0);break}o&&c(f+N),n.set(t.subarray(x,O),f),e.b=f+=N,e.p=d=O*8,e.f=u;continue}if(d>m){l&&Hi(0);break}}o&&c(f+131072);for(var te=(1<<y)-1,ne=(1<<b)-1,C=d;;C=d){var U=h[P2(t,d)&te],K=U>>4;if(d+=U&15,d>m){l&&Hi(0);break}if(U||Hi(2),K<256)n[f++]=K;else if(K==256){C=d,h=null;break}else{var q=K-254;if(K>264){var L=K-257,H=P0[L];q=zi(t,d,(1<<H)-1)+QC[L],d+=H}var oe=g[P2(t,d)&ne],pe=oe>>4;oe||Hi(3),d+=oe&15;var W=JV[pe];if(pe>3){var H=T0[pe];W+=P2(t,d)&(1<<H)-1,d+=H}if(d>m){l&&Hi(0);break}o&&c(f+131072);var ue=f+q;if(f<W){var de=s-W,Re=Math.min(W,ue);for(de+f<0&&Hi(3);f<Re;++f)n[f]=r[de+f]}for(;f<ue;++f)n[f]=n[f-W]}}e.l=h,e.p=C,e.b=f,e.f=u,h&&(u=1,e.m=y,e.d=g,e.n=b)}while(!u);return f!=n.length&&a?ZC(n,0,f):n.subarray(0,f)},Ws=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Vd=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},T2=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:tA,l:0};if(i==1){var a=new gr(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(O,D){return O.f-D.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var f=s[0].s,r=1;r<i;++r)s[r].s>f&&(f=s[r].s);var h=new ti(f+1),g=Pv(n[u-1],h,0);if(g>e){var r=0,y=0,b=g-e,m=1<<b;for(s.sort(function(D,M){return h[M.s]-h[D.s]||D.f-M.f});r<i;++r){var w=s[r].s;if(h[w]>e)y+=m-(1<<g-h[w]),h[w]=e;else break}for(y>>=b;y>0;){var x=s[r].s;h[x]<e?y-=1<<e-h[x]++-1:++r}for(;r>=0&&y;--r){var N=s[r].s;h[N]==e&&(--h[N],++y)}g=e}return{t:new gr(h),l:g}},Pv=function(t,e,n){return t.s==-1?Math.max(Pv(t.l,e,n+1),Pv(t.r,e,n+1)):e[t.s]=n},D4=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ti(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},Wd=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},eA=function(t,e,n){var r=n.length,i=db(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},F4=function(t,e,n,r,i,s,a,o,l,c,u){Ws(e,u++,n),++i[256];for(var d=T2(i,15),f=d.t,h=d.l,g=T2(s,15),y=g.t,b=g.l,m=D4(f),w=m.c,x=m.n,N=D4(y),O=N.c,D=N.n,M=new ti(19),R=0;R<w.length;++R)++M[w[R]&31];for(var R=0;R<O.length;++R)++M[O[R]&31];for(var A=T2(M,7),B=A.t,L=A.l,k=19;k>4&&!B[Cv[k-1]];--k);var I=c+5<<3,_=Wd(i,Ao)+Wd(s,ef)+a,V=Wd(i,f)+Wd(s,y)+a+14+3*k+Wd(M,B)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&I<=_&&I<=V)return eA(e,u,t.subarray(l,l+c));var U,P,$,W;if(Ws(e,u,1+(V<_)),u+=2,V<_){U=Rs(f,h,0),P=f,$=Rs(y,b,0),W=y;var te=Rs(B,L,0);Ws(e,u,x-257),Ws(e,u+5,D-1),Ws(e,u+10,k-4),u+=14;for(var R=0;R<k;++R)Ws(e,u+3*R,B[Cv[R]]);u+=3*k;for(var ne=[w,O],C=0;C<2;++C)for(var K=ne[C],R=0;R<K.length;++R){var q=K[R]&31;Ws(e,u,te[q]),u+=B[q],q>15&&(Ws(e,u,K[R]>>5&127),u+=K[R]>>12)}}else U=ZV,P=Ao,$=tW,W=ef;for(var R=0;R<o;++R){var H=r[R];if(H>255){var q=H>>18&31;Vd(e,u,U[q+257]),u+=P[q+257],q>7&&(Ws(e,u,H>>23&31),u+=P0[q]);var oe=H&31;Vd(e,u,$[oe]),u+=W[oe],oe>3&&(Vd(e,u,H>>5&8191),u+=T0[oe])}else Vd(e,u,U[H]),u+=P[H]}return Vd(e,u,U[256]),u+P[256]},sW=new ub([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tA=new gr(0),aW=function(t,e,n,r,i,s){var a=s.z||t.length,o=new gr(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var d=sW[e-1],f=d>>13,h=d&8191,g=(1<<n)-1,y=s.p||new ti(32768),b=s.h||new ti(g+1),m=Math.ceil(n/3),w=2*m,x=function(F){return(t[F]^t[F+1]<<m^t[F+2]<<w)&g},N=new ub(25e3),O=new ti(288),D=new ti(32),M=0,R=0,A=s.i||0,B=0,L=s.w||0,k=0;A+2<a;++A){var I=x(A),_=A&32767,V=b[I];if(y[_]=V,b[I]=_,L<=A){var U=a-A;if((M>7e3||B>24576)&&(U>423||!c)){u=F4(t,l,0,N,O,D,R,B,k,A-k,u),B=M=R=0,k=A;for(var P=0;P<286;++P)O[P]=0;for(var P=0;P<30;++P)D[P]=0}var $=2,W=0,te=h,ne=_-V&32767;if(U>2&&I==x(A-ne))for(var C=Math.min(f,U)-1,K=Math.min(32767,A),q=Math.min(258,U);ne<=K&&--te&&_!=V;){if(t[A+$]==t[A+$-ne]){for(var H=0;H<q&&t[A+H]==t[A+H-ne];++H);if(H>$){if($=H,W=ne,H>C)break;for(var oe=Math.min(ne,H-2),pe=0,P=0;P<oe;++P){var ue=A-ne+P&32767,de=y[ue],Re=ue-de&32767;Re>pe&&(pe=Re,V=ue)}}}_=V,V=y[_],ne+=_-V&32767}if(W){N[B++]=268435456|Av[$]<<18|O4[W];var Se=Av[$]&31,Le=O4[W]&31;R+=P0[Se]+T0[Le],++O[257+Se],++D[Le],L=A+$,++M}else N[B++]=t[A],++O[t[A]]}}for(A=Math.max(A,L);A<a;++A)N[B++]=t[A],++O[t[A]];u=F4(t,l,c,N,O,D,R,B,k,A-k,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=b,s.p=y,s.i=A,s.w=L)}else{for(var A=s.w||0;A<a+c;A+=65535){var Me=A+65535;Me>=a&&(l[u/8|0]=c,Me=a),u=eA(l,u+1,t.subarray(A,Me))}s.i=a}return ZC(o,0,r+db(u)+i)},nA=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},oW=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new gr(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return aW(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},rA=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},lW=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=nA();i.p(e.dictionary),rA(t,2,i.d())}},cW=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Hi(6,"invalid zlib data"),(t[1]>>5&1)==1&&Hi(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Tv(t,e){e||(e={});var n=nA();n.p(t);var r=oW(t,e,e.dictionary?6:2,4);return lW(r,e),rA(r,r.length-4,n.d()),r}function uW(t,e){return iW(t.subarray(cW(t),-4),{i:2},e,e)}var dW=typeof TextDecoder<"u"&&new TextDecoder,hW=0;try{dW.decode(tA,{stream:!0}),hW=1}catch{}var at=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function L2(){at.console&&typeof at.console.log=="function"&&at.console.log.apply(at.console,arguments)}var jt={log:L2,warn:function(t){at.console&&(typeof at.console.warn=="function"?at.console.warn.apply(at.console,arguments):L2.call(null,arguments))},error:function(t){at.console&&(typeof at.console.error=="function"?at.console.error.apply(at.console,arguments):L2(t))}};function O2(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){ll(r.response,e,n)},r.onerror=function(){jt.error("could not download file")},r.send()}function M4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function zp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wh,Lv,ll=at.saveAs||((typeof window>"u"?"undefined":Ot(window))!=="object"||window!==at?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=at.URL||at.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?M4(i.href)?O2(t,e,n):zp(i,i.target="_blank"):zp(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){zp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(M4(t))O2(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){zp(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Ot(s)!=="object"&&(jt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return O2(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(at.HTMLElement)||at.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Ot(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(t)}else{var l=at.URL||at.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function iA(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function D2(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=cr(n,r,i,s,e[0],7,-680876936),s=cr(s,n,r,i,e[1],12,-389564586),i=cr(i,s,n,r,e[2],17,606105819),r=cr(r,i,s,n,e[3],22,-1044525330),n=cr(n,r,i,s,e[4],7,-176418897),s=cr(s,n,r,i,e[5],12,1200080426),i=cr(i,s,n,r,e[6],17,-1473231341),r=cr(r,i,s,n,e[7],22,-45705983),n=cr(n,r,i,s,e[8],7,1770035416),s=cr(s,n,r,i,e[9],12,-1958414417),i=cr(i,s,n,r,e[10],17,-42063),r=cr(r,i,s,n,e[11],22,-1990404162),n=cr(n,r,i,s,e[12],7,1804603682),s=cr(s,n,r,i,e[13],12,-40341101),i=cr(i,s,n,r,e[14],17,-1502002290),n=ur(n,r=cr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ur(s,n,r,i,e[6],9,-1069501632),i=ur(i,s,n,r,e[11],14,643717713),r=ur(r,i,s,n,e[0],20,-373897302),n=ur(n,r,i,s,e[5],5,-701558691),s=ur(s,n,r,i,e[10],9,38016083),i=ur(i,s,n,r,e[15],14,-660478335),r=ur(r,i,s,n,e[4],20,-405537848),n=ur(n,r,i,s,e[9],5,568446438),s=ur(s,n,r,i,e[14],9,-1019803690),i=ur(i,s,n,r,e[3],14,-187363961),r=ur(r,i,s,n,e[8],20,1163531501),n=ur(n,r,i,s,e[13],5,-1444681467),s=ur(s,n,r,i,e[2],9,-51403784),i=ur(i,s,n,r,e[7],14,1735328473),n=dr(n,r=ur(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=dr(s,n,r,i,e[8],11,-2022574463),i=dr(i,s,n,r,e[11],16,1839030562),r=dr(r,i,s,n,e[14],23,-35309556),n=dr(n,r,i,s,e[1],4,-1530992060),s=dr(s,n,r,i,e[4],11,1272893353),i=dr(i,s,n,r,e[7],16,-155497632),r=dr(r,i,s,n,e[10],23,-1094730640),n=dr(n,r,i,s,e[13],4,681279174),s=dr(s,n,r,i,e[0],11,-358537222),i=dr(i,s,n,r,e[3],16,-722521979),r=dr(r,i,s,n,e[6],23,76029189),n=dr(n,r,i,s,e[9],4,-640364487),s=dr(s,n,r,i,e[12],11,-421815835),i=dr(i,s,n,r,e[15],16,530742520),n=hr(n,r=dr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=hr(s,n,r,i,e[7],10,1126891415),i=hr(i,s,n,r,e[14],15,-1416354905),r=hr(r,i,s,n,e[5],21,-57434055),n=hr(n,r,i,s,e[12],6,1700485571),s=hr(s,n,r,i,e[3],10,-1894986606),i=hr(i,s,n,r,e[10],15,-1051523),r=hr(r,i,s,n,e[1],21,-2054922799),n=hr(n,r,i,s,e[8],6,1873313359),s=hr(s,n,r,i,e[15],10,-30611744),i=hr(i,s,n,r,e[6],15,-1560198380),r=hr(r,i,s,n,e[13],21,1309151649),n=hr(n,r,i,s,e[4],6,-145523070),s=hr(s,n,r,i,e[11],10,-1120210379),i=hr(i,s,n,r,e[2],15,718787259),r=hr(r,i,s,n,e[9],21,-343485551),t[0]=Za(n,t[0]),t[1]=Za(r,t[1]),t[2]=Za(i,t[2]),t[3]=Za(s,t[3])}function L0(t,e,n,r,i,s){return e=Za(Za(e,t),Za(r,s)),Za(e<<i|e>>>32-i,n)}function cr(t,e,n,r,i,s,a){return L0(e&n|~e&r,t,e,i,s,a)}function ur(t,e,n,r,i,s,a){return L0(e&r|n&~r,t,e,i,s,a)}function dr(t,e,n,r,i,s,a){return L0(e^n^r,t,e,i,s,a)}function hr(t,e,n,r,i,s,a){return L0(n^(e|~r),t,e,i,s,a)}function sA(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)D2(r,fW(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(D2(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,D2(r,i),r}function fW(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}wh=at.atob.bind(at),Lv=at.btoa.bind(at);var U4="0123456789abcdef".split("");function pW(t){for(var e="",n=0;n<4;n++)e+=U4[t>>8*n+4&15]+U4[t>>8*n&15];return e}function mW(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Ov(t){return sA(t).map(mW).join("")}var gW=function(t){for(var e=0;e<t.length;e++)t[e]=pW(t[e]);return t.join("")}(sA("hello"))!="5d41402abc4b2a76b9719d911017c592";function Za(t,e){if(gW){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Dv(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=t,r=o}else o=r;var d=e.length,f=0,h=0,g="";for(l=0;l<d;l++)h=(h+(u=o[f=(f+1)%256]))%256,o[f]=o[h],o[h]=u,a=o[(o[f]+o[h])%256],g+=String.fromCharCode(e.charCodeAt(l)^a);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var B4={print:4,modify:8,copy:16,"annot-forms":32};function Pc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(B4.perm!==void 0)throw new Error("Invalid permission: "+o);i+=B4[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Ov(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Dv(this.encryptionKey,this.padding)}function Tc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function z4(t){if(Ot(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){at.console&&jt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Lg(t){if(!(this instanceof Lg))return new Lg(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function aA(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function cl(t,e,n,r,i){if(!(this instanceof cl))return new cl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,aA.call(this,r,i)}function Qc(t,e,n,r,i){if(!(this instanceof Qc))return new Qc(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,aA.call(this,r,i)}function it(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;Ot(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=z4;var g="1.3",y=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(E){g=E};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return b};var m=h.__private__.getPageFormat=function(E){return b[E]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},x=w.COMPAT;function N(){this.saveGraphicsState(),G(new rt(Ue,0,0,-Ue,0,xa()*Ue).toString()+" cm"),this.setFontSize(this.getFontSize()/Ue),c="n",x=w.ADVANCED}function O(){this.restoreGraphicsState(),c="S",x=w.COMPAT}var D=h.__private__.combineFontStyleAndFontWeight=function(E,j){if(E=="bold"&&j=="normal"||E=="bold"&&j==400||E=="normal"&&j=="italic"||E=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(E=j==400||j==="normal"?E==="italic"?"italic":"normal":j!=700&&j!=="bold"||E!=="normal"?(j==700?"bold":j)+""+E:"bold"),E};h.advancedAPI=function(E){var j=x===w.COMPAT;return j&&N.call(this),typeof E!="function"||(E(this),j&&O.call(this)),this},h.compatAPI=function(E){var j=x===w.ADVANCED;return j&&O.call(this),typeof E!="function"||(E(this),j&&N.call(this)),this},h.isAdvancedAPI=function(){return x===w.ADVANCED};var M,R=function(E){if(x!==w.ADVANCED)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=h.roundToPrecision=h.__private__.roundToPrecision=function(E,j){var le=e||j;if(isNaN(E)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(le).replace(/0+$/,"")};M=h.hpf=h.__private__.hpf=typeof l=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return A(E,l)}:l==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return A(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return A(E,16)};var B=h.f2=h.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return A(E,2)},L=h.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return A(E,3)},k=h.scale=h.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return x===w.COMPAT?E*Ue:x===w.ADVANCED?E:void 0},I=function(E){return x===w.COMPAT?xa()-E:x===w.ADVANCED?E:void 0},_=function(E){return k(I(E))};h.__private__.setPrecision=h.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var V,U="00000000000000000000000000000000",P=h.__private__.getFileId=function(){return U},$=h.__private__.setFileId=function(E){return U=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(sr=new Pc(u.userPermissions,u.userPassword,u.ownerPassword,U)),U};h.setFileId=function(E){return $(E),this},h.getFileId=function(){return P()};var W=h.__private__.convertDateToPDFDate=function(E){var j=E.getTimezoneOffset(),le=j<0?"+":"-",he=Math.floor(Math.abs(j/60)),be=Math.abs(j%60),Ae=[le,q(he),"'",q(be),"'"].join("");return["D:",E.getFullYear(),q(E.getMonth()+1),q(E.getDate()),q(E.getHours()),q(E.getMinutes()),q(E.getSeconds()),Ae].join("")},te=h.__private__.convertPDFDateToDate=function(E){var j=parseInt(E.substr(2,4),10),le=parseInt(E.substr(6,2),10)-1,he=parseInt(E.substr(8,2),10),be=parseInt(E.substr(10,2),10),Ae=parseInt(E.substr(12,2),10),De=parseInt(E.substr(14,2),10);return new Date(j,le,he,be,Ae,De,0)},ne=h.__private__.setCreationDate=function(E){var j;if(E===void 0&&(E=new Date),E instanceof Date)j=W(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=E}return V=j},C=h.__private__.getCreationDate=function(E){var j=V;return E==="jsDate"&&(j=te(V)),j};h.setCreationDate=function(E){return ne(E),this},h.getCreationDate=function(E){return C(E)};var K,q=h.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},H=h.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},oe=0,pe=[],ue=[],de=0,Re=[],Se=[],Le=!1,Me=ue,F=function(){oe=0,de=0,ue=[],pe=[],Re=[],Ls=Sn(),Pi=Sn()};h.__private__.setCustomOutputDestination=function(E){Le=!0,Me=E};var ae=function(E){Le||(Me=E)};h.__private__.resetCustomOutputDestination=function(){Le=!1,Me=ue};var G=h.__private__.out=function(E){return E=E.toString(),de+=E.length+1,Me.push(E),Me},ee=h.__private__.write=function(E){return G(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},Q=h.__private__.getArrayBuffer=function(E){for(var j=E.length,le=new ArrayBuffer(j),he=new Uint8Array(le);j--;)he[j]=E.charCodeAt(j);return le},re=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return re};var ge=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(E){return ge=x===w.ADVANCED?E/Ue:E,this};var ye,ce=h.__private__.getFontSize=h.getFontSize=function(){return x===w.COMPAT?ge:ge*Ue},xe=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(E){return xe=E,this},h.__private__.getR2L=h.getR2L=function(){return xe};var Ne,ke=h.__private__.setZoomMode=function(E){var j=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))ye=E;else if(isNaN(E)){if(j.indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');ye=E}else ye=parseInt(E,10)};h.__private__.getZoomMode=function(){return ye};var Fe,Ye=h.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');Ne=E};h.__private__.getPageMode=function(){return Ne};var je=h.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');Fe=E};h.__private__.getLayoutMode=function(){return Fe},h.__private__.setDisplayMode=h.setDisplayMode=function(E,j,le){return ke(E),je(j),Ye(le),this};var Ge={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(E){if(Object.keys(Ge).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ge[E]},h.__private__.getDocumentProperties=function(){return Ge},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(E){for(var j in Ge)Ge.hasOwnProperty(j)&&E[j]&&(Ge[j]=E[j]);return this},h.__private__.setDocumentProperty=function(E,j){if(Object.keys(Ge).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ge[E]=j};var Je,Ue,kt,Xe,Bt,mt={},gt={},vr=[],xt={},li={},Pt={},ir={},Jt=null,_t=0,tt=[],Et=new z4(h),ss=t.hotfixes||[],Kt={},zn={},as=[],rt=function E(j,le,he,be,Ae,De){if(!(this instanceof E))return new E(j,le,he,be,Ae,De);isNaN(j)&&(j=1),isNaN(le)&&(le=0),isNaN(he)&&(he=0),isNaN(be)&&(be=1),isNaN(Ae)&&(Ae=0),isNaN(De)&&(De=0),this._matrix=[j,le,he,be,Ae,De]};Object.defineProperty(rt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(rt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(rt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(rt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(rt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(rt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(rt.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(rt.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(rt.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(rt.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(rt.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(rt.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(rt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(rt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(rt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(rt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),rt.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(E)},rt.prototype.multiply=function(E){var j=E.sx*this.sx+E.shy*this.shx,le=E.sx*this.shy+E.shy*this.sy,he=E.shx*this.sx+E.sy*this.shx,be=E.shx*this.shy+E.sy*this.sy,Ae=E.tx*this.sx+E.ty*this.shx+this.tx,De=E.tx*this.shy+E.ty*this.sy+this.ty;return new rt(j,le,he,be,Ae,De)},rt.prototype.decompose=function(){var E=this.sx,j=this.shy,le=this.shx,he=this.sy,be=this.tx,Ae=this.ty,De=Math.sqrt(E*E+j*j),qe=(E/=De)*le+(j/=De)*he;le-=E*qe,he-=j*qe;var Ze=Math.sqrt(le*le+he*he);return qe/=Ze,E*(he/=Ze)<j*(le/=Ze)&&(E=-E,j=-j,qe=-qe,De=-De),{scale:new rt(De,0,0,Ze,0,0),translate:new rt(1,0,0,1,be,Ae),rotate:new rt(E,j,-j,E,0,0),skew:new rt(1,0,qe,1,0,0)}},rt.prototype.toString=function(E){return this.join(" ")},rt.prototype.inversed=function(){var E=this.sx,j=this.shy,le=this.shx,he=this.sy,be=this.tx,Ae=this.ty,De=1/(E*he-j*le),qe=he*De,Ze=-j*De,ft=-le*De,dt=E*De;return new rt(qe,Ze,ft,dt,-qe*be-ft*Ae,-Ze*be-dt*Ae)},rt.prototype.applyToPoint=function(E){var j=E.x*this.sx+E.y*this.shx+this.tx,le=E.x*this.shy+E.y*this.sy+this.ty;return new dc(j,le)},rt.prototype.applyToRectangle=function(E){var j=this.applyToPoint(E),le=this.applyToPoint(new dc(E.x+E.w,E.y+E.h));return new od(j.x,j.y,le.x-j.x,le.y-j.y)},rt.prototype.clone=function(){var E=this.sx,j=this.shy,le=this.shx,he=this.sy,be=this.tx,Ae=this.ty;return new rt(E,j,le,he,be,Ae)},h.Matrix=rt;var Ii=h.matrixMult=function(E,j){return j.multiply(E)},os=new rt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=os;var Pr=function(E,j){if(!li[E]){var le=(j instanceof cl?"Sh":"P")+(Object.keys(xt).length+1).toString(10);j.id=le,li[E]=le,xt[le]=j,Et.publish("addPattern",j)}};h.ShadingPattern=cl,h.TilingPattern=Qc,h.addShadingPattern=function(E,j){return R("addShadingPattern()"),Pr(E,j),this},h.beginTilingPattern=function(E){R("beginTilingPattern()"),Wf(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},h.endTilingPattern=function(E,j){R("endTilingPattern()"),j.stream=Se[K].join(`
`),Pr(E,j),Et.publish("endTilingPattern",j),as.pop().restore()};var Ln=h.__private__.newObject=function(){var E=Sn();return Gr(E,!0),E},Sn=h.__private__.newObjectDeferred=function(){return oe++,pe[oe]=function(){return de},oe},Gr=function(E,j){return j=typeof j=="boolean"&&j,pe[E]=de,j&&G(E+" 0 obj"),E},Jl=h.__private__.newAdditionalObject=function(){var E={objId:Sn(),content:""};return Re.push(E),E},Ls=Sn(),Pi=Sn(),Ti=h.__private__.decodeColorString=function(E){var j=E.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length===5&&(j[4]==="k"||j[4]==="K")&&(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var le=parseFloat(j[0]);j=[le,le,le,"r"]}for(var he="#",be=0;be<3;be++)he+=("0"+Math.floor(255*parseFloat(j[be])).toString(16)).slice(-2);return he},Li=h.__private__.encodeColorString=function(E){var j;typeof E=="string"&&(E={ch1:E});var le=E.ch1,he=E.ch2,be=E.ch3,Ae=E.ch4,De=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var qe=new iA(le);if(qe.ok)le=qe.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var Ze=parseInt(le.substr(1),16);le=Ze>>16&255,he=Ze>>8&255,be=255&Ze}if(he===void 0||Ae===void 0&&le===he&&he===be)if(typeof le=="string")j=le+" "+De[0];else switch(E.precision){case 2:j=B(le/255)+" "+De[0];break;case 3:default:j=L(le/255)+" "+De[0]}else if(Ae===void 0||Ot(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return j=["1.","1.","1.",De[1]].join(" ");if(typeof le=="string")j=[le,he,be,De[1]].join(" ");else switch(E.precision){case 2:j=[B(le/255),B(he/255),B(be/255),De[1]].join(" ");break;default:case 3:j=[L(le/255),L(he/255),L(be/255),De[1]].join(" ")}}else if(typeof le=="string")j=[le,he,be,Ae,De[2]].join(" ");else switch(E.precision){case 2:j=[B(le),B(he),B(be),B(Ae),De[2]].join(" ");break;case 3:default:j=[L(le),L(he),L(be),L(Ae),De[2]].join(" ")}return j},ls=h.__private__.getFilters=function(){return a},ci=h.__private__.putStream=function(E){var j=(E=E||{}).data||"",le=E.filters||ls(),he=E.alreadyAppliedFilters||[],be=E.addLength1||!1,Ae=j.length,De=E.objectId,qe=function(ar){return ar};if(u!==null&&De===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(qe=sr.encryptor(De,0));var Ze={};le===!0&&(le=["FlateEncode"]);var ft=E.additionalKeyValues||[],dt=(Ze=it.API.processDataByFilters!==void 0?it.API.processDataByFilters(j,le):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(Ze.data.length!==0&&(ft.push({key:"Length",value:Ze.data.length}),be===!0&&ft.push({key:"Length1",value:Ae})),dt.length!=0)if(dt.split("/").length-1==1)ft.push({key:"Filter",value:dt});else{ft.push({key:"Filter",value:"["+dt+"]"});for(var Rt=0;Rt<ft.length;Rt+=1)if(ft[Rt].key==="DecodeParms"){for(var en=[],an=0;an<Ze.reverseChain.split("/").length-1;an+=1)en.push("null");en.push(ft[Rt].value),ft[Rt].value="["+en.join(" ")+"]"}}G("<<");for(var kn=0;kn<ft.length;kn++)G("/"+ft[kn].key+" "+ft[kn].value);G(">>"),Ze.data.length!==0&&(G("stream"),G(qe(Ze.data)),G("endstream"))},cs=h.__private__.putPage=function(E){var j=E.number,le=E.data,he=E.objId,be=E.contentsObjId;Gr(he,!0),G("<</Type /Page"),G("/Parent "+E.rootDictionaryObjId+" 0 R"),G("/Resources "+E.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(M(E.mediaBox.bottomLeftX))+" "+parseFloat(M(E.mediaBox.bottomLeftY))+" "+M(E.mediaBox.topRightX)+" "+M(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&G("/CropBox ["+M(E.cropBox.bottomLeftX)+" "+M(E.cropBox.bottomLeftY)+" "+M(E.cropBox.topRightX)+" "+M(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&G("/BleedBox ["+M(E.bleedBox.bottomLeftX)+" "+M(E.bleedBox.bottomLeftY)+" "+M(E.bleedBox.topRightX)+" "+M(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&G("/TrimBox ["+M(E.trimBox.bottomLeftX)+" "+M(E.trimBox.bottomLeftY)+" "+M(E.trimBox.topRightX)+" "+M(E.trimBox.topRightY)+"]"),E.artBox!==null&&G("/ArtBox ["+M(E.artBox.bottomLeftX)+" "+M(E.artBox.bottomLeftY)+" "+M(E.artBox.topRightX)+" "+M(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&G("/UserUnit "+E.userUnit),Et.publish("putPage",{objId:he,pageContext:tt[j],pageNumber:j,page:le}),G("/Contents "+be+" 0 R"),G(">>"),G("endobj");var Ae=le.join(`
`);return x===w.ADVANCED&&(Ae+=`
Q`),Gr(be,!0),ci({data:Ae,filters:ls(),objectId:be}),G("endobj"),he},Wo=h.__private__.putPages=function(){var E,j,le=[];for(E=1;E<=_t;E++)tt[E].objId=Sn(),tt[E].contentsObjId=Sn();for(E=1;E<=_t;E++)le.push(cs({number:E,data:Se[E],objId:tt[E].objId,contentsObjId:tt[E].contentsObjId,mediaBox:tt[E].mediaBox,cropBox:tt[E].cropBox,bleedBox:tt[E].bleedBox,trimBox:tt[E].trimBox,artBox:tt[E].artBox,userUnit:tt[E].userUnit,rootDictionaryObjId:Ls,resourceDictionaryObjId:Pi}));Gr(Ls,!0),G("<</Type /Pages");var he="/Kids [";for(j=0;j<_t;j++)he+=le[j]+" 0 R ";G(he+"]"),G("/Count "+_t),G(">>"),G("endobj"),Et.publish("postPutPages")},Zl=function(E){Et.publish("putFont",{font:E,out:G,newObject:Ln,putStream:ci}),E.isAlreadyPutted!==!0&&(E.objectNumber=Ln(),G("<<"),G("/Type /Font"),G("/BaseFont /"+Tc(E.postScriptName)),G("/Subtype /Type1"),typeof E.encoding=="string"&&G("/Encoding /"+E.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},ec=function(){for(var E in mt)mt.hasOwnProperty(E)&&(d===!1||d===!0&&f.hasOwnProperty(E))&&Zl(mt[E])},tc=function(E){E.objectNumber=Ln();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[M(E.x),M(E.y),M(E.x+E.width),M(E.y+E.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var le=E.pages[1].join(`
`);ci({data:le,additionalKeyValues:j,objectId:E.objectNumber}),G("endobj")},nc=function(){for(var E in Kt)Kt.hasOwnProperty(E)&&tc(Kt[E])},kf=function(E,j){var le,he=[],be=1/(j-1);for(le=0;le<1;le+=be)he.push(le);if(he.push(1),E[0].offset!=0){var Ae={offset:0,color:E[0].color};E.unshift(Ae)}if(E[E.length-1].offset!=1){var De={offset:1,color:E[E.length-1].color};E.push(De)}for(var qe="",Ze=0,ft=0;ft<he.length;ft++){for(le=he[ft];le>E[Ze+1].offset;)Ze++;var dt=E[Ze].offset,Rt=(le-dt)/(E[Ze+1].offset-dt),en=E[Ze].color,an=E[Ze+1].color;qe+=H(Math.round((1-Rt)*en[0]+Rt*an[0]).toString(16))+H(Math.round((1-Rt)*en[1]+Rt*an[1]).toString(16))+H(Math.round((1-Rt)*en[2]+Rt*an[2]).toString(16))}return qe.trim()},z0=function(E,j){j||(j=21);var le=Ln(),he=kf(E.colors,j),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+j+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ci({data:he,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),G("endobj"),E.objectNumber=Ln(),G("<< /ShadingType "+E.type),G("/ColorSpace /DeviceRGB");var Ae="/Coords ["+M(parseFloat(E.coords[0]))+" "+M(parseFloat(E.coords[1]))+" ";E.type===2?Ae+=M(parseFloat(E.coords[2]))+" "+M(parseFloat(E.coords[3])):Ae+=M(parseFloat(E.coords[2]))+" "+M(parseFloat(E.coords[3]))+" "+M(parseFloat(E.coords[4]))+" "+M(parseFloat(E.coords[5])),G(Ae+="]"),E.matrix&&G("/Matrix ["+E.matrix.toString()+"]"),G("/Function "+le+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},j0=function(E,j){var le=Sn(),he=Ln();j.push({resourcesOid:le,objectOid:he}),E.objectNumber=he;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+E.boundingBox.map(M).join(" ")+"]"}),be.push({key:"XStep",value:M(E.xStep)}),be.push({key:"YStep",value:M(E.yStep)}),be.push({key:"Resources",value:le+" 0 R"}),E.matrix&&be.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),ci({data:E.stream,additionalKeyValues:be,objectId:E.objectNumber}),G("endobj")},rc=function(E){var j;for(j in xt)xt.hasOwnProperty(j)&&(xt[j]instanceof cl?z0(xt[j]):xt[j]instanceof Qc&&j0(xt[j],E))},Rf=function(E){for(var j in E.objectNumber=Ln(),G("<<"),E)switch(j){case"opacity":G("/ca "+B(E[j]));break;case"stroke-opacity":G("/CA "+B(E[j]))}G(">>"),G("endobj")},V0=function(){var E;for(E in Pt)Pt.hasOwnProperty(E)&&Rf(Pt[E])},Qu=function(){for(var E in G("/XObject <<"),Kt)Kt.hasOwnProperty(E)&&Kt[E].objectNumber>=0&&G("/"+E+" "+Kt[E].objectNumber+" 0 R");Et.publish("putXobjectDict"),G(">>")},W0=function(){sr.oid=Ln(),G("<<"),G("/Filter /Standard"),G("/V "+sr.v),G("/R "+sr.r),G("/U <"+sr.toHexString(sr.U)+">"),G("/O <"+sr.toHexString(sr.O)+">"),G("/P "+sr.P),G(">>"),G("endobj")},Nf=function(){for(var E in G("/Font <<"),mt)mt.hasOwnProperty(E)&&(d===!1||d===!0&&f.hasOwnProperty(E))&&G("/"+E+" "+mt[E].objectNumber+" 0 R");G(">>")},H0=function(){if(Object.keys(xt).length>0){for(var E in G("/Shading <<"),xt)xt.hasOwnProperty(E)&&xt[E]instanceof cl&&xt[E].objectNumber>=0&&G("/"+E+" "+xt[E].objectNumber+" 0 R");Et.publish("putShadingPatternDict"),G(">>")}},ic=function(E){if(Object.keys(xt).length>0){for(var j in G("/Pattern <<"),xt)xt.hasOwnProperty(j)&&xt[j]instanceof h.TilingPattern&&xt[j].objectNumber>=0&&xt[j].objectNumber<E&&G("/"+j+" "+xt[j].objectNumber+" 0 R");Et.publish("putTilingPatternDict"),G(">>")}},q0=function(){if(Object.keys(Pt).length>0){var E;for(E in G("/ExtGState <<"),Pt)Pt.hasOwnProperty(E)&&Pt[E].objectNumber>=0&&G("/"+E+" "+Pt[E].objectNumber+" 0 R");Et.publish("putGStateDict"),G(">>")}},fn=function(E){Gr(E.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Nf(),H0(),ic(E.objectOid),q0(),Qu(),G(">>"),G("endobj")},Cf=function(){var E=[];ec(),V0(),nc(),rc(E),Et.publish("putResources"),E.forEach(fn),fn({resourcesOid:Pi,objectOid:Number.MAX_SAFE_INTEGER}),Et.publish("postPutResources")},Af=function(){Et.publish("putAdditionalObjects");for(var E=0;E<Re.length;E++){var j=Re[E];Gr(j.objId,!0),G(j.content),G("endobj")}Et.publish("postPutAdditionalObjects")},If=function(E){gt[E.fontName]=gt[E.fontName]||{},gt[E.fontName][E.fontStyle]=E.id},Ju=function(E,j,le,he,be){var Ae={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:E,fontName:j,fontStyle:le,encoding:he,isStandardFont:be||!1,metadata:{}};return Et.publish("addFont",{font:Ae,instance:this}),mt[Ae.id]=Ae,If(Ae),Ae.id},$0=function(E){for(var j=0,le=re.length;j<le;j++){var he=Ju.call(this,E[j][0],E[j][1],E[j][2],re[j][3],!0);d===!1&&(f[he]=!0);var be=E[j][0].split("-");If({id:he,fontName:be[0],fontStyle:be[1]||""})}Et.publish("addFonts",{fonts:mt,dictionary:gt})},Oi=function(E){return E.foo=function(){try{return E.apply(this,arguments)}catch(he){var j=he.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var le="Error in function "+j.split(`
`)[0].split("<")[0]+": "+he.message;if(!at.console)throw new Error(le);at.console.error(le,he),at.alert&&alert(le)}},E.foo.bar=E,E.foo},sc=function(E,j){var le,he,be,Ae,De,qe,Ze,ft,dt;if(be=(j=j||{}).sourceEncoding||"Unicode",De=j.outputEncoding,(j.autoencode||De)&&mt[Je].metadata&&mt[Je].metadata[be]&&mt[Je].metadata[be].encoding&&(Ae=mt[Je].metadata[be].encoding,!De&&mt[Je].encoding&&(De=mt[Je].encoding),!De&&Ae.codePages&&(De=Ae.codePages[0]),typeof De=="string"&&(De=Ae[De]),De)){for(Ze=!1,qe=[],le=0,he=E.length;le<he;le++)(ft=De[E.charCodeAt(le)])?qe.push(String.fromCharCode(ft)):qe.push(E[le]),qe[le].charCodeAt(0)>>8&&(Ze=!0);E=qe.join("")}for(le=E.length;Ze===void 0&&le!==0;)E.charCodeAt(le-1)>>8&&(Ze=!0),le--;if(!Ze)return E;for(qe=j.noBOM?[]:[254,255],le=0,he=E.length;le<he;le++){if((dt=(ft=E.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+E+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(dt),qe.push(ft-(dt<<8))}return String.fromCharCode.apply(void 0,qe)},Tr=h.__private__.pdfEscape=h.pdfEscape=function(E,j){return sc(E,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zu=h.__private__.beginPage=function(E){Se[++_t]=[],tt[_t]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Tf(_t),ae(Se[K])},Pf=function(E,j){var le,he,be;switch(n=j||n,typeof E=="string"&&(le=m(E.toLowerCase()),Array.isArray(le)&&(he=le[0],be=le[1])),Array.isArray(E)&&(he=E[0]*Ue,be=E[1]*Ue),isNaN(he)&&(he=i[0],be=i[1]),(he>14400||be>14400)&&(jt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),be=Math.min(14400,be)),i=[he,be],n.substr(0,1)){case"l":be>he&&(i=[be,he]);break;case"p":he>be&&(i=[be,he])}Zu(i),Uf(rd),G(Di),sd!==0&&G(sd+" J"),ad!==0&&G(ad+" j"),Et.publish("addPage",{pageNumber:_t})},G0=function(E){E>0&&E<=_t&&(Se.splice(E,1),tt.splice(E,1),_t--,K>_t&&(K=_t),this.setPage(K))},Tf=function(E){E>0&&E<=_t&&(K=E)},K0=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Se.length-1},Lf=function(E,j,le){var he,be=void 0;return le=le||{},E=E!==void 0?E:mt[Je].fontName,j=j!==void 0?j:mt[Je].fontStyle,he=E.toLowerCase(),gt[he]!==void 0&&gt[he][j]!==void 0?be=gt[he][j]:gt[E]!==void 0&&gt[E][j]!==void 0?be=gt[E][j]:le.disableWarning===!1&&jt.warn("Unable to look up font label for font '"+E+"', '"+j+"'. Refer to getFontList() for available fonts."),be||le.noFallback||(be=gt.times[j])==null&&(be=gt.times.normal),be},Y0=h.__private__.putInfo=function(){var E=Ln(),j=function(he){return he};for(var le in u!==null&&(j=sr.encryptor(E,0)),G("<<"),G("/Producer ("+Tr(j("jsPDF "+it.version))+")"),Ge)Ge.hasOwnProperty(le)&&Ge[le]&&G("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+Tr(j(Ge[le]))+")");G("/CreationDate ("+Tr(j(V))+")"),G(">>"),G("endobj")},ed=h.__private__.putCatalog=function(E){var j=(E=E||{}).rootDictionaryObjId||Ls;switch(Ln(),G("<<"),G("/Type /Catalog"),G("/Pages "+j+" 0 R"),ye||(ye="fullwidth"),ye){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+ye;le.substr(le.length-1)==="%"&&(ye=parseInt(ye)/100),typeof ye=="number"&&G("/OpenAction [3 0 R /XYZ null null "+B(ye)+"]")}switch(Fe||(Fe="continuous"),Fe){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}Ne&&G("/PageMode /"+Ne),Et.publish("putCatalog"),G(">>"),G("endobj")},X0=h.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(oe+1)),G("/Root "+oe+" 0 R"),G("/Info "+(oe-1)+" 0 R"),u!==null&&G("/Encrypt "+sr.oid+" 0 R"),G("/ID [ <"+U+"> <"+U+"> ]"),G(">>")},Q0=h.__private__.putHeader=function(){G("%PDF-"+g),G("%")},J0=h.__private__.putXRef=function(){var E="0000000000";G("xref"),G("0 "+(oe+1)),G("0000000000 65535 f ");for(var j=1;j<=oe;j++)typeof pe[j]=="function"?G((E+pe[j]()).slice(-10)+" 00000 n "):pe[j]!==void 0?G((E+pe[j]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},Os=h.__private__.buildDocument=function(){F(),ae(ue),Et.publish("buildDocument"),Q0(),Wo(),Af(),Cf(),u!==null&&W0(),Y0(),ed();var E=de;return J0(),X0(),G("startxref"),G(""+E),G("%%EOF"),ae(Se[K]),ue.join(`
`)},ac=h.__private__.getBlob=function(E){return new Blob([Q(E)],{type:"application/pdf"})},oc=h.output=h.__private__.output=Oi(function(E,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",E){case void 0:return Os();case"save":h.save(j.filename);break;case"arraybuffer":return Q(Os());case"blob":return ac(Os());case"bloburi":case"bloburl":if(at.URL!==void 0&&typeof at.URL.createObjectURL=="function")return at.URL&&at.URL.createObjectURL(ac(Os()))||void 0;jt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",he=Os();try{le=Lv(he)}catch{le=Lv(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+j.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(be=j.pdfObjectUrl,Ae="");var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",qe=at.open();return qe!==null&&qe.document.write(De),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',ft=at.open();if(ft!==null){ft.document.write(Ze);var dt=this;ft.document.documentElement.querySelector("#pdfViewer").onload=function(){ft.document.title=j.filename,ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(dt.output("bloburl"))}}return ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(at)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',en=at.open();if(en!==null&&(en.document.write(Rt),en.document.title=j.filename),en||typeof safari>"u")return en;break;case"datauri":case"dataurl":return at.document.location.href=this.output("datauristring",j);default:return null}}),Of=function(E){return Array.isArray(ss)===!0&&ss.indexOf(E)>-1};switch(r){case"pt":Ue=1;break;case"mm":Ue=72/25.4;break;case"cm":Ue=72/2.54;break;case"in":Ue=72;break;case"px":Ue=Of("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ue=12;break;case"ex":Ue=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ue=r}var sr=null;ne(),$();var Z0=function(E){return u!==null?sr.encryptor(E,0):function(j){return j}},Df=h.__private__.getPageInfo=h.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tt[E].objId,pageNumber:E,pageContext:tt[E]}},ut=h.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in tt)if(tt[j].objId===E)break;return Df(j)},e1=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:tt[K].objId,pageNumber:K,pageContext:tt[K]}};h.addPage=function(){return Pf.apply(this,arguments),this},h.setPage=function(){return Tf.apply(this,arguments),ae.call(this,Se[K]),this},h.insertPage=function(E){return this.addPage(),this.movePage(K,E),this},h.movePage=function(E,j){var le,he;if(E>j){le=Se[E],he=tt[E];for(var be=E;be>j;be--)Se[be]=Se[be-1],tt[be]=tt[be-1];Se[j]=le,tt[j]=he,this.setPage(j)}else if(E<j){le=Se[E],he=tt[E];for(var Ae=E;Ae<j;Ae++)Se[Ae]=Se[Ae+1],tt[Ae]=tt[Ae+1];Se[j]=le,tt[j]=he,this.setPage(j)}return this},h.deletePage=function(){return G0.apply(this,arguments),this},h.__private__.text=h.text=function(E,j,le,he,be){var Ae,De,qe,Ze,ft,dt,Rt,en,an,kn=(he=he||{}).scope||this;if(typeof E=="number"&&typeof j=="number"&&(typeof le=="string"||Array.isArray(le))){var ar=le;le=j,j=E,E=ar}if(arguments[3]instanceof rt?(R("The transform parameter of text() with a Matrix value"),an=be):(qe=arguments[4],Ze=arguments[5],Ot(Rt=arguments[3])==="object"&&Rt!==null||(typeof qe=="string"&&(Ze=qe,qe=null),typeof Rt=="string"&&(Ze=Rt,Rt=null),typeof Rt=="number"&&(qe=Rt,Rt=null),he={flags:Rt,angle:qe,align:Ze})),isNaN(j)||isNaN(le)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return kn;var jn="",Fi=!1,Kr=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:qo,hs=kn.internal.scaleFactor;function Hf(Vt){return Vt=Vt.split("	").join(Array(he.TabLen||9).join(" ")),Tr(Vt,Rt)}function dd(Vt){for(var Wt,mn=Vt.concat(),On=[],Bs=mn.length;Bs--;)typeof(Wt=mn.shift())=="string"?On.push(Wt):Array.isArray(Vt)&&(Wt.length===1||Wt[1]===void 0&&Wt[2]===void 0)?On.push(Wt[0]):On.push([Wt[0],Wt[1],Wt[2]]);return On}function hd(Vt,Wt){var mn;if(typeof Vt=="string")mn=Wt(Vt)[0];else if(Array.isArray(Vt)){for(var On,Bs,bd=Vt.concat(),_c=[],Yf=bd.length;Yf--;)typeof(On=bd.shift())=="string"?_c.push(Wt(On)[0]):Array.isArray(On)&&typeof On[0]=="string"&&(Bs=Wt(On[0],On[1],On[2]),_c.push([Bs[0],Bs[1],Bs[2]]));mn=_c}return mn}var fc=!1,fd=!0;if(typeof E=="string")fc=!0;else if(Array.isArray(E)){var pd=E.concat();De=[];for(var pc,Qn=pd.length;Qn--;)(typeof(pc=pd.shift())!="string"||Array.isArray(pc)&&typeof pc[0]!="string")&&(fd=!1);fc=fd}if(fc===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var mc=ge/kn.internal.scaleFactor,gc=mc*(Kr-1);switch(he.baseline){case"bottom":le-=gc;break;case"top":le+=mc-gc;break;case"hanging":le+=mc-2*gc;break;case"middle":le+=mc/2-gc}if((dt=he.maxWidth||0)>0&&(typeof E=="string"?E=kn.splitTextToSize(E,dt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(Vt,Wt){return Vt.concat(kn.splitTextToSize(Wt,dt))},[]))),Ae={text:E,x:j,y:le,options:he,mutex:{pdfEscape:Tr,activeFontKey:Je,fonts:mt,activeFontSize:ge}},Et.publish("preProcessText",Ae),E=Ae.text,qe=(he=Ae.options).angle,!(an instanceof rt)&&qe&&typeof qe=="number"){qe*=Math.PI/180,he.rotationDirection===0&&(qe=-qe),x===w.ADVANCED&&(qe=-qe);var yc=Math.cos(qe),md=Math.sin(qe);an=new rt(yc,md,-md,yc,0,0)}else qe&&qe instanceof rt&&(an=qe);x!==w.ADVANCED||an||(an=os),(ft=he.charSpace||uc)!==void 0&&(jn+=M(k(ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(en=he.horizontalScale)!==void 0&&(jn+=M(100*en)+` Tz
`),he.lang;var Lr=-1,u1=he.renderingMode!==void 0?he.renderingMode:he.stroke,gd=kn.internal.getCurrentPageInfo().pageContext;switch(u1){case 0:case!1:case"fill":Lr=0;break;case 1:case!0:case"stroke":Lr=1;break;case 2:case"fillThenStroke":Lr=2;break;case 3:case"invisible":Lr=3;break;case 4:case"fillAndAddForClipping":Lr=4;break;case 5:case"strokeAndAddPathForClipping":Lr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Lr=6;break;case 7:case"addToPathForClipping":Lr=7}var qf=gd.usedRenderingMode!==void 0?gd.usedRenderingMode:-1;Lr!==-1?jn+=Lr+` Tr
`:qf!==-1&&(jn+=`0 Tr
`),Lr!==-1&&(gd.usedRenderingMode=Lr),Ze=he.align||"left";var ui,vc=ge*Kr,$f=kn.internal.pageSize.getWidth(),Gf=mt[Je];ft=he.charSpace||uc,dt=he.maxWidth||0,Rt=Object.assign({autoencode:!0,noBOM:!0},he.flags);var _a=[],Ko=function(Vt){return kn.getStringUnitWidth(Vt,{font:Gf,charSpace:ft,fontSize:ge,doKerning:!1})*ge/hs};if(Object.prototype.toString.call(E)==="[object Array]"){var Or;De=dd(E),Ze!=="left"&&(ui=De.map(Ko));var wr,Ea=0;if(Ze==="right"){j-=ui[0],E=[],Qn=De.length;for(var Fs=0;Fs<Qn;Fs++)Fs===0?(wr=ds(j),Or=Ds(le)):(wr=k(Ea-ui[Fs]),Or=-vc),E.push([De[Fs],wr,Or]),Ea=ui[Fs]}else if(Ze==="center"){j-=ui[0]/2,E=[],Qn=De.length;for(var Ms=0;Ms<Qn;Ms++)Ms===0?(wr=ds(j),Or=Ds(le)):(wr=k((Ea-ui[Ms])/2),Or=-vc),E.push([De[Ms],wr,Or]),Ea=ui[Ms]}else if(Ze==="left"){E=[],Qn=De.length;for(var wc=0;wc<Qn;wc++)E.push(De[wc])}else if(Ze==="justify"&&Gf.encoding==="Identity-H"){E=[],Qn=De.length,dt=dt!==0?dt:$f;for(var Us=0,pn=0;pn<Qn;pn++)if(Or=pn===0?Ds(le):-vc,wr=pn===0?ds(j):Us,pn<Qn-1){var yd=k((dt-ui[pn])/(De[pn].split(" ").length-1)),br=De[pn].split(" ");E.push([br[0]+" ",wr,Or]),Us=0;for(var di=1;di<br.length;di++){var bc=(Ko(br[di-1]+" "+br[di])-Ko(br[di]))*hs+yd;di==br.length-1?E.push([br[di],bc,0]):E.push([br[di]+" ",bc,0]),Us-=bc}}else E.push([De[pn],wr,Or]);E.push(["",Us,0])}else{if(Ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],Qn=De.length,dt=dt!==0?dt:$f,pn=0;pn<Qn;pn++)Or=pn===0?Ds(le):-vc,wr=pn===0?ds(j):0,pn<Qn-1?_a.push(M(k((dt-ui[pn])/(De[pn].split(" ").length-1)))):_a.push(0),E.push([De[pn],wr,Or])}}var Kf=typeof he.R2L=="boolean"?he.R2L:xe;Kf===!0&&(E=hd(E,function(Vt,Wt,mn){return[Vt.split("").reverse().join(""),Wt,mn]})),Ae={text:E,x:j,y:le,options:he,mutex:{pdfEscape:Tr,activeFontKey:Je,fonts:mt,activeFontSize:ge}},Et.publish("postProcessText",Ae),E=Ae.text,Fi=Ae.mutex.isHex||!1;var vd=mt[Je].encoding;vd!=="WinAnsiEncoding"&&vd!=="StandardEncoding"||(E=hd(E,function(Vt,Wt,mn){return[Hf(Vt),Wt,mn]})),De=dd(E),E=[];for(var Yo,Xo,Sa,Qo=0,xc=1,Jo=Array.isArray(De[0])?xc:Qo,ka="",wd=function(Vt,Wt,mn){var On="";return mn instanceof rt?(mn=typeof he.angle=="number"?Ii(mn,new rt(1,0,0,1,Vt,Wt)):Ii(new rt(1,0,0,1,Vt,Wt),mn),x===w.ADVANCED&&(mn=Ii(new rt(1,0,0,-1,0,0),mn)),On=mn.join(" ")+` Tm
`):On=M(Vt)+" "+M(Wt)+` Td
`,On},hi=0;hi<De.length;hi++){switch(ka="",Jo){case xc:Sa=(Fi?"<":"(")+De[hi][0]+(Fi?">":")"),Yo=parseFloat(De[hi][1]),Xo=parseFloat(De[hi][2]);break;case Qo:Sa=(Fi?"<":"(")+De[hi]+(Fi?">":")"),Yo=ds(j),Xo=Ds(le)}_a!==void 0&&_a[hi]!==void 0&&(ka=_a[hi]+` Tw
`),hi===0?E.push(ka+wd(Yo,Xo,an)+Sa):Jo===Qo?E.push(ka+Sa):Jo===xc&&E.push(ka+wd(Yo,Xo,an)+Sa)}E=Jo===Qo?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var fi=`BT
/`;return fi+=Je+" "+ge+` Tf
`,fi+=M(ge*Kr)+` TL
`,fi+=$o+`
`,fi+=jn,fi+=E,G(fi+="ET"),f[Je]=!0,kn};var t1=h.__private__.clip=h.clip=function(E){return G(E==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return t1("evenodd")},h.__private__.discardPath=h.discardPath=function(){return G("n"),this};var us=h.__private__.isValidStyle=function(E){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(j=!0),j};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(E){return us(E)&&(c=E),this};var Ff=h.__private__.getStyle=h.getStyle=function(E){var j=c;switch(E){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=E}return j},Mf=h.close=function(){return G("h"),this};h.stroke=function(){return G("S"),this},h.fill=function(E){return lc("f",E),this},h.fillEvenOdd=function(E){return lc("f*",E),this},h.fillStroke=function(E){return lc("B",E),this},h.fillStrokeEvenOdd=function(E){return lc("B*",E),this};var lc=function(E,j){Ot(j)==="object"?r1(j,E):G(E)},td=function(E){E===null||x===w.ADVANCED&&E===void 0||(E=Ff(E),G(E))};function n1(E,j,le,he,be){var Ae=new Qc(j||this.boundingBox,le||this.xStep,he||this.yStep,this.gState,be||this.matrix);Ae.stream=this.stream;var De=E+"$$"+this.cloneIndex+++"$$";return Pr(De,Ae),Ae}var r1=function(E,j){var le=li[E.key],he=xt[le];if(he instanceof cl)G("q"),G(i1(j)),he.gState&&h.setGState(he.gState),G(E.matrix.toString()+" cm"),G("/"+le+" sh"),G("Q");else if(he instanceof Qc){var be=new rt(1,0,0,-1,0,xa());E.matrix&&(be=be.multiply(E.matrix||os),le=n1.call(he,E.key,E.boundingBox,E.xStep,E.yStep,be).id),G("q"),G("/Pattern cs"),G("/"+le+" scn"),he.gState&&h.setGState(he.gState),G(j),G("Q")}},i1=function(E){switch(E){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},nd=h.moveTo=function(E,j){return G(M(k(E))+" "+M(_(j))+" m"),this},Ho=h.lineTo=function(E,j){return G(M(k(E))+" "+M(_(j))+" l"),this},wa=h.curveTo=function(E,j,le,he,be,Ae){return G([M(k(E)),M(_(j)),M(k(le)),M(_(he)),M(k(be)),M(_(Ae)),"c"].join(" ")),this};h.__private__.line=h.line=function(E,j,le,he,be){if(isNaN(E)||isNaN(j)||isNaN(le)||isNaN(he)||!us(be))throw new Error("Invalid arguments passed to jsPDF.line");return x===w.COMPAT?this.lines([[le-E,he-j]],E,j,[1,1],be||"S"):this.lines([[le-E,he-j]],E,j,[1,1]).stroke()},h.__private__.lines=h.lines=function(E,j,le,he,be,Ae){var De,qe,Ze,ft,dt,Rt,en,an,kn,ar,jn,Fi;if(typeof E=="number"&&(Fi=le,le=j,j=E,E=Fi),he=he||[1,1],Ae=Ae||!1,isNaN(j)||isNaN(le)||!Array.isArray(E)||!Array.isArray(he)||!us(be)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(nd(j,le),De=he[0],qe=he[1],ft=E.length,ar=j,jn=le,Ze=0;Ze<ft;Ze++)(dt=E[Ze]).length===2?(ar=dt[0]*De+ar,jn=dt[1]*qe+jn,Ho(ar,jn)):(Rt=dt[0]*De+ar,en=dt[1]*qe+jn,an=dt[2]*De+ar,kn=dt[3]*qe+jn,ar=dt[4]*De+ar,jn=dt[5]*qe+jn,wa(Rt,en,an,kn,ar,jn));return Ae&&Mf(),td(be),this},h.path=function(E){for(var j=0;j<E.length;j++){var le=E[j],he=le.c;switch(le.op){case"m":nd(he[0],he[1]);break;case"l":Ho(he[0],he[1]);break;case"c":wa.apply(this,he);break;case"h":Mf()}}return this},h.__private__.rect=h.rect=function(E,j,le,he,be){if(isNaN(E)||isNaN(j)||isNaN(le)||isNaN(he)||!us(be))throw new Error("Invalid arguments passed to jsPDF.rect");return x===w.COMPAT&&(he=-he),G([M(k(E)),M(_(j)),M(k(le)),M(k(he)),"re"].join(" ")),td(be),this},h.__private__.triangle=h.triangle=function(E,j,le,he,be,Ae,De){if(isNaN(E)||isNaN(j)||isNaN(le)||isNaN(he)||isNaN(be)||isNaN(Ae)||!us(De))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-E,he-j],[be-le,Ae-he],[E-be,j-Ae]],E,j,[1,1],De,!0),this},h.__private__.roundedRect=h.roundedRect=function(E,j,le,he,be,Ae,De){if(isNaN(E)||isNaN(j)||isNaN(le)||isNaN(he)||isNaN(be)||isNaN(Ae)||!us(De))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*le),Ae=Math.min(Ae,.5*he),this.lines([[le-2*be,0],[be*qe,0,be,Ae-Ae*qe,be,Ae],[0,he-2*Ae],[0,Ae*qe,-be*qe,Ae,-be,Ae],[2*be-le,0],[-be*qe,0,-be,-Ae*qe,-be,-Ae],[0,2*Ae-he],[0,-Ae*qe,be*qe,-Ae,be,-Ae]],E+be,j,[1,1],De,!0),this},h.__private__.ellipse=h.ellipse=function(E,j,le,he,be){if(isNaN(E)||isNaN(j)||isNaN(le)||isNaN(he)||!us(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*le,De=4/3*(Math.SQRT2-1)*he;return nd(E+le,j),wa(E+le,j-De,E+Ae,j-he,E,j-he),wa(E-Ae,j-he,E-le,j-De,E-le,j),wa(E-le,j+De,E-Ae,j+he,E,j+he),wa(E+Ae,j+he,E+le,j+De,E+le,j),td(be),this},h.__private__.circle=h.circle=function(E,j,le,he){if(isNaN(E)||isNaN(j)||isNaN(le)||!us(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,j,le,le,he)},h.setFont=function(E,j,le){return le&&(j=D(j,le)),Je=Lf(E,j,{disableWarning:!1}),this};var s1=h.__private__.getFont=h.getFont=function(){return mt[Lf.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var E,j,le={};for(E in gt)if(gt.hasOwnProperty(E))for(j in le[E]=[],gt[E])gt[E].hasOwnProperty(j)&&le[E].push(j);return le},h.addFont=function(E,j,le,he,be){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(le=D(le,he)),be=be||"Identity-H",Ju.call(this,E,j,le,be)};var qo,rd=t.lineWidth||.200025,cc=h.__private__.getLineWidth=h.getLineWidth=function(){return rd},Uf=h.__private__.setLineWidth=h.setLineWidth=function(E){return rd=E,G(M(k(E))+" w"),this};h.__private__.setLineDash=it.API.setLineDash=it.API.setLineDashPattern=function(E,j){if(E=E||[],j=j||0,isNaN(j)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(le){return M(k(le))}).join(" "),j=M(k(j)),G("["+E+"] "+j+" d"),this};var Bf=h.__private__.getLineHeight=h.getLineHeight=function(){return ge*qo};h.__private__.getLineHeight=h.getLineHeight=function(){return ge*qo};var zf=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(qo=E),this},jf=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return qo};zf(t.lineHeight);var ds=h.__private__.getHorizontalCoordinate=function(E){return k(E)},Ds=h.__private__.getVerticalCoordinate=function(E){return x===w.ADVANCED?E:tt[K].mediaBox.topRightY-tt[K].mediaBox.bottomLeftY-k(E)},a1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(E){return M(ds(E))},ba=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(E){return M(Ds(E))},Di=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ti(Di)},h.__private__.setStrokeColor=h.setDrawColor=function(E,j,le,he){return Di=Li({ch1:E,ch2:j,ch3:le,ch4:he,pdfColorType:"draw",precision:2}),G(Di),this};var id=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ti(id)},h.__private__.setFillColor=h.setFillColor=function(E,j,le,he){return id=Li({ch1:E,ch2:j,ch3:le,ch4:he,pdfColorType:"fill",precision:2}),G(id),this};var $o=t.textColor||"0 g",o1=h.__private__.getTextColor=h.getTextColor=function(){return Ti($o)};h.__private__.setTextColor=h.setTextColor=function(E,j,le,he){return $o=Li({ch1:E,ch2:j,ch3:le,ch4:he,pdfColorType:"text",precision:3}),this};var uc=t.charSpace,l1=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(uc||0)};h.__private__.setCharSpace=h.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return uc=E,this};var sd=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(E){var j=h.CapJoinStyles[E];if(j===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sd=j,G(j+" J"),this};var ad=0;h.__private__.setLineJoin=h.setLineJoin=function(E){var j=h.CapJoinStyles[E];if(j===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ad=j,G(j+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(M(k(E))+" M"),this},h.GState=Lg,h.setGState=function(E){(E=typeof E=="string"?Pt[ir[E]]:Vf(null,E)).equals(Jt)||(G("/"+E.id+" gs"),Jt=E)};var Vf=function(E,j){if(!E||!ir[E]){var le=!1;for(var he in Pt)if(Pt.hasOwnProperty(he)&&Pt[he].equals(j)){le=!0;break}if(le)j=Pt[he];else{var be="GS"+(Object.keys(Pt).length+1).toString(10);Pt[be]=j,j.id=be}return E&&(ir[E]=j.id),Et.publish("addGState",j),j}};h.addGState=function(E,j){return Vf(E,j),this},h.saveGraphicsState=function(){return G("q"),vr.push({key:Je,size:ge,color:$o}),this},h.restoreGraphicsState=function(){G("Q");var E=vr.pop();return Je=E.key,ge=E.size,$o=E.color,Jt=null,this},h.setCurrentTransformationMatrix=function(E){return G(E.toString()+" cm"),this},h.comment=function(E){return G("#"+E),this};var dc=function(E,j){var le=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Ae){isNaN(Ae)||(le=parseFloat(Ae))}});var he=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(Ae){isNaN(Ae)||(he=parseFloat(Ae))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Ae){be=Ae.toString()}}),this},od=function(E,j,le,he){dc.call(this,E,j),this.type="rect";var be=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(De){isNaN(De)||(be=parseFloat(De))}});var Ae=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(De){isNaN(De)||(Ae=parseFloat(De))}}),this},ld=function(){this.page=_t,this.currentPage=K,this.pages=Se.slice(0),this.pagesContext=tt.slice(0),this.x=kt,this.y=Xe,this.matrix=Bt,this.width=Go(K),this.height=xa(K),this.outputDestination=Me,this.id="",this.objectNumber=-1};ld.prototype.restore=function(){_t=this.page,K=this.currentPage,tt=this.pagesContext,Se=this.pages,kt=this.x,Xe=this.y,Bt=this.matrix,cd(K,this.width),ud(K,this.height),Me=this.outputDestination};var Wf=function(E,j,le,he,be){as.push(new ld),_t=K=0,Se=[],kt=E,Xe=j,Bt=be,Zu([le,he])},c1=function(E){if(zn[E])as.pop().restore();else{var j=new ld,le="Xo"+(Object.keys(Kt).length+1).toString(10);j.id=le,zn[E]=le,Kt[le]=j,Et.publish("addFormObject",j),as.pop().restore()}};for(var hc in h.beginFormObject=function(E,j,le,he,be){return Wf(E,j,le,he,be),this},h.endFormObject=function(E){return c1(E),this},h.doFormObject=function(E,j){var le=Kt[zn[E]];return G("q"),G(j.toString()+" cm"),G("/"+le.id+" Do"),G("Q"),this},h.getFormObject=function(E){var j=Kt[zn[E]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},h.save=function(E,j){return E=E||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(ll(ac(Os()),E),typeof ll.unload=="function"&&at.setTimeout&&setTimeout(ll.unload,911),this):new Promise(function(le,he){try{var be=ll(ac(Os()),E);typeof ll.unload=="function"&&at.setTimeout&&setTimeout(ll.unload,911),le(be)}catch(Ae){he(Ae.message)}})},it.API)it.API.hasOwnProperty(hc)&&(hc==="events"&&it.API.events.length?function(E,j){var le,he,be;for(be=j.length-1;be!==-1;be--)le=j[be][0],he=j[be][1],E.subscribe.apply(E,[le].concat(typeof he=="function"?[he]:he))}(Et,it.API.events):h[hc]=it.API[hc]);var Go=h.getPageWidth=function(E){return(tt[E=E||K].mediaBox.topRightX-tt[E].mediaBox.bottomLeftX)/Ue},cd=h.setPageWidth=function(E,j){tt[E].mediaBox.topRightX=j*Ue+tt[E].mediaBox.bottomLeftX},xa=h.getPageHeight=function(E){return(tt[E=E||K].mediaBox.topRightY-tt[E].mediaBox.bottomLeftY)/Ue},ud=h.setPageHeight=function(E,j){tt[E].mediaBox.topRightY=j*Ue+tt[E].mediaBox.bottomLeftY};return h.internal={pdfEscape:Tr,getStyle:Ff,getFont:s1,getFontSize:ce,getCharSpace:l1,getTextColor:o1,getLineHeight:Bf,getLineHeightFactor:jf,getLineWidth:cc,write:ee,getHorizontalCoordinate:ds,getVerticalCoordinate:Ds,getCoordinateString:a1,getVerticalCoordinateString:ba,collections:{},newObject:Ln,newAdditionalObject:Jl,newObjectDeferred:Sn,newObjectDeferredBegin:Gr,getFilters:ls,putStream:ci,events:Et,scaleFactor:Ue,pageSize:{getWidth:function(){return Go(K)},setWidth:function(E){cd(K,E)},getHeight:function(){return xa(K)},setHeight:function(E){ud(K,E)}},encryptionOptions:u,encryption:sr,getEncryptor:Z0,output:oc,getNumberOfPages:K0,pages:Se,out:G,f2:B,f3:L,getPageInfo:Df,getPageInfoByObjId:ut,getCurrentPageInfo:e1,getPDFVersion:y,Point:dc,Rectangle:od,Matrix:rt,hasHotfix:Of},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Go(K)},set:function(E){cd(K,E)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return xa(K)},set:function(E){ud(K,E)},enumerable:!0,configurable:!0}),$0.call(h,re),Je="F1",Pf(i,n),Et.publish("initialized"),h}Pc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Pc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Pc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Pc.prototype.processOwnerPassword=function(t,e){return Dv(Ov(e).substr(0,5),t)},Pc.prototype.encryptor=function(t,e){var n=Ov(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Dv(n,r)}},Lg.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Ot(t)!==Ot(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},it.API={events:[]},it.version="2.5.2";var cn=it.API,hb=1,Xl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ac=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ht=function(t){return t.toFixed(2)},Ma=function(t){return t.toFixed(5)};cn.__acroform__={};var $r=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},j4=function(t){return t*hb},gs=function(t){var e=new lA,n=Qe.internal.getHeight(t)||0,r=Qe.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ht(r)),Number(ht(n))],e},yW=cn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},vW=cn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},wW=cn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},vn=cn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wW(t,e-1)},wn=cn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yW(t,e-1)},bn=cn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vW(t,e-1)},bW=cn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(ht(l.lowerLeft_X)),Number(ht(l.lowerLeft_Y)),Number(ht(l.upperRight_X)),Number(ht(l.upperRight_Y))]},xW=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Fv(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ht(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=gs(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Fv=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(L){return L.split(`
`)}):i.map(function(L){return[L]});var s=n,a=Qe.internal.getHeight(t)||0;a=a<0?-a:a;var o=Qe.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(L,k,I){if(L+1<i.length){var _=k+" "+i[L+1][0];return jp(_,t,I).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,d=jp("3",t,s).height,f=t.multiline?a-s:(a-d)/2,h=f+=2,g=0,y=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+jp(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var m="",w=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var N=!1;if(i[x].length!==1&&b!==i[x].length-1){if((d+2)*(w+2)+2>a)continue e;m+=i[x][b],N=!0,y=x,x--}else{m=(m+=i[x][b]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var O=parseInt(x),D=l(O,m,s),M=x>=i.length-1;if(D&&!M){m+=" ",b=0;continue}if(D||M){if(M)y=O;else if(t.multiline&&(d+2)*(w+2)+2>a)continue e}else{if(!t.multiline||(d+2)*(w+2)+2>a)continue e;y=O}}for(var R="",A=g;A<=y;A++){var B=i[A];if(t.multiline){if(A===y){R+=B[b]+" ",b=(b+1)%B.length;continue}if(A===g){R+=B[B.length-1]+" ";continue}}R+=B[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,u=jp(R,t,s).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}e+=ht(c)+" "+ht(h)+` Td
`,e+="("+Xl(R)+`) Tj
`,e+=-ht(c)+` 0 Td
`,h=-(s+2),u=0,g=N?y:y+1,w++,m=""}break}return r.text=e,r.fontSize=s,r},jp=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},_W={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},EW=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},SW=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Ot(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},kW=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ns.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(_W)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");hb=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new cA,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&EW(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=bW(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Qe.createDefaultAppearanceStream(o),Ot(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=xW(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var h=o.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var g=h[a];typeof g=="function"&&(g=g.call(i,o)),d+="/"+a+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(i,o)),d+="/"+a+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&SW(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},oA=cn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Ot(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Xl(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},F2=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Xl(r(t))+")"},xs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xs.prototype.toString=function(){return this.objId+" 0 R"},xs.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},xs.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:oA(i,this.objId,this.scope)}):i instanceof xs?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var lA=function(){xs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};$r(lA,xs);var cA=function(){xs.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Xl(n(t))+")"}},set:function(n){t=n}})};$r(cA,xs);var ns=function t(){xs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');e=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vn(e,3)},set:function(m){m?this.F=wn(e,3):this.F=bn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');n=m}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(m){r=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(m){r[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(m){r[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(m){r[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(m){r[3]=m}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Og)return;s="FieldObject"+t.FieldNum++}var m=function(w){return w};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+Xl(m(s))+")"},set:function(m){s=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(m){s=m}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(m){a=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/hb:c},set:function(m){c=m}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(m){u=m}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Og||this instanceof kl))return F2(d,this.objId,this.scope)},set:function(m){m=m.toString(),d=m}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Gn?f:F2(f,this.objId,this.scope)},set:function(m){m=m.toString(),f=this instanceof Gn?m:m.substr(0,1)==="("?Ac(m.substr(1,m.length-2)):Ac(m)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gn?Ac(f.substr(1,f.length-1)):f},set:function(m){m=m.toString(),f=this instanceof Gn?"/"+m:m}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Gn?h:F2(h,this.objId,this.scope)},set:function(m){m=m.toString(),h=this instanceof Gn?m:m.substr(0,1)==="("?Ac(m.substr(1,m.length-2)):Ac(m)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gn?Ac(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof Gn?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(m){m=!!m,y=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(m){g=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,1)},set:function(m){m?this.Ff=wn(this.Ff,1):this.Ff=bn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,2)},set:function(m){m?this.Ff=wn(this.Ff,2):this.Ff=bn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,3)},set:function(m){m?this.Ff=wn(this.Ff,3):this.Ff=bn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');b=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(b){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};$r(ns,xs);var du=function(){ns.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return oA(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,18)},set:function(n){n?this.Ff=wn(this.Ff,18):this.Ff=bn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=wn(this.Ff,19):this.Ff=bn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,20)},set:function(n){n?(this.Ff=wn(this.Ff,20),e.sort()):this.Ff=bn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,22)},set:function(n){n?this.Ff=wn(this.Ff,22):this.Ff=bn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,23)},set:function(n){n?this.Ff=wn(this.Ff,23):this.Ff=bn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,27)},set:function(n){n?this.Ff=wn(this.Ff,27):this.Ff=bn(this.Ff,27)}}),this.hasAppearanceStream=!1};$r(du,ns);var hu=function(){du.call(this),this.fontName="helvetica",this.combo=!1};$r(hu,du);var fu=function(){hu.call(this),this.combo=!0};$r(fu,hu);var ym=function(){fu.call(this),this.edit=!0};$r(ym,fu);var Gn=function(){ns.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,15)},set:function(n){n?this.Ff=wn(this.Ff,15):this.Ff=bn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,16)},set:function(n){n?this.Ff=wn(this.Ff,16):this.Ff=bn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,17)},set:function(n){n?this.Ff=wn(this.Ff,17):this.Ff=bn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,26)},set:function(n){n?this.Ff=wn(this.Ff,26):this.Ff=bn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Xl(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Ot(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};$r(Gn,ns);var vm=function(){Gn.call(this),this.pushButton=!0};$r(vm,Gn);var pu=function(){Gn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};$r(pu,Gn);var Og=function(){var t,e;ns.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Xl(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Ot(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$r(Og,ns),pu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},pu.prototype.createOption=function(t){var e=new Og;return e.Parent=this,e.optionName=t,this.Kids.push(e),RW.call(this.scope,e),e};var wm=function(){Gn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Qe.CheckBox.createAppearanceStream()};$r(wm,Gn);var kl=function(){ns.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,13)},set:function(e){e?this.Ff=wn(this.Ff,13):this.Ff=bn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,21)},set:function(e){e?this.Ff=wn(this.Ff,21):this.Ff=bn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,23)},set:function(e){e?this.Ff=wn(this.Ff,23):this.Ff=bn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,24)},set:function(e){e?this.Ff=wn(this.Ff,24):this.Ff=bn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,25)},set:function(e){e?this.Ff=wn(this.Ff,25):this.Ff=bn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,26)},set:function(e){e?this.Ff=wn(this.Ff,26):this.Ff=bn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$r(kl,ns);var bm=function(){kl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,14)},set:function(t){t?this.Ff=wn(this.Ff,14):this.Ff=bn(this.Ff,14)}}),this.password=!0};$r(bm,kl);var Qe={CheckBox:{createAppearanceStream:function(){return{N:{On:Qe.CheckBox.YesNormal},D:{On:Qe.CheckBox.YesPushDown,Off:Qe.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=gs(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Fv(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+ht(Qe.internal.getWidth(t))+" "+ht(Qe.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+ht(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=gs(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Qe.internal.getHeight(t),a=Qe.internal.getWidth(t),o=Fv(t,t.caption);return i.push("1 g"),i.push("0 0 "+ht(a)+" "+ht(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ht(a-1)+" "+ht(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+ht(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=gs(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ht(Qe.internal.getWidth(t))+" "+ht(Qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Qe.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Qe.RadioButton.Circle.YesNormal,e.D[t]=Qe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=gs(t);e.scope=t.scope;var n=[],r=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Qe.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ma(Qe.internal.getWidth(t)/2)+" "+Ma(Qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=gs(t);e.scope=t.scope;var n=[],r=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Qe.internal.Bezier_C).toFixed(5)),a=Number((r*Qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ma(Qe.internal.getWidth(t)/2)+" "+Ma(Qe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ma(Qe.internal.getWidth(t)/2)+" "+Ma(Qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=gs(t);e.scope=t.scope;var n=[],r=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ma(Qe.internal.getWidth(t)/2)+" "+Ma(Qe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Qe.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Qe.RadioButton.Cross.YesNormal,e.D[t]=Qe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=gs(t);e.scope=t.scope;var n=[],r=Qe.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+ht(Qe.internal.getWidth(t)-2)+" "+ht(Qe.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ht(r.x1.x)+" "+ht(r.x1.y)+" m"),n.push(ht(r.x2.x)+" "+ht(r.x2.y)+" l"),n.push(ht(r.x4.x)+" "+ht(r.x4.y)+" m"),n.push(ht(r.x3.x)+" "+ht(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=gs(t);e.scope=t.scope;var n=Qe.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+ht(Qe.internal.getWidth(t))+" "+ht(Qe.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ht(Qe.internal.getWidth(t)-2)+" "+ht(Qe.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ht(n.x1.x)+" "+ht(n.x1.y)+" m"),r.push(ht(n.x2.x)+" "+ht(n.x2.y)+" l"),r.push(ht(n.x4.x)+" "+ht(n.x4.y)+" m"),r.push(ht(n.x3.x)+" "+ht(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=gs(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ht(Qe.internal.getWidth(t))+" "+ht(Qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Qe.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Qe.internal.getWidth(t),n=Qe.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Qe.internal.getWidth=function(t){var e=0;return Ot(t)==="object"&&(e=j4(t.Rect[2])),e},Qe.internal.getHeight=function(t){var e=0;return Ot(t)==="object"&&(e=j4(t.Rect[3])),e};var RW=cn.addField=function(t){if(kW(this,t),!(t instanceof ns))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};cn.AcroFormChoiceField=du,cn.AcroFormListBox=hu,cn.AcroFormComboBox=fu,cn.AcroFormEditBox=ym,cn.AcroFormButton=Gn,cn.AcroFormPushButton=vm,cn.AcroFormRadioButton=pu,cn.AcroFormCheckBox=wm,cn.AcroFormTextField=kl,cn.AcroFormPasswordField=bm,cn.AcroFormAppearance=Qe,cn.AcroForm={ChoiceField:du,ListBox:hu,ComboBox:fu,EditBox:ym,Button:Gn,PushButton:vm,RadioButton:pu,CheckBox:wm,TextField:kl,PasswordField:bm,Appearance:Qe},it.AcroForm={ChoiceField:du,ListBox:hu,ComboBox:fu,EditBox:ym,Button:Gn,PushButton:vm,RadioButton:pu,CheckBox:wm,TextField:kl,PasswordField:bm,Appearance:Qe};it.AcroForm;function uA(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(L,k){var I,_,V,U,P,$=e;if((k=k||e)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(D(L))for(P in n)for(V=n[P],I=0;I<V.length;I+=1){for(U=!0,_=0;_<V[I].length;_+=1)if(V[I][_]!==void 0&&V[I][_]!==L[_]){U=!1;break}if(U===!0){$=P;break}}else for(P in n)for(V=n[P],I=0;I<V.length;I+=1){for(U=!0,_=0;_<V[I].length;_+=1)if(V[I][_]!==void 0&&V[I][_]!==L.charCodeAt(_)){U=!1;break}if(U===!0){$=P;break}}return $===e&&k!==e&&($=k),$},i=function L(k){for(var I=this.internal.write,_=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:k.width}),U.push({key:"Height",value:k.height}),k.colorSpace===b.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===b.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var P="",$=0,W=k.transparency.length;$<W;$++)P+=k.transparency[$]+" "+k.transparency[$]+" ";U.push({key:"Mask",value:"["+P+"]"})}k.sMask!==void 0&&U.push({key:"SMask",value:k.objectId+1+" 0 R"});var te=k.filter!==void 0?["/"+k.filter]:void 0;if(_({data:k.data,additionalKeyValues:U,alreadyAppliedFilters:te,objectId:k.objectId}),I("endobj"),"sMask"in k&&k.sMask!==void 0){var ne="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,C={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:ne,data:k.sMask};"filter"in k&&(C.filter=k.filter),L.call(this,C)}if(k.colorSpace===b.INDEXED){var K=this.internal.newObject();_({data:R(new Uint8Array(k.palette)),objectId:K}),I("endobj")}},s=function(){var L=this.internal.collections.addImage_images;for(var k in L)i.call(this,L[k])},a=function(){var L,k=this.internal.collections.addImage_images,I=this.internal.write;for(var _ in k)I("/I"+(L=k[_]).index,L.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var L=this.internal.collections.addImage_images;return o.call(this),L},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(L){return typeof t["process"+L.toUpperCase()]=="function"},d=function(L){return Ot(L)==="object"&&L.nodeType===1},f=function(L,k){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var I=""+L.getAttribute("src");if(I.indexOf("data:image/")===0)return wh(unescape(I).split("base64,").pop());var _=t.loadFile(I,!0);if(_!==void 0)return _}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var V;switch(k){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;case"JPEG":case"JPG":default:V="image/jpeg"}return wh(L.toDataURL(V,1).split("base64,").pop())}},h=function(L){var k=this.internal.collections.addImage_images;if(k){for(var I in k)if(L===k[I].alias)return k[I]}},g=function(L,k,I){return L||k||(L=-96,k=-96),L<0&&(L=-1*I.width*72/L/this.internal.scaleFactor),k<0&&(k=-1*I.height*72/k/this.internal.scaleFactor),L===0&&(L=k*I.width/I.height),k===0&&(k=L*I.height/I.width),[L,k]},y=function(L,k,I,_,V,U){var P=g.call(this,I,_,V),$=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,te=l.call(this);if(I=P[0],_=P[1],te[V.index]=V,U){U*=Math.PI/180;var ne=Math.cos(U),C=Math.sin(U),K=function(H){return H.toFixed(4)},q=[K(ne),K(C),K(-1*C),K(ne),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,$(L),W(k+_),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([$(I),"0","0",$(_),"0","0","cm"].join(" "))):this.internal.write([$(I),"0","0",$(_),$(L),W(k+_),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(L){var k,I,_=0;if(typeof L=="string")for(I=L.length,k=0;k<I;k++)_=(_<<5)-_+L.charCodeAt(k),_|=0;else if(D(L))for(I=L.byteLength/2,k=0;k<I;k++)_=(_<<5)-_+L[k],_|=0;return _},x=t.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var k=!0;return L.length===0&&(k=!1),L.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(k=!1),k},N=t.__addimage__.extractImageFromDataUrl=function(L){var k=(L=L||"").split("base64,"),I=null;if(k.length===2){var _=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(k[0]);Array.isArray(_)&&(I={mimeType:_[1],charset:_[2],data:k[1]})}return I},O=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(L){return O()&&L instanceof ArrayBuffer};var D=t.__addimage__.isArrayBufferView=function(L){return O()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},M=t.__addimage__.binaryStringToUint8Array=function(L){for(var k=L.length,I=new Uint8Array(k),_=0;_<k;_++)I[_]=L.charCodeAt(_);return I},R=t.__addimage__.arrayBufferToBinaryString=function(L){for(var k="",I=D(L)?L:new Uint8Array(L),_=0;_<I.length;_+=8192)k+=String.fromCharCode.apply(null,I.subarray(_,_+8192));return k};t.addImage=function(){var L,k,I,_,V,U,P,$,W;if(typeof arguments[1]=="number"?(k=e,I=arguments[1],_=arguments[2],V=arguments[3],U=arguments[4],P=arguments[5],$=arguments[6],W=arguments[7]):(k=arguments[1],I=arguments[2],_=arguments[3],V=arguments[4],U=arguments[5],P=arguments[6],$=arguments[7],W=arguments[8]),Ot(L=arguments[0])==="object"&&!d(L)&&"imageData"in L){var te=L;L=te.imageData,k=te.format||k||e,I=te.x||I||0,_=te.y||_||0,V=te.w||te.width||V,U=te.h||te.height||U,P=te.alias||P,$=te.compression||$,W=te.rotation||te.angle||W}var ne=this.internal.getFilters();if($===void 0&&ne.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(I)||isNaN(_))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var C=A.call(this,L,k,P,$);return y.call(this,I,_,V,U,C,W),this};var A=function(L,k,I,_){var V,U,P;if(typeof L=="string"&&r(L)===e){L=unescape(L);var $=B(L,!1);($!==""||($=t.loadFile(L,!0))!==void 0)&&(L=$)}if(d(L)&&(L=f(L,k)),k=r(L,k),!u(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((P=I)==null||P.length===0)&&(I=function(W){return typeof W=="string"||D(W)?w(W):D(W.data)?w(W.data):null}(L)),(V=h.call(this,I))||(O()&&(L instanceof Uint8Array||k==="RGBA"||(U=L,L=M(L))),V=this["process"+k.toUpperCase()](L,c.call(this),I,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in t.image_compression?W:m.NONE}(_),U)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},B=t.__addimage__.convertBase64ToBinaryString=function(L,k){var I;k=typeof k!="boolean"||k;var _,V="";if(typeof L=="string"){_=(I=N(L))!==null?I.data:L;try{V=wh(_)}catch(U){if(k)throw x(_)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};t.getImageProperties=function(L){var k,I,_="";if(d(L)&&(L=f(L)),typeof L=="string"&&r(L)===e&&((_=B(L,!1))===""&&(_=t.loadFile(L)||""),L=_),I=r(L),!u(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(!O()||L instanceof Uint8Array||(L=M(L)),!(k=this["process"+I.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=I,k}})(it.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};it.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){r=c[f];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(y.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+h(m(r.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(m(w))+") >>",y.content=s;var x=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+x,r.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(y.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var N=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(g(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var O=this.annotations._nameMap[r.options.name];r.options.pageNumber=O.page,r.options.top=O.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var D=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+D+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(n,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(it.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=t.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&i.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(y){var b=0,m=n,w="",x=0;for(b=0;b<y.length;b+=1)m[y.charCodeAt(b)]!==void 0?(x++,typeof(m=m[y.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(m),m=n,x=0),b===y.length-1&&(m=n,w+=y.charAt(b-(x-1)),b-=x-1,x=0)):(m=n,w+=y.charAt(b-x),b-=x,x=0);return w};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(y,b,m){return a(y)?s(y)===!1?-1:!c(y)||!a(b)&&!a(m)||!a(m)&&o(b)||o(y)&&!a(b)||o(y)&&l(b)||o(y)&&o(b)?0:u(y)&&a(b)&&!o(b)&&a(m)&&c(m)?3:o(y)||!a(m)?1:2:-1},h=function(y){var b=0,m=0,w=0,x="",N="",O="",D=(y=y||"").split("\\s+"),M=[];for(b=0;b<D.length;b+=1){for(M.push(""),m=0;m<D[b].length;m+=1)x=D[b][m],N=D[b][m-1],O=D[b][m+1],a(x)?(w=f(x,N,O),M[b]+=w!==-1?String.fromCharCode(e[x.charCodeAt(0)][w]):x):M[b]+=x;M[b]=d(M[b])}return M.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var y,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(b)){var w=0;for(m=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?m.push([h(b[w][0]),b[w][1],b[w][2]]):m.push([h(b[w])]);y=m}else y=h(b);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",g])}(it.API),it.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(it.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(y){g=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,h=0,g=0,y=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=c.maxWidth;m>0?typeof l=="string"?l=this.splitTextToSize(l,m):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(x,N){return x.concat(b.splitTextToSize(N,m))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)h<(y=this.getStringUnitWidth(l[w],{font:d})*u)&&(h=y);return h!==0&&(g=l.length),{w:h/=f,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,d,f){if(r.call(this),!u)throw new Error("No data for PDF table.");var h,g,y,b,m=[],w=[],x=[],N={},O={},D=[],M=[],R=(f=f||{}).autoSize||!1,A=f.printHeaders!==!1,B=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,L=f.margins||Object.assign({width:this.getPageWidth()},e),k=typeof f.padding=="number"?f.padding:3,I=f.headerBackgroundColor||"#c8c8c8",_=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=_,this.setFontSize(B),d==null)w=m=Object.keys(u[0]),x=m.map(function(){return"left"});else if(Array.isArray(d)&&Ot(d[0])==="object")for(m=d.map(function(te){return te.name}),w=d.map(function(te){return te.prompt||te.name||""}),x=d.map(function(te){return te.align||"left"}),h=0;h<d.length;h+=1)O[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(w=m=d,x=m.map(function(){return"left"}));if(R||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<m.length;h+=1){for(N[b=m[h]]=u.map(function(te){return te[b]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=N[b],this.setFont(void 0,"normal"),y=0;y<g.length;y+=1)D.push(this.getTextDimensions(g[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[b]=Math.max.apply(null,D)+k+k,D=[]}if(A){var V={};for(h=0;h<m.length;h+=1)V[m[h]]={},V[m[h]].text=w[h],V[m[h]].align=x[h];var U=o.call(this,V,O);M=m.map(function(te){return new s(l,c,O[te],U,V[te].text,void 0,V[te].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var P=d.reduce(function(te,ne){return te[ne.name]=ne.align,te},{});for(h=0;h<u.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:u[h]},this);var $=o.call(this,u[h],O);for(y=0;y<m.length;y+=1){var W=u[h][m[y]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:y,data:W},this),a.call(this,new s(l,c,O[m[y]],$,W,h+2,P[m[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(h){var g=l[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+u+u},this).reduce(function(h,g){return Math.max(h,g)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(g)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}}(it.API);var dA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},hA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Mv=uA(hA),fA=[100,200,300,400,500,600,700,800,900],NW=uA(fA);function Uv(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return dA[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof Mv[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function V4(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var CW={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},W4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function H4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function AW(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},CW,n.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=Uv(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+H4(s)+"' and default family '"+r+"'.");if(a=function(l,c){if(c[l])return c[l];var u=Mv[l],d=u<=Mv.normal?-1:1,f=V4(c,hA,u,d);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(s.stretch,a),a=function(l,c){if(c[l])return c[l];for(var u=dA[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=NW[l],d=V4(c,fA,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+H4(s)+"'.");return a}function q4(t){return t.trimLeft()}function IW(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function PW(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Vp,$4,G4,M2=["times"];(function(t){var e,n,r,i,s,a,o,l,c,u=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new a,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new a,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=C;Object.defineProperty(this,"pdf",{get:function(){return K}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(ae){q=!!ae}});var H=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return H},set:function(ae){H=!!ae}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(ae){isNaN(ae)||(oe=ae)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(ae){isNaN(ae)||(pe=ae)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ae){var G;typeof ae=="number"?G=[ae,ae,ae,ae]:((G=new Array(4))[0]=ae[0],G[1]=ae.length>=2?ae[1]:G[0],G[2]=ae.length>=3?ae[2]:G[0],G[3]=ae.length>=4?ae[3]:G[1]),c.margin=G}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(ae){ue=ae}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(ae){de=ae}});var Re=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Re},set:function(ae){Re=ae}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ae){ae instanceof u&&(c=ae)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ae){c.path=ae}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(ae){Se=ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ae){var G;G=f(ae),this.ctx.fillStyle=G.style,this.ctx.isFillTransparent=G.a===0,this.ctx.fillOpacity=G.a,this.pdf.setFillColor(G.r,G.g,G.b,{a:G.a}),this.pdf.setTextColor(G.r,G.g,G.b,{a:G.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ae){var G=f(ae);this.ctx.strokeStyle=G.style,this.ctx.isStrokeTransparent=G.a===0,this.ctx.strokeOpacity=G.a,G.a===0?this.pdf.setDrawColor(255,255,255):(G.a,this.pdf.setDrawColor(G.r,G.g,G.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ae){["butt","round","square"].indexOf(ae)!==-1&&(this.ctx.lineCap=ae,this.pdf.setLineCap(ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ae){isNaN(ae)||(this.ctx.lineWidth=ae,this.pdf.setLineWidth(ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ae){["bevel","round","miter"].indexOf(ae)!==-1&&(this.ctx.lineJoin=ae,this.pdf.setLineJoin(ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ae){isNaN(ae)||(this.ctx.miterLimit=ae,this.pdf.setMiterLimit(ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ae){this.ctx.textBaseline=ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ae){["right","end","center","left","start"].indexOf(ae)!==-1&&(this.ctx.textAlign=ae)}});var Le=null;function Me(ae,G){if(Le===null){var ee=function(Q){var re=[];return Object.keys(Q).forEach(function(ge){Q[ge].forEach(function(ye){var ce=null;switch(ye){case"bold":ce={family:ge,weight:"bold"};break;case"italic":ce={family:ge,style:"italic"};break;case"bolditalic":ce={family:ge,weight:"bold",style:"italic"};break;case"":case"normal":ce={family:ge}}ce!==null&&(ce.ref={name:ge,style:ye},re.push(ce))})}),re}(ae.getFontList());Le=function(Q){for(var re={},ge=0;ge<Q.length;++ge){var ye=Uv(Q[ge]),ce=ye.family,xe=ye.stretch,Ne=ye.style,ke=ye.weight;re[ce]=re[ce]||{},re[ce][xe]=re[ce][xe]||{},re[ce][xe][Ne]=re[ce][xe][Ne]||{},re[ce][xe][Ne][ke]=ye}return re}(ee.concat(G))}return Le}var F=null;Object.defineProperty(this,"fontFaces",{get:function(){return F},set:function(ae){Le=null,F=ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ae){var G;if(this.ctx.font=ae,(G=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ae))!==null){var ee=G[1],Q=(G[2],G[3]),re=G[4],ge=(G[5],G[6]),ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(re)[2];re=Math.floor(ye==="px"?parseFloat(re)*this.pdf.internal.scaleFactor:ye==="em"?parseFloat(re)*this.pdf.getFontSize():parseFloat(re)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(re);var ce=function(Ge){var Je,Ue,kt=[],Xe=Ge.trim();if(Xe==="")return M2;if(Xe in W4)return[W4[Xe]];for(;Xe!=="";){switch(Ue=null,Je=(Xe=q4(Xe)).charAt(0)){case'"':case"'":Ue=IW(Xe.substring(1),Je);break;default:Ue=PW(Xe)}if(Ue===null||(kt.push(Ue[0]),(Xe=q4(Ue[1]))!==""&&Xe.charAt(0)!==","))return M2;Xe=Xe.replace(/^,/,"")}return kt}(ge);if(this.fontFaces){var xe=AW(Me(this.pdf,this.fontFaces),ce.map(function(Ge){return{family:Ge,stretch:"normal",weight:Q,style:ee}}));this.pdf.setFont(xe.ref.name,xe.ref.style)}else{var Ne="";(Q==="bold"||parseInt(Q,10)>=700||ee==="bold")&&(Ne="bold"),ee==="italic"&&(Ne+="italic"),Ne.length===0&&(Ne="normal");for(var ke="",Fe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ye=0;Ye<ce.length;Ye++){if(this.pdf.internal.getFont(ce[Ye],Ne,{noFallback:!0,disableWarning:!0})!==void 0){ke=ce[Ye];break}if(Ne==="bolditalic"&&this.pdf.internal.getFont(ce[Ye],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ke=ce[Ye],Ne="bold";else if(this.pdf.internal.getFont(ce[Ye],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ke=ce[Ye],Ne="normal";break}}if(ke===""){for(var je=0;je<ce.length;je++)if(Fe[ce[je]]){ke=Fe[ce[je]];break}}ke=ke===""?"Times":ke,this.pdf.setFont(ke,Ne)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ae){this.ctx.globalCompositeOperation=ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ae){this.ctx.globalAlpha=ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ae){this.ctx.lineDashOffset=ae,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ae){this.ctx.lineDash=ae,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ae){this.ctx.ignoreClearRect=!!ae}})};d.prototype.setLineDash=function(C){this.lineDash=C},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){N.call(this,"fill",!1)},d.prototype.stroke=function(){N.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(C,K){if(isNaN(C)||isNaN(K))throw jt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new a(C,K));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new a(C,K)},d.prototype.closePath=function(){var C=new a(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Ot(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){C=new a(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(C.x,C.y)},d.prototype.lineTo=function(C,K){if(isNaN(C)||isNaN(K))throw jt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new a(C,K));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new a(q.x,q.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},d.prototype.quadraticCurveTo=function(C,K,q,H){if(isNaN(q)||isNaN(H)||isNaN(C)||isNaN(K))throw jt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new a(q,H)),pe=this.ctx.transform.applyToPoint(new a(C,K));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new a(oe.x,oe.y)},d.prototype.bezierCurveTo=function(C,K,q,H,oe,pe){if(isNaN(oe)||isNaN(pe)||isNaN(C)||isNaN(K)||isNaN(q)||isNaN(H))throw jt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new a(oe,pe)),de=this.ctx.transform.applyToPoint(new a(C,K)),Re=this.ctx.transform.applyToPoint(new a(q,H));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:Re.x,y2:Re.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new a(ue.x,ue.y)},d.prototype.arc=function(C,K,q,H,oe,pe){if(isNaN(C)||isNaN(K)||isNaN(q)||isNaN(H)||isNaN(oe))throw jt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new a(C,K));C=ue.x,K=ue.y;var de=this.ctx.transform.applyToPoint(new a(0,q)),Re=this.ctx.transform.applyToPoint(new a(0,0));q=Math.sqrt(Math.pow(de.x-Re.x,2)+Math.pow(de.y-Re.y,2))}Math.abs(oe-H)>=2*Math.PI&&(H=0,oe=2*Math.PI),this.path.push({type:"arc",x:C,y:K,radius:q,startAngle:H,endAngle:oe,counterclockwise:pe})},d.prototype.arcTo=function(C,K,q,H,oe){throw new Error("arcTo not implemented.")},d.prototype.rect=function(C,K,q,H){if(isNaN(C)||isNaN(K)||isNaN(q)||isNaN(H))throw jt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,K),this.lineTo(C+q,K),this.lineTo(C+q,K+H),this.lineTo(C,K+H),this.lineTo(C,K),this.lineTo(C+q,K),this.lineTo(C,K)},d.prototype.fillRect=function(C,K,q,H){if(isNaN(C)||isNaN(K)||isNaN(q)||isNaN(H))throw jt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,K,q,H),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},d.prototype.strokeRect=function(C,K,q,H){if(isNaN(C)||isNaN(K)||isNaN(q)||isNaN(H))throw jt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(C,K,q,H),this.stroke())},d.prototype.clearRect=function(C,K,q,H){if(isNaN(C)||isNaN(K)||isNaN(q)||isNaN(H))throw jt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,K,q,H))},d.prototype.save=function(C){C=typeof C!="boolean"||C;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var H=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=H}},d.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(K),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(C){var K,q,H,oe;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))K=0,q=0,H=0,oe=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(pe!==null)K=parseInt(pe[1]),q=parseInt(pe[2]),H=parseInt(pe[3]),oe=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)K=parseInt(pe[1]),q=parseInt(pe[2]),H=parseInt(pe[3]),oe=parseFloat(pe[4]);else{if(oe=1,typeof C=="string"&&C.charAt(0)!=="#"){var ue=new iA(C);C=ue.ok?ue.toHex():"#000000"}C.length===4?(K=C.substring(1,2),K+=K,q=C.substring(2,3),q+=q,H=C.substring(3,4),H+=H):(K=C.substring(1,3),q=C.substring(3,5),H=C.substring(5,7)),K=parseInt(K,16),q=parseInt(q,16),H=parseInt(H,16)}}return{r:K,g:q,b:H,a:oe,style:C}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(C,K,q,H){if(isNaN(K)||isNaN(q)||typeof C!="string")throw jt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(H=isNaN(H)?void 0:H,!h.call(this)){var oe=$(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;k.call(this,{text:C,x:K,y:q,scale:pe,angle:oe,align:this.textAlign,maxWidth:H})}},d.prototype.strokeText=function(C,K,q,H){if(isNaN(K)||isNaN(q)||typeof C!="string")throw jt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){H=isNaN(H)?void 0:H;var oe=$(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;k.call(this,{text:C,x:K,y:q,scale:pe,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:H})}},d.prototype.measureText=function(C){if(typeof C!="string")throw jt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,q=this.pdf.internal.scaleFactor,H=K.internal.getFontSize(),oe=K.getStringUnitWidth(C)*H/K.internal.scaleFactor,pe=function(ue){var de=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this};return new pe({width:oe*=Math.round(96*q/72*1e4)/1e4})},d.prototype.scale=function(C,K){if(isNaN(C)||isNaN(K))throw jt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(C,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.rotate=function(C){if(isNaN(C))throw jt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.translate=function(C,K){if(isNaN(C)||isNaN(K))throw jt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,C,K);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.transform=function(C,K,q,H,oe,pe){if(isNaN(C)||isNaN(K)||isNaN(q)||isNaN(H)||isNaN(oe)||isNaN(pe))throw jt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new l(C,K,q,H,oe,pe);this.ctx.transform=this.ctx.transform.multiply(ue)},d.prototype.setTransform=function(C,K,q,H,oe,pe){C=isNaN(C)?1:C,K=isNaN(K)?0:K,q=isNaN(q)?0:q,H=isNaN(H)?1:H,oe=isNaN(oe)?0:oe,pe=isNaN(pe)?0:pe,this.ctx.transform=new l(C,K,q,H,oe,pe)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(C,K,q,H,oe,pe,ue,de,Re){var Se=this.pdf.getImageProperties(C),Le=1,Me=1,F=1,ae=1;H!==void 0&&de!==void 0&&(F=de/H,ae=Re/oe,Le=Se.width/H*de/H,Me=Se.height/oe*Re/oe),pe===void 0&&(pe=K,ue=q,K=0,q=0),H!==void 0&&de===void 0&&(de=H,Re=oe),H===void 0&&de===void 0&&(de=Se.width,Re=Se.height);for(var G,ee=this.ctx.transform.decompose(),Q=$(ee.rotate.shx),re=new l,ge=(re=(re=(re=re.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale)).applyToRectangle(new o(pe-K*F,ue-q*ae,H*Le,oe*Me)),ye=b.call(this,ge),ce=[],xe=0;xe<ye.length;xe+=1)ce.indexOf(ye[xe])===-1&&ce.push(ye[xe]);if(x(ce),this.autoPaging)for(var Ne=ce[0],ke=ce[ce.length-1],Fe=Ne;Fe<ke+1;Fe++){this.pdf.setPage(Fe);var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=Fe===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=Fe===1?0:Ge+(Fe-2)*Je;if(this.ctx.clip_path.length!==0){var kt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(G,this.posX+this.margin[3],-Ue+je+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=kt}var Xe=JSON.parse(JSON.stringify(ge));Xe=w([Xe],this.posX+this.margin[3],-Ue+je+this.ctx.prevPageLastElemOffset)[0];var Bt=(Fe>Ne||Fe<ke)&&y.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,Je,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,Q),Bt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",ge.x,ge.y,ge.w,ge.h,null,null,Q)};var b=function(C,K,q){var H=[];K=K||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":H.push(Math.floor((C.y+oe)/q)+1);break;case"arc":H.push(Math.floor((C.y+oe-C.radius)/q)+1),H.push(Math.floor((C.y+oe+C.radius)/q)+1);break;case"qct":var pe=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);H.push(Math.floor((pe.y+oe)/q)+1),H.push(Math.floor((pe.y+pe.h+oe)/q)+1);break;case"bct":var ue=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);H.push(Math.floor((ue.y+oe)/q)+1),H.push(Math.floor((ue.y+ue.h+oe)/q)+1);break;case"rect":H.push(Math.floor((C.y+oe)/q)+1),H.push(Math.floor((C.y+C.h+oe)/q)+1)}for(var de=0;de<H.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<H[de];)m.call(this);return H},m=function(){var C=this.fillStyle,K=this.strokeStyle,q=this.font,H=this.lineCap,oe=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=K,this.font=q,this.lineCap=H,this.lineWidth=oe,this.lineJoin=pe},w=function(C,K,q){for(var H=0;H<C.length;H++)switch(C[H].type){case"bct":C[H].x2+=K,C[H].y2+=q;case"qct":C[H].x1+=K,C[H].y1+=q;case"mt":case"lt":case"arc":default:C[H].x+=K,C[H].y+=q}return C},x=function(C){return C.sort(function(K,q){return K-q})},N=function(C,K){for(var q,H,oe=this.fillStyle,pe=this.strokeStyle,ue=this.lineCap,de=this.lineWidth,Re=Math.abs(de*this.ctx.transform.scaleX),Se=this.lineJoin,Le=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),F=[],ae=0;ae<Me.length;ae++)if(Me[ae].x!==void 0)for(var G=b.call(this,Me[ae]),ee=0;ee<G.length;ee+=1)F.indexOf(G[ee])===-1&&F.push(G[ee]);for(var Q=0;Q<F.length;Q++)for(;this.pdf.internal.getNumberOfPages()<F[Q];)m.call(this);if(x(F),this.autoPaging)for(var re=F[0],ge=F[F.length-1],ye=re;ye<ge+1;ye++){this.pdf.setPage(ye),this.fillStyle=oe,this.strokeStyle=pe,this.lineCap=ue,this.lineWidth=Re,this.lineJoin=Se;var ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xe=ye===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=ye===1?0:Ne+(ye-2)*ke;if(this.ctx.clip_path.length!==0){var Ye=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(q,this.posX+this.margin[3],-Fe+xe+this.ctx.prevPageLastElemOffset),O.call(this,C,!0),this.path=Ye}if(H=JSON.parse(JSON.stringify(Le)),this.path=w(H,this.posX+this.margin[3],-Fe+xe+this.ctx.prevPageLastElemOffset),K===!1||ye===0){var je=(ye>re||ye<ge)&&y.call(this);je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ce,ke,null).clip().discardPath()),O.call(this,C,K),je&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=Re,O.call(this,C,K),this.lineWidth=de;this.path=Le},O=function(C,K){if((C!=="stroke"||K||!g.call(this))&&(C==="stroke"||K||!h.call(this))){for(var q,H,oe=[],pe=this.path,ue=0;ue<pe.length;ue++){var de=pe[ue];switch(de.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:de,deltas:[],abs:[]});break;case"lt":var Re=oe.length;if(pe[ue-1]&&!isNaN(pe[ue-1].x)&&(q=[de.x-pe[ue-1].x,de.y-pe[ue-1].y],Re>0)){for(;Re>=0;Re--)if(oe[Re-1].close!==!0&&oe[Re-1].begin!==!0){oe[Re-1].deltas.push(q),oe[Re-1].abs.push(de);break}}break;case"bct":q=[de.x1-pe[ue-1].x,de.y1-pe[ue-1].y,de.x2-pe[ue-1].x,de.y2-pe[ue-1].y,de.x-pe[ue-1].x,de.y-pe[ue-1].y],oe[oe.length-1].deltas.push(q);break;case"qct":var Se=pe[ue-1].x+2/3*(de.x1-pe[ue-1].x),Le=pe[ue-1].y+2/3*(de.y1-pe[ue-1].y),Me=de.x+2/3*(de.x1-de.x),F=de.y+2/3*(de.y1-de.y),ae=de.x,G=de.y;q=[Se-pe[ue-1].x,Le-pe[ue-1].y,Me-pe[ue-1].x,F-pe[ue-1].y,ae-pe[ue-1].x,G-pe[ue-1].y],oe[oe.length-1].deltas.push(q);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(de)}}H=K?null:C==="stroke"?"stroke":"fill";for(var ee=!1,Q=0;Q<oe.length;Q++)if(oe[Q].arc)for(var re=oe[Q].abs,ge=0;ge<re.length;ge++){var ye=re[ge];ye.type==="arc"?R.call(this,ye.x,ye.y,ye.radius,ye.startAngle,ye.endAngle,ye.counterclockwise,void 0,K,!ee):I.call(this,ye.x,ye.y),ee=!0}else if(oe[Q].close===!0)this.pdf.internal.out("h"),ee=!1;else if(oe[Q].begin!==!0){var ce=oe[Q].start.x,xe=oe[Q].start.y;_.call(this,oe[Q].deltas,ce,xe),ee=!0}H&&A.call(this,H),K&&B.call(this)}},D=function(C){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-q;case"top":return C+K-q;case"hanging":return C+K-2*q;case"middle":return C+K/2-q;case"ideographic":return C;case"alphabetic":default:return C}},M=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(K,q){this.colorStops.push([K,q])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(C,K,q,H,oe,pe,ue,de,Re){for(var Se=U.call(this,q,H,oe,pe),Le=0;Le<Se.length;Le++){var Me=Se[Le];Le===0&&(Re?L.call(this,Me.x1+C,Me.y1+K):I.call(this,Me.x1+C,Me.y1+K)),V.call(this,C,K,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}de?B.call(this):A.call(this,ue)},A=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(C,K){this.pdf.internal.out(n(C)+" "+r(K)+" m")},k=function(C){var K;switch(C.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var q=this.pdf.getTextDimensions(C.text),H=D.call(this,C.y),oe=M.call(this,H)-q.h,pe=this.ctx.transform.applyToPoint(new a(C.x,H)),ue=this.ctx.transform.decompose(),de=new l;de=(de=(de=de.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var Re,Se,Le,Me=this.ctx.transform.applyToRectangle(new o(C.x,H,q.w,q.h)),F=de.applyToRectangle(new o(C.x,oe,q.w,q.h)),ae=b.call(this,F),G=[],ee=0;ee<ae.length;ee+=1)G.indexOf(ae[ee])===-1&&G.push(ae[ee]);if(x(G),this.autoPaging)for(var Q=G[0],re=G[G.length-1],ge=Q;ge<re+1;ge++){this.pdf.setPage(ge);var ye=ge===1?this.posY+this.margin[0]:this.margin[0],ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xe=this.pdf.internal.pageSize.height-this.margin[2],Ne=xe-this.margin[0],ke=this.pdf.internal.pageSize.width-this.margin[1],Fe=ke-this.margin[3],Ye=ge===1?0:ce+(ge-2)*Ne;if(this.ctx.clip_path.length!==0){var je=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Re,this.posX+this.margin[3],-1*Ye+ye),O.call(this,"fill",!0),this.path=je}var Ge=w([JSON.parse(JSON.stringify(F))],this.posX+this.margin[3],-Ye+ye+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*C.scale),Le=this.lineWidth,this.lineWidth=Le*C.scale);var Je=this.autoPaging!=="text";if(Je||Ge.y+Ge.h<=xe){if(Je||Ge.y>=ye&&Ge.x<=ke){var Ue=Je?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||ke-Ge.x)[0],kt=w([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-Ye+ye+this.ctx.prevPageLastElemOffset)[0],Xe=Je&&(ge>Q||ge<re)&&y.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,Ne,null).clip().discardPath()),this.pdf.text(Ue,kt.x,kt.y,{angle:C.angle,align:K,renderingMode:C.renderingMode}),Xe&&this.pdf.restoreGraphicsState()}}else Ge.y<xe&&(this.ctx.prevPageLastElemOffset+=xe-Ge.y);C.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Le)}else C.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*C.scale),Le=this.lineWidth,this.lineWidth=Le*C.scale),this.pdf.text(C.text,pe.x+this.posX,pe.y+this.posY,{angle:C.angle,align:K,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Le)},I=function(C,K,q,H){q=q||0,H=H||0,this.pdf.internal.out(n(C+q)+" "+r(K+H)+" l")},_=function(C,K,q){return this.pdf.lines(C,K,q,null,null)},V=function(C,K,q,H,oe,pe,ue,de){this.pdf.internal.out([e(i(q+C)),e(s(H+K)),e(i(oe+C)),e(s(pe+K)),e(i(ue+C)),e(s(de+K)),"c"].join(" "))},U=function(C,K,q,H){for(var oe=2*Math.PI,pe=Math.PI/2;K>q;)K-=oe;var ue=Math.abs(q-K);ue<oe&&H&&(ue=oe-ue);for(var de=[],Re=H?-1:1,Se=K;ue>1e-5;){var Le=Se+Re*Math.min(ue,pe);de.push(P.call(this,C,Se,Le)),ue-=Math.abs(Le-Se),Se=Le}return de},P=function(C,K,q){var H=(q-K)/2,oe=C*Math.cos(H),pe=C*Math.sin(H),ue=oe,de=-pe,Re=ue*ue+de*de,Se=Re+ue*oe+de*pe,Le=4/3*(Math.sqrt(2*Re*Se)-Se)/(ue*pe-de*oe),Me=ue-Le*de,F=de+Le*ue,ae=Me,G=-F,ee=H+K,Q=Math.cos(ee),re=Math.sin(ee);return{x1:C*Math.cos(K),y1:C*Math.sin(K),x2:Me*Q-F*re,y2:Me*re+F*Q,x3:ae*Q-G*re,y3:ae*re+G*Q,x4:C*Math.cos(q),y4:C*Math.sin(q)}},$=function(C){return 180*C/Math.PI},W=function(C,K,q,H,oe,pe){var ue=C+.5*(q-C),de=K+.5*(H-K),Re=oe+.5*(q-oe),Se=pe+.5*(H-pe),Le=Math.min(C,oe,ue,Re),Me=Math.max(C,oe,ue,Re),F=Math.min(K,pe,de,Se),ae=Math.max(K,pe,de,Se);return new o(Le,F,Me-Le,ae-F)},te=function(C,K,q,H,oe,pe,ue,de){var Re,Se,Le,Me,F,ae,G,ee,Q,re,ge,ye,ce,xe,Ne=q-C,ke=H-K,Fe=oe-q,Ye=pe-H,je=ue-oe,Ge=de-pe;for(Se=0;Se<41;Se++)Q=(G=(Le=C+(Re=Se/40)*Ne)+Re*((F=q+Re*Fe)-Le))+Re*(F+Re*(oe+Re*je-F)-G),re=(ee=(Me=K+Re*ke)+Re*((ae=H+Re*Ye)-Me))+Re*(ae+Re*(pe+Re*Ge-ae)-ee),Se==0?(ge=Q,ye=re,ce=Q,xe=re):(ge=Math.min(ge,Q),ye=Math.min(ye,re),ce=Math.max(ce,Q),xe=Math.max(xe,re));return new o(Math.round(ge),Math.round(ye),Math.round(ce-ge),Math.round(xe-ye))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,K,q=(C=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:K}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(it.API),function(t){var e=function(s){var a,o,l,c,u,d,f,h,g,y;for(o=[],l=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(y=u%85))/85)-(g=u%85))/85)-(h=u%85))/85)-(f=u%85))/85)%85,o.push(d+33,f+33,h+33,g+33,y+33)):o.push(122);return function(b,m){for(var w=m;w>0;w--)b.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},n=function(s){var a,o,l,c,u,d=String,f="length",h=255,g="charCodeAt",y="slice",b="replace";for(s[y](-2),s=s[y](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),l=[],c=0,u=(s+=a="uuuuu"[y](s[f]%5||5))[f];u>c;c+=5)o=52200625*(s[g](c)-33)+614125*(s[g](c+1)-33)+7225*(s[g](c+2)-33)+85*(s[g](c+3)-33)+(s[g](c+4)-33),l.push(h&o>>24,h&o>>16,h&o>>8,h&o);return function(m,w){for(var x=w;x>0;x--)m.pop()}(l,a[f]),d.fromCharCode.apply(d,l)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=Tv(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(it.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,u){var d=new XMLHttpRequest,f=0,h=function(g){var y=g.length,b=[],m=String.fromCharCode;for(f=0;f<y;f+=1)b.push(m(255&g.charCodeAt(f)));return b.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(h(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return h(d.responseText)}(i,s,a)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(it.API),function(t){function e(){return(at.html2canvas?Promise.resolve(at.html2canvas):Tg(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(at.DOMPurify?Promise.resolve(at.DOMPurify):Tg(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=Ot(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var h=c[f],g=h.src.find(function(y){return y.format==="truetype"});g&&l.addFont(g.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||it.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,c){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,c){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,a,o);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,it.getPageSize=function(a,o,l){if(Ot(a)==="object"){var c=a;a=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var h,g=0,y=0;if(f.hasOwnProperty(d))g=f[d][1]/u,y=f[d][0]/u;else try{g=l[1],y=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",y>g&&(h=y,y=g,g=h);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",g>y&&(h=y,y=g,g=h)}return{width:y,height:g,unit:o,k:u,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Uv):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(it.API),it.API.addJS=function(t){return G4=t,this.internal.events.subscribe("postPutResources",function(){Vp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),$4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+G4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vp!==void 0&&$4!==void 0&&this.internal.out("/Names <</JavaScript "+Vp+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=n.internal.newObject();u.push(d);var f=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(it.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,y={width:0,height:0,numcomponents:1},b=4;b<g;b+=2){if(b+=h,e.indexOf(d.charCodeAt(b+1))!==-1){f=256*d.charCodeAt(b+5)+d.charCodeAt(b+6),y={width:256*d.charCodeAt(b+7)+d.charCodeAt(b+8),height:f,numcomponents:d.charCodeAt(b+9)};break}h=256*d.charCodeAt(b+2)+d.charCodeAt(b+3)}return y}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(it.API);var Ic,Wp,K4,Y4,X4,TW=function(){var t,e,n;function r(s){var a,o,l,c,u,d,f,h,g,y,b,m,w,x;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(a=this.readUInt32(),g=(function(){var N,O;for(O=[],N=0;N<4;++N)O.push(String.fromCharCode(this.data[this.pos++]));return O}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,a-=4),s=(d!=null?d.data:void 0)||this.imgData,m=0;0<=a?m<a:m>a;0<=a?++m:--m)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((y=l-this.transparency.indexed.length)>0)for(w=0;0<=y?w<y:w>y;0<=y?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":f=(b=this.read(a)).indexOf(0),h=String.fromCharCode.apply(String,b.slice(0,f)),this.text[h]=String.fromCharCode.apply(String,b.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(x=this.colorType)===4||x===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(d,f,h,g){var y,b,m,w,x,N,O,D,M,R,A,B,L,k,I,_,V,U,P,$,W,te=Math.ceil((c.width-d)/h),ne=Math.ceil((c.height-f)/g),C=c.width==te&&c.height==ne;for(k=a*te,B=C?o:new Uint8Array(k*ne),N=s.length,L=0,b=0;L<ne&&l<N;){switch(s[l++]){case 0:for(w=V=0;V<k;w=V+=1)B[b++]=s[l++];break;case 1:for(w=U=0;U<k;w=U+=1)y=s[l++],x=w<a?0:B[b-a],B[b++]=(y+x)%256;break;case 2:for(w=P=0;P<k;w=P+=1)y=s[l++],m=(w-w%a)/a,I=L&&B[(L-1)*k+m*a+w%a],B[b++]=(I+y)%256;break;case 3:for(w=$=0;$<k;w=$+=1)y=s[l++],m=(w-w%a)/a,x=w<a?0:B[b-a],I=L&&B[(L-1)*k+m*a+w%a],B[b++]=(y+Math.floor((x+I)/2))%256;break;case 4:for(w=W=0;W<k;w=W+=1)y=s[l++],m=(w-w%a)/a,x=w<a?0:B[b-a],L===0?I=_=0:(I=B[(L-1)*k+m*a+w%a],_=m&&B[(L-1)*k+(m-1)*a+w%a]),O=x+I-_,D=Math.abs(O-x),R=Math.abs(O-I),A=Math.abs(O-_),M=D<=R&&D<=A?x:R<=A?I:_,B[b++]=(y+M)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!C){var K=((f+L*g)*c.width+d)*a,q=L*k;for(w=0;w<te;w+=1){for(var H=0;H<a;H+=1)o[K++]=B[q++];K+=(h-1)*a}}L++}}return s=uW(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},r.prototype.decodePalette=function(){var s,a,o,l,c,u,d,f,h;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,s=0,a=d=0,f=o.length;d<f;a=d+=3)c[l++]=o[a],c[l++]=o[a+1],c[l++]=o[a+2],c[l++]=(h=u[s++])!=null?h:255;return c},r.prototype.copyToImageData=function(s,a){var o,l,c,u,d,f,h,g,y,b,m;if(l=this.colors,y=null,o=this.hasAlphaChannel,this.palette.length&&(y=(m=this._decodedPalette)!=null?m:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(c=s.data||s).length,d=y||a,u=f=0,l===1)for(;u<g;)h=y?4*a[u/4]:f,b=d[h++],c[u++]=b,c[u++]=b,c[u++]=b,c[u++]=o?d[h++]:255,f=h;else for(;u<g;)h=y?4*a[u/4]:f,c[u++]=d[h++],c[u++]=d[h++],c[u++]=d[h++],c[u++]=o?d[h++]:255,f=h},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(at)==="[object Window]"){try{e=at.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,o,l,c,u,d,f,h;if(this.animation){for(h=[],o=u=0,d=(f=this.animation.frames).length;u<d;o=++u)a=f[o],l=s.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,h.push(a.image=t(l));return h}},r.prototype.renderFrame=function(s,a){var o,l,c;return o=(l=this.animation.frames)[a],c=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var a,o,l,c,u,d,f=this;return o=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(a=function(){var h,g;if(h=o++%c,g=l[h],f.renderFrame(s,h),c>1&&o/c<u)return f.animation._timeout=setTimeout(a,g.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function LW(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,u=[],d=0,f=null,h=0,g=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];d=t[e++]|t[e++]<<8,f=t[e++],!(1&y)&&(f=null),h=y>>2&7,e++;break;case 254:for(;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,N=t[e++],O=N>>6&1,D=1<<(7&N)+1,M=o,R=l,A=!1;N>>7&&(A=!0,M=e,R=D,e+=3*D);var B=e;for(e++;;){var L;if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}u.push({x:b,y:m,width:w,height:x,has_local_palette:A,palette_offset:M,palette_size:R,data_offset:B,data_length:e-B,transparent_index:f,interlaced:!!O,delay:d,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(k){if(k<0||k>=u.length)throw new Error("Frame index out of range.");return u[k]},this.decodeAndBlitFrameBGRA=function(k,I){var _=this.frameInfo(k),V=_.width*_.height,U=new Uint8Array(V);Q4(t,_.data_offset,U,V);var P=_.palette_offset,$=_.transparent_index;$===null&&($=256);var W=_.width,te=n-W,ne=W,C=4*(_.y*n+_.x),K=4*((_.y+_.height)*n+_.x),q=C,H=4*te;_.interlaced===!0&&(H+=4*n*7);for(var oe=8,pe=0,ue=U.length;pe<ue;++pe){var de=U[pe];if(ne===0&&(ne=W,(q+=H)>=K&&(H=4*te+4*n*(oe-1),q=C+(W+te)*(oe<<1),oe>>=1)),de===$)q+=4;else{var Re=t[P+3*de],Se=t[P+3*de+1],Le=t[P+3*de+2];I[q++]=Le,I[q++]=Se,I[q++]=Re,I[q++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(k,I){var _=this.frameInfo(k),V=_.width*_.height,U=new Uint8Array(V);Q4(t,_.data_offset,U,V);var P=_.palette_offset,$=_.transparent_index;$===null&&($=256);var W=_.width,te=n-W,ne=W,C=4*(_.y*n+_.x),K=4*((_.y+_.height)*n+_.x),q=C,H=4*te;_.interlaced===!0&&(H+=4*n*7);for(var oe=8,pe=0,ue=U.length;pe<ue;++pe){var de=U[pe];if(ne===0&&(ne=W,(q+=H)>=K&&(H=4*te+4*n*(oe-1),q=C+(W+te)*(oe<<1),oe>>=1)),de===$)q+=4;else{var Re=t[P+3*de],Se=t[P+3*de+1],Le=t[P+3*de+2];I[q++]=Re,I[q++]=Se,I[q++]=Le,I[q++]=255}--ne}}}function Q4(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,d=0,f=0,h=t[e++],g=new Int32Array(4096),y=null;;){for(;u<16&&h!==0;)d|=t[e++]<<u,u+=8,h===1?h=t[e++]:--h;if(u<l)break;var b=d&c;if(d>>=l,u-=l,b!==s){if(b===a)break;for(var m=b<o?b:y,w=0,x=m;x>s;)x=g[x]>>8,++w;var N=x;if(f+w+(m!==b?1:0)>r)return void jt.log("Warning, gif stream longer than expected.");n[f++]=N;var O=f+=w;for(m!==b&&(n[f++]=N),x=m;w--;)x=g[x],n[--O]=255&x,x>>=8;y!==null&&o<4096&&(g[o++]=y<<8|N,o>=c+1&&l<12&&(++l,c=c<<1|1)),y=b}else o=a+1,c=(1<<(l=i+1))-1,y=null}return f!==r&&jt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function U2(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),g=new Array(64),y=[],b=0,m=7,w=new Array(64),x=new Array(64),N=new Array(64),O=new Array(256),D=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],_=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(C,K){for(var q=0,H=0,oe=new Array,pe=1;pe<=16;pe++){for(var ue=1;ue<=C[pe];ue++)oe[K[H]]=[],oe[K[H]][0]=q,oe[K[H]][1]=pe,H++,q++;q*=2}return oe}function P(C){for(var K=C[0],q=C[1]-1;q>=0;)K&1<<q&&(b|=1<<m),q--,--m<0&&(b==255?($(255),$(0)):$(b),m=7,b=0)}function $(C){y.push(C)}function W(C){$(C>>8&255),$(255&C)}function te(C,K,q,H,oe){for(var pe,ue=oe[0],de=oe[240],Re=function(re,ge){var ye,ce,xe,Ne,ke,Fe,Ye,je,Ge,Je,Ue=0;for(Ge=0;Ge<8;++Ge){ye=re[Ue],ce=re[Ue+1],xe=re[Ue+2],Ne=re[Ue+3],ke=re[Ue+4],Fe=re[Ue+5],Ye=re[Ue+6];var kt=ye+(je=re[Ue+7]),Xe=ye-je,Bt=ce+Ye,mt=ce-Ye,gt=xe+Fe,vr=xe-Fe,xt=Ne+ke,li=Ne-ke,Pt=kt+xt,ir=kt-xt,Jt=Bt+gt,_t=Bt-gt;re[Ue]=Pt+Jt,re[Ue+4]=Pt-Jt;var tt=.707106781*(_t+ir);re[Ue+2]=ir+tt,re[Ue+6]=ir-tt;var Et=.382683433*((Pt=li+vr)-(_t=mt+Xe)),ss=.5411961*Pt+Et,Kt=1.306562965*_t+Et,zn=.707106781*(Jt=vr+mt),as=Xe+zn,rt=Xe-zn;re[Ue+5]=rt+ss,re[Ue+3]=rt-ss,re[Ue+1]=as+Kt,re[Ue+7]=as-Kt,Ue+=8}for(Ue=0,Ge=0;Ge<8;++Ge){ye=re[Ue],ce=re[Ue+8],xe=re[Ue+16],Ne=re[Ue+24],ke=re[Ue+32],Fe=re[Ue+40],Ye=re[Ue+48];var Ii=ye+(je=re[Ue+56]),os=ye-je,Pr=ce+Ye,Ln=ce-Ye,Sn=xe+Fe,Gr=xe-Fe,Jl=Ne+ke,Ls=Ne-ke,Pi=Ii+Jl,Ti=Ii-Jl,Li=Pr+Sn,ls=Pr-Sn;re[Ue]=Pi+Li,re[Ue+32]=Pi-Li;var ci=.707106781*(ls+Ti);re[Ue+16]=Ti+ci,re[Ue+48]=Ti-ci;var cs=.382683433*((Pi=Ls+Gr)-(ls=Ln+os)),Wo=.5411961*Pi+cs,Zl=1.306562965*ls+cs,ec=.707106781*(Li=Gr+Ln),tc=os+ec,nc=os-ec;re[Ue+40]=nc+Wo,re[Ue+24]=nc-Wo,re[Ue+8]=tc+Zl,re[Ue+56]=tc-Zl,Ue++}for(Ge=0;Ge<64;++Ge)Je=re[Ge]*ge[Ge],h[Ge]=Je>0?Je+.5|0:Je-.5|0;return h}(C,K),Se=0;Se<64;++Se)g[M[Se]]=Re[Se];var Le=g[0]-q;q=g[0],Le==0?P(H[0]):(P(H[f[pe=32767+Le]]),P(d[pe]));for(var Me=63;Me>0&&g[Me]==0;)Me--;if(Me==0)return P(ue),q;for(var F,ae=1;ae<=Me;){for(var G=ae;g[ae]==0&&ae<=Me;)++ae;var ee=ae-G;if(ee>=16){F=ee>>4;for(var Q=1;Q<=F;++Q)P(de);ee&=15}pe=32767+g[ae],P(oe[(ee<<4)+f[pe]]),P(d[pe]),ae++}return Me!=63&&P(ue),q}function ne(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(K){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],H=0;H<64;H++){var oe=a((q[H]*K+50)/100);oe=Math.min(Math.max(oe,1),255),o[M[H]]=oe}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var de=a((pe[ue]*K+50)/100);de=Math.min(Math.max(de,1),255),l[M[ue]]=de}for(var Re=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,Le=0;Le<8;Le++)for(var Me=0;Me<8;Me++)c[Se]=1/(o[M[Se]]*Re[Le]*Re[Me]*8),u[Se]=1/(l[M[Se]]*Re[Le]*Re[Me]*8),Se++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,K){K&&ne(K),y=new Array,b=0,m=7,W(65496),W(65504),W(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),W(1),W(1),$(0),$(0),function(){W(65499),W(132),$(0);for(var ce=0;ce<64;ce++)$(o[ce]);$(1);for(var xe=0;xe<64;xe++)$(l[xe])}(),function(ce,xe){W(65472),W(17),$(8),W(xe),W(ce),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}(C.width,C.height),function(){W(65476),W(418),$(0);for(var ce=0;ce<16;ce++)$(R[ce+1]);for(var xe=0;xe<=11;xe++)$(A[xe]);$(16);for(var Ne=0;Ne<16;Ne++)$(B[Ne+1]);for(var ke=0;ke<=161;ke++)$(L[ke]);$(1);for(var Fe=0;Fe<16;Fe++)$(k[Fe+1]);for(var Ye=0;Ye<=11;Ye++)$(I[Ye]);$(17);for(var je=0;je<16;je++)$(_[je+1]);for(var Ge=0;Ge<=161;Ge++)$(V[Ge])}(),W(65498),W(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var q=0,H=0,oe=0;b=0,m=7,this.encode.displayName="_encode_";for(var pe,ue,de,Re,Se,Le,Me,F,ae,G=C.data,ee=C.width,Q=C.height,re=4*ee,ge=0;ge<Q;){for(pe=0;pe<re;){for(Se=re*ge+pe,Me=-1,F=0,ae=0;ae<64;ae++)Le=Se+(F=ae>>3)*re+(Me=4*(7&ae)),ge+F>=Q&&(Le-=re*(ge+1+F-Q)),pe+Me>=re&&(Le-=pe+Me-re+4),ue=G[Le++],de=G[Le++],Re=G[Le++],w[ae]=(D[ue]+D[de+256>>0]+D[Re+512>>0]>>16)-128,x[ae]=(D[ue+768>>0]+D[de+1024>>0]+D[Re+1280>>0]>>16)-128,N[ae]=(D[ue+1280>>0]+D[de+1536>>0]+D[Re+1792>>0]>>16)-128;q=te(w,c,q,e,r),H=te(x,u,H,n,i),oe=te(N,u,oe,n,i),pe+=32}ge+=8}if(m>=0){var ye=[];ye[1]=m+1,ye[0]=(1<<m+1)-1,P(ye)}return W(65497),new Uint8Array(y)},t=t||50,function(){for(var C=String.fromCharCode,K=0;K<256;K++)O[K]=C(K)}(),e=U(R,A),n=U(k,I),r=U(B,L),i=U(_,V),function(){for(var C=1,K=2,q=1;q<=15;q++){for(var H=C;H<K;H++)f[32767+H]=q,d[32767+H]=[],d[32767+H][1]=q,d[32767+H][0]=H;for(var oe=-(K-1);oe<=-C;oe++)f[32767+oe]=q,d[32767+oe]=[],d[32767+oe][1]=q,d[32767+oe][0]=K-1+oe;C<<=1,K<<=1}}(),function(){for(var C=0;C<256;C++)D[C]=19595*C,D[C+256>>0]=38470*C,D[C+512>>0]=7471*C+32768,D[C+768>>0]=-11059*C,D[C+1024>>0]=-21709*C,D[C+1280>>0]=32768*C+8421375,D[C+1536>>0]=-27439*C,D[C+1792>>0]=-5329*C}(),ne(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ji(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function J4(t){function e(R){if(!R)throw Error("assert :P")}function n(R,A,B){for(var L=0;4>L;L++)if(R[A+L]!=B.charCodeAt(L))return!0;return!1}function r(R,A,B,L,k){for(var I=0;I<k;I++)R[A+I]=B[L+I]}function i(R,A,B,L){for(var k=0;k<L;k++)R[A+k]=B}function s(R){return new Int32Array(R)}function a(R,A){for(var B=[],L=0;L<R;L++)B.push(new A);return B}function o(R,A){var B=[];return function L(k,I,_){for(var V=_[I],U=0;U<V&&(k.push(_.length>I+1?[]:new A),!(_.length<I+1));U++)L(k[U],I+1,_)}(B,0,R),B}var l=function(){var R=this;function A(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function B(p,v,S,T,z){e(!(T%S));do p[v+(T-=S)]=z;while(0<T)}function L(p,v,S,T,z){if(e(2328>=z),512>=z)var Y=s(512);else if((Y=s(z))==null)return 0;return function(X,J,Z,ie,fe,_e){var Ee,we,Te=J,Ce=1<<Z,me=s(16),ve=s(16);for(e(fe!=0),e(ie!=null),e(X!=null),e(0<Z),we=0;we<fe;++we){if(15<ie[we])return 0;++me[ie[we]]}if(me[0]==fe)return 0;for(ve[1]=0,Ee=1;15>Ee;++Ee){if(me[Ee]>1<<Ee)return 0;ve[Ee+1]=ve[Ee]+me[Ee]}for(we=0;we<fe;++we)Ee=ie[we],0<ie[we]&&(_e[ve[Ee]++]=we);if(ve[15]==1)return(ie=new k).g=0,ie.value=_e[0],B(X,Te,1,Ce,ie),Ce;var Ie,Oe=-1,Pe=Ce-1,$e=0,Ve=1,et=1,We=1<<Z;for(we=0,Ee=1,fe=2;Ee<=Z;++Ee,fe<<=1){if(Ve+=et<<=1,0>(et-=me[Ee]))return 0;for(;0<me[Ee];--me[Ee])(ie=new k).g=Ee,ie.value=_e[we++],B(X,Te+$e,fe,We,ie),$e=A($e,Ee)}for(Ee=Z+1,fe=2;15>=Ee;++Ee,fe<<=1){if(Ve+=et<<=1,0>(et-=me[Ee]))return 0;for(;0<me[Ee];--me[Ee]){if(ie=new k,($e&Pe)!=Oe){for(Te+=We,Ie=1<<(Oe=Ee)-Z;15>Oe&&!(0>=(Ie-=me[Oe]));)++Oe,Ie<<=1;Ce+=We=1<<(Ie=Oe-Z),X[J+(Oe=$e&Pe)].g=Ie+Z,X[J+Oe].value=Te-J-Oe}ie.g=Ee-Z,ie.value=_e[we++],B(X,Te+($e>>Z),fe,We,ie),$e=A($e,Ee)}}return Ve!=2*ve[15]-1?0:Ce}(p,v,S,T,z,Y)}function k(){this.value=this.g=0}function I(){this.value=this.g=0}function _(){this.G=a(5,k),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Qn,I)}function V(p,v,S,T){e(p!=null),e(v!=null),e(2147483648>T),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+T,p.Zc=4<=T?S+T-4+1:S,pe(p)}function U(p,v){for(var S=0;0<v--;)S|=de(p,128)<<v;return S}function P(p,v){var S=U(p,v);return ue(p)?-S:S}function $(p,v,S,T){var z,Y=0;for(e(p!=null),e(v!=null),e(4294967288>T),p.Sb=T,p.Ra=0,p.u=0,p.h=0,4<T&&(T=4),z=0;z<T;++z)Y+=v[S+z]<<8*z;p.Ra=Y,p.bb=T,p.oa=v,p.pa=S}function W(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<yc-8>>>0,++p.bb,p.u-=8;q(p)&&(p.h=1,p.u=0)}function te(p,v){if(e(0<=v),!p.h&&v<=gc){var S=K(p)&mc[v];return p.u+=v,W(p),S}return p.h=1,p.u=0}function ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(p){return p.Ra>>>(p.u&yc-1)>>>0}function q(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>yc}function H(p,v){p.u=v,p.h=q(p)}function oe(p){p.u>=md&&(e(p.u>=md),W(p))}function pe(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ue(p){return U(p,1)}function de(p,v){var S=p.Ca;0>p.b&&pe(p);var T=p.b,z=S*v>>>8,Y=(p.I>>>T>z)+0;for(Y?(S-=z,p.I-=z+1<<T>>>0):S=z+1,T=S,z=0;256<=T;)z+=8,T>>=8;return T=7^z+Lr[T],p.b-=T,p.Ca=(S<<T)-1,Y}function Re(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=S>>0&255}function Se(p,v){return p[v+0]<<0|p[v+1]<<8}function Le(p,v){return Se(p,v)|p[v+2]<<16}function Me(p,v){return Se(p,v)|Se(p,v+2)<<16}function F(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=s(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function ae(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function G(){this.X=[],this.Xa=this.Mb=0}function ee(p,v,S,T){e(S!=null),e(T!=null);var z=S[0],Y=T[0];return z==0&&(z=(p*Y+v/2)/v),Y==0&&(Y=(v*z+p/2)/p),0>=z||0>=Y?0:(S[0]=z,T[0]=Y,1)}function Q(p,v){return p+(1<<v)-1>>>v}function re(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function ge(p,v){R[v]=function(S,T,z,Y,X,J,Z){var ie;for(ie=0;ie<X;++ie){var fe=R[p](J[Z+ie-1],z,Y+ie);J[Z+ie]=re(S[T+ie],fe)}}}function ye(){this.ud=this.hd=this.jd=0}function ce(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function xe(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ne(p,v){return xe(p+(p-v+.5>>1))}function ke(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function Fe(p,v,S,T,z,Y,X){for(T=Y[X-1],S=0;S<z;++S)Y[X+S]=T=re(p[v+S],T)}function Ye(p,v,S,T,z){var Y;for(Y=0;Y<S;++Y){var X=p[v+Y],J=X>>8&255,Z=16711935&(Z=(Z=16711935&X)+((J<<16)+J));T[z+Y]=(4278255360&X)+Z>>>0}}function je(p,v){v.jd=p>>0&255,v.hd=p>>8&255,v.ud=p>>16&255}function Ge(p,v,S,T,z,Y){var X;for(X=0;X<T;++X){var J=v[S+X],Z=J>>>8,ie=J,fe=255&(fe=(fe=J>>>16)+((p.jd<<24>>24)*(Z<<24>>24)>>>5));ie=255&(ie=(ie=ie+((p.hd<<24>>24)*(Z<<24>>24)>>>5))+((p.ud<<24>>24)*(fe<<24>>24)>>>5)),z[Y+X]=(4278255360&J)+(fe<<16)+ie}}function Je(p,v,S,T,z){R[v]=function(Y,X,J,Z,ie,fe,_e,Ee,we){for(Z=_e;Z<Ee;++Z)for(_e=0;_e<we;++_e)ie[fe++]=z(J[T(Y[X++])])},R[p]=function(Y,X,J,Z,ie,fe,_e){var Ee=8>>Y.b,we=Y.Ea,Te=Y.K[0],Ce=Y.w;if(8>Ee)for(Y=(1<<Y.b)-1,Ce=(1<<Ee)-1;X<J;++X){var me,ve=0;for(me=0;me<we;++me)me&Y||(ve=T(Z[ie++])),fe[_e++]=z(Te[ve&Ce]),ve>>=Ee}else R["VP8LMapColor"+S](Z,ie,Te,Ce,fe,_e,X,J,we)}}function Ue(p,v,S,T,z){for(S=v+S;v<S;){var Y=p[v++];T[z++]=Y>>16&255,T[z++]=Y>>8&255,T[z++]=Y>>0&255}}function kt(p,v,S,T,z){for(S=v+S;v<S;){var Y=p[v++];T[z++]=Y>>16&255,T[z++]=Y>>8&255,T[z++]=Y>>0&255,T[z++]=Y>>24&255}}function Xe(p,v,S,T,z){for(S=v+S;v<S;){var Y=(X=p[v++])>>16&240|X>>12&15,X=X>>0&240|X>>28&15;T[z++]=Y,T[z++]=X}}function Bt(p,v,S,T,z){for(S=v+S;v<S;){var Y=(X=p[v++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;T[z++]=Y,T[z++]=X}}function mt(p,v,S,T,z){for(S=v+S;v<S;){var Y=p[v++];T[z++]=Y>>0&255,T[z++]=Y>>8&255,T[z++]=Y>>16&255}}function gt(p,v,S,T,z,Y){if(Y==0)for(S=v+S;v<S;)Re(T,((Y=p[v++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),z+=32;else r(T,z,p,v,S)}function vr(p,v){R[v][0]=R[p+"0"],R[v][1]=R[p+"1"],R[v][2]=R[p+"2"],R[v][3]=R[p+"3"],R[v][4]=R[p+"4"],R[v][5]=R[p+"5"],R[v][6]=R[p+"6"],R[v][7]=R[p+"7"],R[v][8]=R[p+"8"],R[v][9]=R[p+"9"],R[v][10]=R[p+"10"],R[v][11]=R[p+"11"],R[v][12]=R[p+"12"],R[v][13]=R[p+"13"],R[v][14]=R[p+"0"],R[v][15]=R[p+"0"]}function xt(p){return p==f1||p==p1||p==tp||p==m1}function li(){this.eb=[],this.size=this.A=this.fb=0}function Pt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ir(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new li,this.f.kb=new Pt,this.sd=null}function Jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function _t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function tt(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Et(p,v){var S=p.T,T=v.ba.f.RGBA,z=T.eb,Y=T.fb+p.ka*T.A,X=mi[v.ba.S],J=p.y,Z=p.O,ie=p.f,fe=p.N,_e=p.ea,Ee=p.W,we=v.cc,Te=v.dc,Ce=v.Mc,me=v.Nc,ve=p.ka,Ie=p.ka+p.T,Oe=p.U,Pe=Oe+1>>1;for(ve==0?X(J,Z,null,null,ie,fe,_e,Ee,ie,fe,_e,Ee,z,Y,null,null,Oe):(X(v.ec,v.fc,J,Z,we,Te,Ce,me,ie,fe,_e,Ee,z,Y-T.A,z,Y,Oe),++S);ve+2<Ie;ve+=2)we=ie,Te=fe,Ce=_e,me=Ee,fe+=p.Rc,Ee+=p.Rc,Y+=2*T.A,X(J,(Z+=2*p.fa)-p.fa,J,Z,we,Te,Ce,me,ie,fe,_e,Ee,z,Y-T.A,z,Y,Oe);return Z+=p.fa,p.j+Ie<p.o?(r(v.ec,v.fc,J,Z,Oe),r(v.cc,v.dc,ie,fe,Pe),r(v.Mc,v.Nc,_e,Ee,Pe),S--):1&Ie||X(J,Z,null,null,ie,fe,_e,Ee,ie,fe,_e,Ee,z,Y+T.A,null,null,Oe),S}function ss(p,v,S){var T=p.F,z=[p.J];if(T!=null){var Y=p.U,X=v.ba.S,J=X==ep||X==tp;v=v.ba.f.RGBA;var Z=[0],ie=p.ka;Z[0]=p.T,p.Kb&&(ie==0?--Z[0]:(--ie,z[0]-=p.width),p.j+p.ka+p.T==p.o&&(Z[0]=p.o-p.j-ie));var fe=v.eb;ie=v.fb+ie*v.A,p=Wt(T,z[0],p.width,Y,Z,fe,ie+(J?0:3),v.A),e(S==Z),p&&xt(X)&&fi(fe,ie,J,Y,Z,v.A)}return 0}function Kt(p){var v=p.ma,S=v.ba.S,T=11>S,z=S==Jf||S==Zf||S==ep||S==h1||S==12||xt(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!fd(v.Oa,p,z?11:12))return 0;if(z&&xt(S)&&De(),p.da)alert("todo:use_scaling");else{if(T){if(v.Ib=tt,p.Kb){if(S=p.U+1>>1,v.memory=s(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=Et,De()}}else alert("todo:EmitYUV");z&&(v.Jb=ss,T&&be())}if(T&&!Ib){for(p=0;256>p;++p)QA[p]=89858*(p-128)+rp>>np,e8[p]=-22014*(p-128)+rp,ZA[p]=-45773*(p-128),JA[p]=113618*(p-128)+rp>>np;for(p=_d;p<v1;++p)v=76283*(p-16)+rp>>np,t8[p-_d]=Kr(v,255),n8[p-_d]=Kr(v+8>>4,15);Ib=1}return 1}function zn(p){var v=p.ma,S=p.U,T=p.T;return e(!(1&p.ka)),0>=S||0>=T?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function as(p){p.ma.memory=null}function rt(p,v,S,T){return te(p,8)!=47?0:(v[0]=te(p,14)+1,S[0]=te(p,14)+1,T[0]=te(p,1),te(p,3)!=0?0:!p.h)}function Ii(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+te(v,S)+1}function os(p,v){return 120<v?v-120:1<=(S=((S=MA[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function Pr(p,v,S){var T=K(S),z=p[v+=255&T].g-8;return 0<z&&(H(S,S.u+8),T=K(S),v+=p[v].value,v+=T&(1<<z)-1),H(S,S.u+p[v].g),p[v].value}function Ln(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function Sn(p,v,S){var T=p.xc;return e((v=T==0?0:p.vc[p.md*(S>>T)+(v>>T)])<p.Wb),p.Ya[v]}function Gr(p,v,S,T){var z=p.ab,Y=p.c*v,X=p.C;v=X+v;var J=S,Z=T;for(T=p.Ta,S=p.Ua;0<z--;){var ie=p.gc[z],fe=X,_e=v,Ee=J,we=Z,Te=(Z=T,J=S,ie.Ea);switch(e(fe<_e),e(_e<=ie.nc),ie.hc){case 2:qf(Ee,we,(_e-fe)*Te,Z,J);break;case 0:var Ce=fe,me=_e,ve=Z,Ie=J,Oe=(We=ie).Ea;Ce==0&&(u1(Ee,we,null,null,1,ve,Ie),Fe(Ee,we+1,0,0,Oe-1,ve,Ie+1),we+=Oe,Ie+=Oe,++Ce);for(var Pe=1<<We.b,$e=Pe-1,Ve=Q(Oe,We.b),et=We.K,We=We.w+(Ce>>We.b)*Ve;Ce<me;){var It=et,Tt=We,Nt=1;for(gd(Ee,we,ve,Ie-Oe,1,ve,Ie);Nt<Oe;){var St=(Nt&~$e)+Pe;St>Oe&&(St=Oe),(0,_a[It[Tt++]>>8&15])(Ee,we+ +Nt,ve,Ie+Nt-Oe,St-Nt,ve,Ie+Nt),Nt=St}we+=Oe,Ie+=Oe,++Ce&$e||(We+=Ve)}_e!=ie.nc&&r(Z,J-Te,Z,J+(_e-fe-1)*Te,Te);break;case 1:for(Te=Ee,me=we,Oe=(Ee=ie.Ea)-(Ie=Ee&~(ve=(we=1<<ie.b)-1)),Ce=Q(Ee,ie.b),Pe=ie.K,ie=ie.w+(fe>>ie.b)*Ce;fe<_e;){for($e=Pe,Ve=ie,et=new ye,We=me+Ie,It=me+Ee;me<We;)je($e[Ve++],et),Ko(et,Te,me,we,Z,J),me+=we,J+=we;me<It&&(je($e[Ve++],et),Ko(et,Te,me,Oe,Z,J),me+=Oe,J+=Oe),++fe&ve||(ie+=Ce)}break;case 3:if(Ee==Z&&we==J&&0<ie.b){for(me=Z,Ee=Te=J+(_e-fe)*Te-(Ie=(_e-fe)*Q(ie.Ea,ie.b)),we=Z,ve=J,Ce=[],Ie=(Oe=Ie)-1;0<=Ie;--Ie)Ce[Ie]=we[ve+Ie];for(Ie=Oe-1;0<=Ie;--Ie)me[Ee+Ie]=Ce[Ie];ui(ie,fe,_e,Z,Te,Z,J)}else ui(ie,fe,_e,Ee,we,Z,J)}J=T,Z=S}Z!=S&&r(T,S,J,Z,Y)}function Jl(p,v){var S=p.V,T=p.Ba+p.c*p.C,z=v-p.C;if(e(v<=p.l.o),e(16>=z),0<z){var Y=p.l,X=p.Ta,J=p.Ua,Z=Y.width;if(Gr(p,z,S,T),z=J=[J],e((S=p.C)<(T=v)),e(Y.v<Y.va),T>Y.o&&(T=Y.o),S<Y.j){var ie=Y.j-S;S=Y.j,z[0]+=ie*Z}if(S>=T?S=0:(z[0]+=4*Y.v,Y.ka=S-Y.j,Y.U=Y.va-Y.v,Y.T=T-S,S=1),S){if(J=J[0],11>(S=p.ca).S){var fe=S.f.RGBA,_e=(T=S.S,z=Y.U,Y=Y.T,ie=fe.eb,fe.A),Ee=Y;for(fe=fe.fb+p.Ma*fe.A;0<Ee--;){var we=X,Te=J,Ce=z,me=ie,ve=fe;switch(T){case Qf:Or(we,Te,Ce,me,ve);break;case Jf:wr(we,Te,Ce,me,ve);break;case f1:wr(we,Te,Ce,me,ve),fi(me,ve,0,Ce,1,0);break;case xb:Ms(we,Te,Ce,me,ve);break;case Zf:gt(we,Te,Ce,me,ve,1);break;case p1:gt(we,Te,Ce,me,ve,1),fi(me,ve,0,Ce,1,0);break;case ep:gt(we,Te,Ce,me,ve,0);break;case tp:gt(we,Te,Ce,me,ve,0),fi(me,ve,1,Ce,1,0);break;case h1:Ea(we,Te,Ce,me,ve);break;case m1:Ea(we,Te,Ce,me,ve),Vt(me,ve,Ce,1,0);break;case _b:Fs(we,Te,Ce,me,ve);break;default:e(0)}J+=Z,fe+=_e}p.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function Ls(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,T=p.Ya[v].H;if(0<S[1][T[1]+0].g||0<S[2][T[2]+0].g||0<S[3][T[3]+0].g)return 0}return 1}function Pi(p,v,S,T,z,Y){if(p.Z!=0){var X=p.qd,J=p.rd;for(e(Na[p.Z]!=null);v<S;++v)Na[p.Z](X,J,T,z,T,z,Y),X=T,J=z,z+=Y;p.qd=X,p.rd=J}}function Ti(p,v){var S=p.l.ma,T=S.Z==0||S.Z==1?p.l.j:p.C;if(T=p.C<T?T:p.C,e(v<=p.l.o),v>T){var z=p.l.width,Y=S.ca,X=S.tb+z*T,J=p.V,Z=p.Ba+p.c*T,ie=p.gc;e(p.ab==1),e(ie[0].hc==3),$f(ie[0],T,v,J,Z,Y,X),Pi(S,T,v,Y,X,z)}p.C=p.Ma=v}function Li(p,v,S,T,z,Y,X){var J=p.$/T,Z=p.$%T,ie=p.m,fe=p.s,_e=S+p.$,Ee=_e;z=S+T*z;var we=S+T*Y,Te=280+fe.ua,Ce=p.Pb?J:16777216,me=0<fe.ua?fe.Wa:null,ve=fe.wc,Ie=_e<we?Sn(fe,Z,J):null;e(p.C<Y),e(we<=z);var Oe=!1;e:for(;;){for(;Oe||_e<we;){var Pe=0;if(J>=Ce){var $e=_e-S;e((Ce=p).Pb),Ce.wd=Ce.m,Ce.xd=$e,0<Ce.s.ua&&ae(Ce.s.Wa,Ce.s.vb),Ce=J+BA}if(Z&ve||(Ie=Sn(fe,Z,J)),e(Ie!=null),Ie.Qb&&(v[_e]=Ie.qb,Oe=!0),!Oe)if(oe(ie),Ie.jc){Pe=ie,$e=v;var Ve=_e,et=Ie.pd[K(Pe)&Qn-1];e(Ie.jc),256>et.g?(H(Pe,Pe.u+et.g),$e[Ve]=et.value,Pe=0):(H(Pe,Pe.u+et.g-256),e(256<=et.value),Pe=et.value),Pe==0&&(Oe=!0)}else Pe=Pr(Ie.G[0],Ie.H[0],ie);if(ie.h)break;if(Oe||256>Pe){if(!Oe)if(Ie.nd)v[_e]=(Ie.qb|Pe<<8)>>>0;else{if(oe(ie),Oe=Pr(Ie.G[1],Ie.H[1],ie),oe(ie),$e=Pr(Ie.G[2],Ie.H[2],ie),Ve=Pr(Ie.G[3],Ie.H[3],ie),ie.h)break;v[_e]=(Ve<<24|Oe<<16|Pe<<8|$e)>>>0}if(Oe=!1,++_e,++Z>=T&&(Z=0,++J,X!=null&&J<=Y&&!(J%16)&&X(p,J),me!=null))for(;Ee<_e;)Pe=v[Ee++],me.X[(506832829*Pe&4294967295)>>>me.Mb]=Pe}else if(280>Pe){if(Pe=Ii(Pe-256,ie),$e=Pr(Ie.G[4],Ie.H[4],ie),oe(ie),$e=os(T,$e=Ii($e,ie)),ie.h)break;if(_e-S<$e||z-_e<Pe)break e;for(Ve=0;Ve<Pe;++Ve)v[_e+Ve]=v[_e+Ve-$e];for(_e+=Pe,Z+=Pe;Z>=T;)Z-=T,++J,X!=null&&J<=Y&&!(J%16)&&X(p,J);if(e(_e<=z),Z&ve&&(Ie=Sn(fe,Z,J)),me!=null)for(;Ee<_e;)Pe=v[Ee++],me.X[(506832829*Pe&4294967295)>>>me.Mb]=Pe}else{if(!(Pe<Te))break e;for(Oe=Pe-280,e(me!=null);Ee<_e;)Pe=v[Ee++],me.X[(506832829*Pe&4294967295)>>>me.Mb]=Pe;Pe=_e,e(!(Oe>>>($e=me).Xa)),v[Pe]=$e.X[Oe],Oe=!0}Oe||e(ie.h==q(ie))}if(p.Pb&&ie.h&&_e<z)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&ae(p.s.vb,p.s.Wa);else{if(ie.h)break e;X!=null&&X(p,J>Y?Y:J),p.a=0,p.$=_e-S}return 1}return p.a=3,0}function ls(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function ci(){var p=new c1;return p==null?null:(p.a=0,p.xb=kb,vr("Predictor","VP8LPredictors"),vr("Predictor","VP8LPredictors_C"),vr("PredictorAdd","VP8LPredictorsAdd"),vr("PredictorAdd","VP8LPredictorsAdd_C"),qf=Ye,Ko=Ge,Or=Ue,wr=kt,Ea=Xe,Fs=Bt,Ms=mt,R.VP8LMapColor32b=vc,R.VP8LMapColor8b=Gf,p)}function cs(p,v,S,T,z){var Y=1,X=[p],J=[v],Z=T.m,ie=T.s,fe=null,_e=0;e:for(;;){if(S)for(;Y&&te(Z,1);){var Ee=X,we=J,Te=T,Ce=1,me=Te.m,ve=Te.gc[Te.ab],Ie=te(me,2);if(Te.Oc&1<<Ie)Y=0;else{switch(Te.Oc|=1<<Ie,ve.hc=Ie,ve.Ea=Ee[0],ve.nc=we[0],ve.K=[null],++Te.ab,e(4>=Te.ab),Ie){case 0:case 1:ve.b=te(me,3)+2,Ce=cs(Q(ve.Ea,ve.b),Q(ve.nc,ve.b),0,Te,ve.K),ve.K=ve.K[0];break;case 3:var Oe,Pe=te(me,8)+1,$e=16<Pe?0:4<Pe?1:2<Pe?2:3;if(Ee[0]=Q(ve.Ea,$e),ve.b=$e,Oe=Ce=cs(Pe,1,0,Te,ve.K)){var Ve,et=Pe,We=ve,It=1<<(8>>We.b),Tt=s(It);if(Tt==null)Oe=0;else{var Nt=We.K[0],St=We.w;for(Tt[0]=We.K[0][0],Ve=1;Ve<1*et;++Ve)Tt[Ve]=re(Nt[St+Ve],Tt[Ve-1]);for(;Ve<4*It;++Ve)Tt[Ve]=0;We.K[0]=null,We.K[0]=Tt,Oe=1}}Ce=Oe;break;case 2:break;default:e(0)}Y=Ce}}if(X=X[0],J=J[0],Y&&te(Z,1)&&!(Y=1<=(_e=te(Z,4))&&11>=_e)){T.a=3;break e}var zt;if(zt=Y)t:{var Ft,pt,Rn,Dr=T,Nn=X,Fr=J,Lt=_e,Xr=S,Qr=Dr.m,Vn=Dr.s,Jn=[null],xr=1,gi=0,fs=UA[Lt];n:for(;;){if(Xr&&te(Qr,1)){var Wn=te(Qr,3)+2,js=Q(Nn,Wn),Zo=Q(Fr,Wn),Ec=js*Zo;if(!cs(js,Zo,0,Dr,Jn))break n;for(Jn=Jn[0],Vn.xc=Wn,Ft=0;Ft<Ec;++Ft){var Ca=Jn[Ft]>>8&65535;Jn[Ft]=Ca,Ca>=xr&&(xr=Ca+1)}}if(Qr.h)break n;for(pt=0;5>pt;++pt){var on=Eb[pt];!pt&&0<Lt&&(on+=1<<Lt),gi<on&&(gi=on)}var w1=a(xr*fs,k),Lb=xr,Ob=a(Lb,_);if(Ob==null)var sp=null;else e(65536>=Lb),sp=Ob;var Ed=s(gi);if(sp==null||Ed==null||w1==null){Dr.a=1;break n}var ap=w1;for(Ft=Rn=0;Ft<xr;++Ft){var Ui=sp[Ft],Sc=Ui.G,kc=Ui.H,Db=0,op=1,Fb=0;for(pt=0;5>pt;++pt){on=Eb[pt],Sc[pt]=ap,kc[pt]=Rn,!pt&&0<Lt&&(on+=1<<Lt);i:{var lp,b1=on,cp=Dr,Sd=Ed,s8=ap,a8=Rn,x1=0,Aa=cp.m,o8=te(Aa,1);if(i(Sd,0,0,b1),o8){var l8=te(Aa,1)+1,c8=te(Aa,1),Mb=te(Aa,c8==0?1:8);Sd[Mb]=1,l8==2&&(Sd[Mb=te(Aa,8)]=1);var up=1}else{var Ub=s(19),Bb=te(Aa,4)+4;if(19<Bb){cp.a=3;var dp=0;break i}for(lp=0;lp<Bb;++lp)Ub[FA[lp]]=te(Aa,3);var _1=void 0,kd=void 0,zb=cp,u8=Ub,hp=b1,jb=Sd,E1=0,Ia=zb.m,Vb=8,Wb=a(128,k);r:for(;L(Wb,0,7,u8,19);){if(te(Ia,1)){var d8=2+2*te(Ia,3);if((_1=2+te(Ia,d8))>hp)break r}else _1=hp;for(kd=0;kd<hp&&_1--;){oe(Ia);var Hb=Wb[0+(127&K(Ia))];H(Ia,Ia.u+Hb.g);var Rc=Hb.value;if(16>Rc)jb[kd++]=Rc,Rc!=0&&(Vb=Rc);else{var h8=Rc==16,qb=Rc-16,f8=OA[qb],$b=te(Ia,LA[qb])+f8;if(kd+$b>hp)break r;for(var p8=h8?Vb:0;0<$b--;)jb[kd++]=p8}}E1=1;break r}E1||(zb.a=3),up=E1}(up=up&&!Aa.h)&&(x1=L(s8,a8,8,Sd,b1)),up&&x1!=0?dp=x1:(cp.a=3,dp=0)}if(dp==0)break n;if(op&&DA[pt]==1&&(op=ap[Rn].g==0),Db+=ap[Rn].g,Rn+=dp,3>=pt){var Rd,S1=Ed[0];for(Rd=1;Rd<on;++Rd)Ed[Rd]>S1&&(S1=Ed[Rd]);Fb+=S1}}if(Ui.nd=op,Ui.Qb=0,op&&(Ui.qb=(Sc[3][kc[3]+0].value<<24|Sc[1][kc[1]+0].value<<16|Sc[2][kc[2]+0].value)>>>0,Db==0&&256>Sc[0][kc[0]+0].value&&(Ui.Qb=1,Ui.qb+=Sc[0][kc[0]+0].value<<8)),Ui.jc=!Ui.Qb&&6>Fb,Ui.jc){var fp,Vs=Ui;for(fp=0;fp<Qn;++fp){var Pa=fp,Ta=Vs.pd[Pa],pp=Vs.G[0][Vs.H[0]+Pa];256<=pp.value?(Ta.g=pp.g+256,Ta.value=pp.value):(Ta.g=0,Ta.value=0,Pa>>=Ln(pp,8,Ta),Pa>>=Ln(Vs.G[1][Vs.H[1]+Pa],16,Ta),Pa>>=Ln(Vs.G[2][Vs.H[2]+Pa],0,Ta),Ln(Vs.G[3][Vs.H[3]+Pa],24,Ta))}}}Vn.vc=Jn,Vn.Wb=xr,Vn.Ya=sp,Vn.yc=w1,zt=1;break t}zt=0}if(!(Y=zt)){T.a=3;break e}if(0<_e){if(ie.ua=1<<_e,!F(ie.Wa,_e)){T.a=1,Y=0;break e}}else ie.ua=0;var k1=T,Gb=X,m8=J,R1=k1.s,N1=R1.xc;if(k1.c=Gb,k1.i=m8,R1.md=Q(Gb,N1),R1.wc=N1==0?-1:(1<<N1)-1,S){T.xb=$A;break e}if((fe=s(X*J))==null){T.a=1,Y=0;break e}Y=(Y=Li(T,fe,0,X,J,J,null))&&!Z.h;break e}return Y?(z!=null?z[0]=fe:(e(fe==null),e(S)),T.$=0,S||ls(ie)):ls(ie),Y}function Wo(p,v){var S=p.c*p.i,T=S+v+16*v;return e(p.c<=v),p.V=s(T),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function Zl(p,v){var S=p.C,T=v-S,z=p.V,Y=p.Ba+p.c*S;for(e(v<=p.l.o);0<T;){var X=16<T?16:T,J=p.l.ma,Z=p.l.width,ie=Z*X,fe=J.ca,_e=J.tb+Z*S,Ee=p.Ta,we=p.Ua;Gr(p,X,z,Y),mn(Ee,we,fe,_e,ie),Pi(J,S,S+X,fe,_e,Z),T-=X,z+=X*p.c,S+=X}e(S==v),p.C=p.Ma=v}function ec(){this.ub=this.yd=this.td=this.Rb=0}function tc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function nc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function kf(){this.Yb=function(){var p=[];return function v(S,T,z){for(var Y=z[T],X=0;X<Y&&(S.push(z.length>T+1?[]:0),!(z.length<T+1));X++)v(S[X],T+1,z)}(p,0,[3,11]),p}()}function z0(){this.jb=s(3),this.Wc=o([4,8],kf),this.Xc=o([4,17],kf)}function j0(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function rc(){this.ld=this.La=this.dd=this.tc=0}function Rf(){this.Na=this.la=0}function V0(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qu(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function W0(){this.uc=this.M=this.Nb=0,this.wa=Array(new rc),this.Y=0,this.ya=Array(new Qu),this.aa=0,this.l=new ic}function Nf(){this.y=s(16),this.f=s(8),this.ea=s(8)}function H0(){this.cb=this.a=0,this.sc="",this.m=new ne,this.Od=new ec,this.Kc=new tc,this.ed=new j0,this.Qa=new nc,this.Ic=this.$c=this.Aa=0,this.D=new W0,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,ne),this.ia=0,this.pb=a(4,V0),this.Pa=new z0,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Nf),this.Hd=0,this.rb=Array(new Rf),this.sb=0,this.wa=Array(new rc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qu),this.L=this.aa=0,this.gd=o([4,2],rc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ic(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function q0(){var p=new H0;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,xd||(xd=If)),p}function fn(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function Cf(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Af(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return fn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,T=v.w,z=v.ha;if(4>z)return fn(p,7,"Truncated header.");var Y=S[T+0]|S[T+1]<<8|S[T+2]<<16,X=p.Od;if(X.Rb=!(1&Y),X.td=Y>>1&7,X.yd=Y>>4&1,X.ub=Y>>5,3<X.td)return fn(p,3,"Incorrect keyframe parameters.");if(!X.yd)return fn(p,4,"Frame not displayable.");T+=3,z-=3;var J=p.Kc;if(X.Rb){if(7>z)return fn(p,7,"cannot parse picture header");if(!Cf(S,T,z))return fn(p,3,"Bad code word");J.c=16383&(S[T+4]<<8|S[T+3]),J.Td=S[T+4]>>6,J.i=16383&(S[T+6]<<8|S[T+5]),J.Ud=S[T+6]>>6,T+=7,z-=7,p.za=J.c+15>>4,p.Ub=J.i+15>>4,v.width=J.c,v.height=J.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((Y=p.Pa).jb,0,255,Y.jb.length),e((Y=p.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,i(Y.Zb,0,0,Y.Zb.length),i(Y.Lb,0,0,Y.Lb)}if(X.ub>z)return fn(p,7,"bad partition length");V(Y=p.m,S,T,X.ub),T+=X.ub,z-=X.ub,X.Rb&&(J.Ld=ue(Y),J.Kd=ue(Y)),J=p.Qa;var Z,ie=p.Pa;if(e(Y!=null),e(J!=null),J.Cb=ue(Y),J.Cb){if(J.Bb=ue(Y),ue(Y)){for(J.Fb=ue(Y),Z=0;4>Z;++Z)J.Zb[Z]=ue(Y)?P(Y,7):0;for(Z=0;4>Z;++Z)J.Lb[Z]=ue(Y)?P(Y,6):0}if(J.Bb)for(Z=0;3>Z;++Z)ie.jb[Z]=ue(Y)?U(Y,8):255}else J.Bb=0;if(Y.Ka)return fn(p,3,"cannot parse segment header");if((J=p.ed).zd=ue(Y),J.Tb=U(Y,6),J.wb=U(Y,3),J.Pc=ue(Y),J.Pc&&ue(Y)){for(ie=0;4>ie;++ie)ue(Y)&&(J.vd[ie]=P(Y,6));for(ie=0;4>ie;++ie)ue(Y)&&(J.od[ie]=P(Y,6))}if(p.L=J.Tb==0?0:J.zd?1:2,Y.Ka)return fn(p,3,"cannot parse filter header");var fe=z;if(z=Z=T,T=Z+fe,J=fe,p.Xb=(1<<U(p.m,2))-1,fe<3*(ie=p.Xb))S=7;else{for(Z+=3*ie,J-=3*ie,fe=0;fe<ie;++fe){var _e=S[z+0]|S[z+1]<<8|S[z+2]<<16;_e>J&&(_e=J),V(p.Jc[+fe],S,Z,_e),Z+=_e,J-=_e,z+=3}V(p.Jc[+ie],S,Z,J),S=Z<T?0:5}if(S!=0)return fn(p,S,"cannot parse partitions");for(S=U(Z=p.m,7),z=ue(Z)?P(Z,4):0,T=ue(Z)?P(Z,4):0,J=ue(Z)?P(Z,4):0,ie=ue(Z)?P(Z,4):0,Z=ue(Z)?P(Z,4):0,fe=p.Qa,_e=0;4>_e;++_e){if(fe.Cb){var Ee=fe.Zb[_e];fe.Fb||(Ee+=S)}else{if(0<_e){p.pb[_e]=p.pb[0];continue}Ee=S}var we=p.pb[_e];we.Sc[0]=g1[Kr(Ee+z,127)],we.Sc[1]=y1[Kr(Ee+0,127)],we.Eb[0]=2*g1[Kr(Ee+T,127)],we.Eb[1]=101581*y1[Kr(Ee+J,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=g1[Kr(Ee+ie,117)],we.Qc[1]=y1[Kr(Ee+Z,127)],we.lc=Ee+Z}if(!X.Rb)return fn(p,4,"Not a key frame.");for(ue(Y),X=p.Pa,S=0;4>S;++S){for(z=0;8>z;++z)for(T=0;3>T;++T)for(J=0;11>J;++J)ie=de(Y,HA[S][z][T][J])?U(Y,8):VA[S][z][T][J],X.Wc[S][z].Yb[T][J]=ie;for(z=0;17>z;++z)X.Xc[S][z]=X.Wc[S][qA[z]]}return p.kc=ue(Y),p.kc&&(p.Bd=U(Y,8)),p.cb=1}function If(p,v,S,T,z,Y,X){var J=v[z].Yb[S];for(S=0;16>z;++z){if(!de(p,J[S+0]))return z;for(;!de(p,J[S+1]);)if(J=v[++z].Yb[0],S=0,z==16)return 16;var Z=v[z+1].Yb;if(de(p,J[S+2])){var ie=p,fe=0;if(de(ie,(Ee=J)[(_e=S)+3]))if(de(ie,Ee[_e+6])){for(J=0,_e=2*(fe=de(ie,Ee[_e+8]))+(Ee=de(ie,Ee[_e+9+fe])),fe=0,Ee=zA[_e];Ee[J];++J)fe+=fe+de(ie,Ee[J]);fe+=3+(8<<_e)}else de(ie,Ee[_e+7])?(fe=7+2*de(ie,165),fe+=de(ie,145)):fe=5+de(ie,159);else fe=de(ie,Ee[_e+4])?3+de(ie,Ee[_e+5]):2;J=Z[2]}else fe=1,J=Z[1];Z=X+jA[z],0>(ie=p).b&&pe(ie);var _e,Ee=ie.b,we=(_e=ie.Ca>>1)-(ie.I>>Ee)>>31;--ie.b,ie.Ca+=we,ie.Ca|=1,ie.I-=(_e+1&we)<<Ee,Y[Z]=((fe^we)-we)*T[(0<z)+0]}return 16}function Ju(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function $0(p,v){if(p==null)return 0;if(v==null)return fn(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!Af(p,v))return 0;if(e(p.cb),v.ac==null||v.ac(v)){v.ob&&(p.L=0);var S=ip[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=v.v-S>>4,p.zb=v.j-S>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=v.o+15+S>>4,p.Hb=v.va+15+S>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var T=p.ed;for(S=0;4>S;++S){var z;if(p.Qa.Cb){var Y=p.Qa.Lb[S];p.Qa.Fb||(Y+=T.Tb)}else Y=T.Tb;for(z=0;1>=z;++z){var X=p.gd[S][z],J=Y;if(T.Pc&&(J+=T.vd[0],z&&(J+=T.od[0])),0<(J=0>J?0:63<J?63:J)){var Z=J;0<T.wb&&(Z=4<T.wb?Z>>2:Z>>1)>9-T.wb&&(Z=9-T.wb),1>Z&&(Z=1),X.dd=Z,X.tc=2*J+Z,X.ld=40<=J?2:15<=J?1:0}else X.tc=0;X.La=z}}}S=0}else fn(p,6,"Frame setup failed"),S=p.a;if(S=S==0){if(S){p.$c=0,0<p.Aa||(p.Ic=i8);e:{S=p.Ic,T=4*(Z=p.za);var ie=32*Z,fe=Z+1,_e=0<p.L?Z*(0<p.Aa?2:1):0,Ee=(p.Aa==2?2:1)*Z;if((X=T+832+(z=3*(16*S+ip[p.L])/2*ie)+(Y=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=X)S=0;else{if(X>p.Vb){if(p.Vb=0,p.Ec=s(X),p.Fc=0,p.Ec==null){S=fn(p,1,"no memory during frame initialization.");break e}p.Vb=X}X=p.Ec,J=p.Fc,p.Ac=X,p.Bc=J,J+=T,p.Gd=a(ie,Nf),p.Hd=0,p.rb=a(fe+1,Rf),p.sb=1,p.wa=_e?a(_e,rc):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=Z),e(!0),p.oc=X,p.pc=J,J+=832,p.ya=a(Ee,Qu),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=Z),p.R=16*Z,p.B=8*Z,Z=(ie=ip[p.L])*p.R,ie=ie/2*p.B,p.sa=X,p.ta=J+Z,p.qa=p.sa,p.ra=p.ta+16*S*p.R+ie,p.Ha=p.qa,p.Ia=p.ra+8*S*p.B+ie,p.$c=0,J+=z,p.mb=Y?X:null,p.nb=Y?J:null,e(J+Y<=p.Fc+p.Vb),Ju(p),i(p.Ac,p.Bc,0,T),S=1}}if(S){if(v.ka=0,v.y=p.sa,v.O=p.ta,v.f=p.qa,v.N=p.ra,v.ea=p.Ha,v.Vd=p.Ia,v.fa=p.R,v.Rc=p.B,v.F=null,v.J=0,!Yf){for(S=-255;255>=S;++S)On[255+S]=0>S?-S:S;for(S=-1020;1020>=S;++S)Bs[1020+S]=-128>S?-128:127<S?127:S;for(S=-112;112>=S;++S)bd[112+S]=-16>S?-16:15<S?15:S;for(S=-255;510>=S;++S)_c[255+S]=0>S?0:255<S?255:S;Yf=1}wc=Y0,Us=G0,yd=Tf,br=K0,di=Lf,pn=Pf,bc=id,Kf=$o,vd=l1,Yo=sd,Xo=o1,Sa=uc,Qo=ad,xc=Vf,Jo=jf,ka=ds,wd=Ds,hi=a1,Mi[0]=us,Mi[1]=X0,Mi[2]=e1,Mi[3]=t1,Mi[4]=Ff,Mi[5]=lc,Mi[6]=Mf,Mi[7]=td,Mi[8]=r1,Mi[9]=n1,Ra[0]=Of,Ra[1]=J0,Ra[2]=Os,Ra[3]=ac,Ra[4]=sr,Ra[5]=Z0,Ra[6]=Df,zs[0]=wa,zs[1]=Q0,zs[2]=i1,zs[3]=nd,zs[4]=qo,zs[5]=s1,zs[6]=rd,S=1}else S=0}S&&(S=function(we,Te){for(we.M=0;we.M<we.Va;++we.M){var Ce,me=we.Jc[we.M&we.Xb],ve=we.m,Ie=we;for(Ce=0;Ce<Ie.za;++Ce){var Oe=ve,Pe=Ie,$e=Pe.Ac,Ve=Pe.Bc+4*Ce,et=Pe.zc,We=Pe.ya[Pe.aa+Ce];if(Pe.Qa.Bb?We.$b=de(Oe,Pe.Pa.jb[0])?2+de(Oe,Pe.Pa.jb[2]):de(Oe,Pe.Pa.jb[1]):We.$b=0,Pe.kc&&(We.Ad=de(Oe,Pe.Bd)),We.Za=!de(Oe,145)+0,We.Za){var It=We.Ob,Tt=0;for(Pe=0;4>Pe;++Pe){var Nt,St=et[0+Pe];for(Nt=0;4>Nt;++Nt){St=WA[$e[Ve+Nt]][St];for(var zt=Sb[de(Oe,St[0])];0<zt;)zt=Sb[2*zt+de(Oe,St[zt])];St=-zt,$e[Ve+Nt]=St}r(It,Tt,$e,Ve,4),Tt+=4,et[0+Pe]=St}}else St=de(Oe,156)?de(Oe,128)?1:3:de(Oe,163)?2:0,We.Ob[0]=St,i($e,Ve,St,4),i(et,0,St,4);We.Dd=de(Oe,142)?de(Oe,114)?de(Oe,183)?1:3:2:0}if(Ie.m.Ka)return fn(we,7,"Premature end-of-partition0 encountered.");for(;we.ja<we.za;++we.ja){if(Ie=me,Oe=(ve=we).rb[ve.sb-1],$e=ve.rb[ve.sb+ve.ja],Ce=ve.ya[ve.aa+ve.ja],Ve=ve.kc?Ce.Ad:0)Oe.la=$e.la=0,Ce.Za||(Oe.Na=$e.Na=0),Ce.Hc=0,Ce.Gc=0,Ce.ia=0;else{var Ft,pt;if(Oe=$e,$e=Ie,Ve=ve.Pa.Xc,et=ve.ya[ve.aa+ve.ja],We=ve.pb[et.$b],Pe=et.ad,It=0,Tt=ve.rb[ve.sb-1],St=Nt=0,i(Pe,It,0,384),et.Za)var Rn=0,Dr=Ve[3];else{zt=s(16);var Nn=Oe.Na+Tt.Na;if(Nn=xd($e,Ve[1],Nn,We.Eb,0,zt,0),Oe.Na=Tt.Na=(0<Nn)+0,1<Nn)wc(zt,0,Pe,It);else{var Fr=zt[0]+3>>3;for(zt=0;256>zt;zt+=16)Pe[It+zt]=Fr}Rn=1,Dr=Ve[0]}var Lt=15&Oe.la,Xr=15&Tt.la;for(zt=0;4>zt;++zt){var Qr=1&Xr;for(Fr=pt=0;4>Fr;++Fr)Lt=Lt>>1|(Qr=(Nn=xd($e,Dr,Nn=Qr+(1&Lt),We.Sc,Rn,Pe,It))>Rn)<<7,pt=pt<<2|(3<Nn?3:1<Nn?2:Pe[It+0]!=0),It+=16;Lt>>=4,Xr=Xr>>1|Qr<<7,Nt=(Nt<<8|pt)>>>0}for(Dr=Lt,Rn=Xr>>4,Ft=0;4>Ft;Ft+=2){for(pt=0,Lt=Oe.la>>4+Ft,Xr=Tt.la>>4+Ft,zt=0;2>zt;++zt){for(Qr=1&Xr,Fr=0;2>Fr;++Fr)Nn=Qr+(1&Lt),Lt=Lt>>1|(Qr=0<(Nn=xd($e,Ve[2],Nn,We.Qc,0,Pe,It)))<<3,pt=pt<<2|(3<Nn?3:1<Nn?2:Pe[It+0]!=0),It+=16;Lt>>=2,Xr=Xr>>1|Qr<<5}St|=pt<<4*Ft,Dr|=Lt<<4<<Ft,Rn|=(240&Xr)<<Ft}Oe.la=Dr,Tt.la=Rn,et.Hc=Nt,et.Gc=St,et.ia=43690&St?0:We.ia,Ve=!(Nt|St)}if(0<ve.L&&(ve.wa[ve.Y+ve.ja]=ve.gd[Ce.$b][Ce.Za],ve.wa[ve.Y+ve.ja].La|=!Ve),Ie.Ka)return fn(we,7,"Premature end-of-file encountered.")}if(Ju(we),ve=Te,Ie=1,Ce=(me=we).D,Oe=0<me.L&&me.M>=me.zb&&me.M<=me.Va,me.Aa==0)e:{if(Ce.M=me.M,Ce.uc=Oe,hd(me,Ce),Ie=1,Ce=(pt=me.D).Nb,Oe=(St=ip[me.L])*me.R,$e=St/2*me.B,zt=16*Ce*me.R,Fr=8*Ce*me.B,Ve=me.sa,et=me.ta-Oe+zt,We=me.qa,Pe=me.ra-$e+Fr,It=me.Ha,Tt=me.Ia-$e+Fr,Xr=(Lt=pt.M)==0,Nt=Lt>=me.Va-1,me.Aa==2&&hd(me,pt),pt.uc)for(Qr=(Nn=me).D.M,e(Nn.D.uc),pt=Nn.yb;pt<Nn.Hb;++pt){Rn=pt,Dr=Qr;var Vn=(Jn=(on=Nn).D).Nb;Ft=on.R;var Jn=Jn.wa[Jn.Y+Rn],xr=on.sa,gi=on.ta+16*Vn*Ft+16*Rn,fs=Jn.dd,Wn=Jn.tc;if(Wn!=0)if(e(3<=Wn),on.L==1)0<Rn&&ka(xr,gi,Ft,Wn+4),Jn.La&&hi(xr,gi,Ft,Wn),0<Dr&&Jo(xr,gi,Ft,Wn+4),Jn.La&&wd(xr,gi,Ft,Wn);else{var js=on.B,Zo=on.qa,Ec=on.ra+8*Vn*js+8*Rn,Ca=on.Ha,on=on.Ia+8*Vn*js+8*Rn;Vn=Jn.ld,0<Rn&&(Kf(xr,gi,Ft,Wn+4,fs,Vn),Yo(Zo,Ec,Ca,on,js,Wn+4,fs,Vn)),Jn.La&&(Sa(xr,gi,Ft,Wn,fs,Vn),xc(Zo,Ec,Ca,on,js,Wn,fs,Vn)),0<Dr&&(bc(xr,gi,Ft,Wn+4,fs,Vn),vd(Zo,Ec,Ca,on,js,Wn+4,fs,Vn)),Jn.La&&(Xo(xr,gi,Ft,Wn,fs,Vn),Qo(Zo,Ec,Ca,on,js,Wn,fs,Vn))}}if(me.ia&&alert("todo:DitherRow"),ve.put!=null){if(pt=16*Lt,Lt=16*(Lt+1),Xr?(ve.y=me.sa,ve.O=me.ta+zt,ve.f=me.qa,ve.N=me.ra+Fr,ve.ea=me.Ha,ve.W=me.Ia+Fr):(pt-=St,ve.y=Ve,ve.O=et,ve.f=We,ve.N=Pe,ve.ea=It,ve.W=Tt),Nt||(Lt-=St),Lt>ve.o&&(Lt=ve.o),ve.F=null,ve.J=null,me.Fa!=null&&0<me.Fa.length&&pt<Lt&&(ve.J=ud(me,ve,pt,Lt-pt),ve.F=me.mb,ve.F==null&&ve.F.length==0)){Ie=fn(me,3,"Could not decode alpha data.");break e}pt<ve.j&&(St=ve.j-pt,pt=ve.j,e(!(1&St)),ve.O+=me.R*St,ve.N+=me.B*(St>>1),ve.W+=me.B*(St>>1),ve.F!=null&&(ve.J+=ve.width*St)),pt<Lt&&(ve.O+=ve.v,ve.N+=ve.v>>1,ve.W+=ve.v>>1,ve.F!=null&&(ve.J+=ve.v),ve.ka=pt-ve.j,ve.U=ve.va-ve.v,ve.T=Lt-pt,Ie=ve.put(ve))}Ce+1!=me.Ic||Nt||(r(me.sa,me.ta-Oe,Ve,et+16*me.R,Oe),r(me.qa,me.ra-$e,We,Pe+8*me.B,$e),r(me.Ha,me.Ia-$e,It,Tt+8*me.B,$e))}if(!Ie)return fn(we,6,"Output aborted.")}return 1}(p,v)),v.bc!=null&&v.bc(v),S&=1}return S?(p.cb=0,S):0}function Oi(p,v,S,T,z){z=p[v+S+32*T]+(z>>3),p[v+S+32*T]=-256&z?0>z?0:255:z}function sc(p,v,S,T,z,Y){Oi(p,v,0,S,T+z),Oi(p,v,1,S,T+Y),Oi(p,v,2,S,T-Y),Oi(p,v,3,S,T-z)}function Tr(p){return(20091*p>>16)+p}function Zu(p,v,S,T){var z,Y=0,X=s(16);for(z=0;4>z;++z){var J=p[v+0]+p[v+8],Z=p[v+0]-p[v+8],ie=(35468*p[v+4]>>16)-Tr(p[v+12]),fe=Tr(p[v+4])+(35468*p[v+12]>>16);X[Y+0]=J+fe,X[Y+1]=Z+ie,X[Y+2]=Z-ie,X[Y+3]=J-fe,Y+=4,v++}for(z=Y=0;4>z;++z)J=(p=X[Y+0]+4)+X[Y+8],Z=p-X[Y+8],ie=(35468*X[Y+4]>>16)-Tr(X[Y+12]),Oi(S,T,0,0,J+(fe=Tr(X[Y+4])+(35468*X[Y+12]>>16))),Oi(S,T,1,0,Z+ie),Oi(S,T,2,0,Z-ie),Oi(S,T,3,0,J-fe),Y++,T+=32}function Pf(p,v,S,T){var z=p[v+0]+4,Y=35468*p[v+4]>>16,X=Tr(p[v+4]),J=35468*p[v+1]>>16;sc(S,T,0,z+X,p=Tr(p[v+1]),J),sc(S,T,1,z+Y,p,J),sc(S,T,2,z-Y,p,J),sc(S,T,3,z-X,p,J)}function G0(p,v,S,T,z){Zu(p,v,S,T),z&&Zu(p,v+16,S,T+4)}function Tf(p,v,S,T){Us(p,v+0,S,T,1),Us(p,v+32,S,T+128,1)}function K0(p,v,S,T){var z;for(p=p[v+0]+4,z=0;4>z;++z)for(v=0;4>v;++v)Oi(S,T,v,z,p)}function Lf(p,v,S,T){p[v+0]&&br(p,v+0,S,T),p[v+16]&&br(p,v+16,S,T+4),p[v+32]&&br(p,v+32,S,T+128),p[v+48]&&br(p,v+48,S,T+128+4)}function Y0(p,v,S,T){var z,Y=s(16);for(z=0;4>z;++z){var X=p[v+0+z]+p[v+12+z],J=p[v+4+z]+p[v+8+z],Z=p[v+4+z]-p[v+8+z],ie=p[v+0+z]-p[v+12+z];Y[0+z]=X+J,Y[8+z]=X-J,Y[4+z]=ie+Z,Y[12+z]=ie-Z}for(z=0;4>z;++z)X=(p=Y[0+4*z]+3)+Y[3+4*z],J=Y[1+4*z]+Y[2+4*z],Z=Y[1+4*z]-Y[2+4*z],ie=p-Y[3+4*z],S[T+0]=X+J>>3,S[T+16]=ie+Z>>3,S[T+32]=X-J>>3,S[T+48]=ie-Z>>3,T+=64}function ed(p,v,S){var T,z=v-32,Y=Yr,X=255-p[z-1];for(T=0;T<S;++T){var J,Z=Y,ie=X+p[v-1];for(J=0;J<S;++J)p[v+J]=Z[ie+p[z+J]];v+=32}}function X0(p,v){ed(p,v,4)}function Q0(p,v){ed(p,v,8)}function J0(p,v){ed(p,v,16)}function Os(p,v){var S;for(S=0;16>S;++S)r(p,v+32*S,p,v-32,16)}function ac(p,v){var S;for(S=16;0<S;--S)i(p,v,p[v-1],16),v+=32}function oc(p,v,S){var T;for(T=0;16>T;++T)i(v,S+32*T,p,16)}function Of(p,v){var S,T=16;for(S=0;16>S;++S)T+=p[v-1+32*S]+p[v+S-32];oc(T>>5,p,v)}function sr(p,v){var S,T=8;for(S=0;16>S;++S)T+=p[v-1+32*S];oc(T>>4,p,v)}function Z0(p,v){var S,T=8;for(S=0;16>S;++S)T+=p[v+S-32];oc(T>>4,p,v)}function Df(p,v){oc(128,p,v)}function ut(p,v,S){return p+2*v+S+2>>2}function e1(p,v){var S,T=v-32;for(T=new Uint8Array([ut(p[T-1],p[T+0],p[T+1]),ut(p[T+0],p[T+1],p[T+2]),ut(p[T+1],p[T+2],p[T+3]),ut(p[T+2],p[T+3],p[T+4])]),S=0;4>S;++S)r(p,v+32*S,T,0,T.length)}function t1(p,v){var S=p[v-1],T=p[v-1+32],z=p[v-1+64],Y=p[v-1+96];Re(p,v+0,16843009*ut(p[v-1-32],S,T)),Re(p,v+32,16843009*ut(S,T,z)),Re(p,v+64,16843009*ut(T,z,Y)),Re(p,v+96,16843009*ut(z,Y,Y))}function us(p,v){var S,T=4;for(S=0;4>S;++S)T+=p[v+S-32]+p[v-1+32*S];for(T>>=3,S=0;4>S;++S)i(p,v+32*S,T,4)}function Ff(p,v){var S=p[v-1+0],T=p[v-1+32],z=p[v-1+64],Y=p[v-1-32],X=p[v+0-32],J=p[v+1-32],Z=p[v+2-32],ie=p[v+3-32];p[v+0+96]=ut(T,z,p[v-1+96]),p[v+1+96]=p[v+0+64]=ut(S,T,z),p[v+2+96]=p[v+1+64]=p[v+0+32]=ut(Y,S,T),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=ut(X,Y,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=ut(J,X,Y),p[v+3+32]=p[v+2+0]=ut(Z,J,X),p[v+3+0]=ut(ie,Z,J)}function Mf(p,v){var S=p[v+1-32],T=p[v+2-32],z=p[v+3-32],Y=p[v+4-32],X=p[v+5-32],J=p[v+6-32],Z=p[v+7-32];p[v+0+0]=ut(p[v+0-32],S,T),p[v+1+0]=p[v+0+32]=ut(S,T,z),p[v+2+0]=p[v+1+32]=p[v+0+64]=ut(T,z,Y),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=ut(z,Y,X),p[v+3+32]=p[v+2+64]=p[v+1+96]=ut(Y,X,J),p[v+3+64]=p[v+2+96]=ut(X,J,Z),p[v+3+96]=ut(J,Z,Z)}function lc(p,v){var S=p[v-1+0],T=p[v-1+32],z=p[v-1+64],Y=p[v-1-32],X=p[v+0-32],J=p[v+1-32],Z=p[v+2-32],ie=p[v+3-32];p[v+0+0]=p[v+1+64]=Y+X+1>>1,p[v+1+0]=p[v+2+64]=X+J+1>>1,p[v+2+0]=p[v+3+64]=J+Z+1>>1,p[v+3+0]=Z+ie+1>>1,p[v+0+96]=ut(z,T,S),p[v+0+64]=ut(T,S,Y),p[v+0+32]=p[v+1+96]=ut(S,Y,X),p[v+1+32]=p[v+2+96]=ut(Y,X,J),p[v+2+32]=p[v+3+96]=ut(X,J,Z),p[v+3+32]=ut(J,Z,ie)}function td(p,v){var S=p[v+0-32],T=p[v+1-32],z=p[v+2-32],Y=p[v+3-32],X=p[v+4-32],J=p[v+5-32],Z=p[v+6-32],ie=p[v+7-32];p[v+0+0]=S+T+1>>1,p[v+1+0]=p[v+0+64]=T+z+1>>1,p[v+2+0]=p[v+1+64]=z+Y+1>>1,p[v+3+0]=p[v+2+64]=Y+X+1>>1,p[v+0+32]=ut(S,T,z),p[v+1+32]=p[v+0+96]=ut(T,z,Y),p[v+2+32]=p[v+1+96]=ut(z,Y,X),p[v+3+32]=p[v+2+96]=ut(Y,X,J),p[v+3+64]=ut(X,J,Z),p[v+3+96]=ut(J,Z,ie)}function n1(p,v){var S=p[v-1+0],T=p[v-1+32],z=p[v-1+64],Y=p[v-1+96];p[v+0+0]=S+T+1>>1,p[v+2+0]=p[v+0+32]=T+z+1>>1,p[v+2+32]=p[v+0+64]=z+Y+1>>1,p[v+1+0]=ut(S,T,z),p[v+3+0]=p[v+1+32]=ut(T,z,Y),p[v+3+32]=p[v+1+64]=ut(z,Y,Y),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=Y}function r1(p,v){var S=p[v-1+0],T=p[v-1+32],z=p[v-1+64],Y=p[v-1+96],X=p[v-1-32],J=p[v+0-32],Z=p[v+1-32],ie=p[v+2-32];p[v+0+0]=p[v+2+32]=S+X+1>>1,p[v+0+32]=p[v+2+64]=T+S+1>>1,p[v+0+64]=p[v+2+96]=z+T+1>>1,p[v+0+96]=Y+z+1>>1,p[v+3+0]=ut(J,Z,ie),p[v+2+0]=ut(X,J,Z),p[v+1+0]=p[v+3+32]=ut(S,X,J),p[v+1+32]=p[v+3+64]=ut(T,S,X),p[v+1+64]=p[v+3+96]=ut(z,T,S),p[v+1+96]=ut(Y,z,T)}function i1(p,v){var S;for(S=0;8>S;++S)r(p,v+32*S,p,v-32,8)}function nd(p,v){var S;for(S=0;8>S;++S)i(p,v,p[v-1],8),v+=32}function Ho(p,v,S){var T;for(T=0;8>T;++T)i(v,S+32*T,p,8)}function wa(p,v){var S,T=8;for(S=0;8>S;++S)T+=p[v+S-32]+p[v-1+32*S];Ho(T>>4,p,v)}function s1(p,v){var S,T=4;for(S=0;8>S;++S)T+=p[v+S-32];Ho(T>>3,p,v)}function qo(p,v){var S,T=4;for(S=0;8>S;++S)T+=p[v-1+32*S];Ho(T>>3,p,v)}function rd(p,v){Ho(128,p,v)}function cc(p,v,S){var T=p[v-S],z=p[v+0],Y=3*(z-T)+d1[1020+p[v-2*S]-p[v+S]],X=Xf[112+(Y+4>>3)];p[v-S]=Yr[255+T+Xf[112+(Y+3>>3)]],p[v+0]=Yr[255+z-X]}function Uf(p,v,S,T){var z=p[v+0],Y=p[v+S];return pi[255+p[v-2*S]-p[v-S]]>T||pi[255+Y-z]>T}function Bf(p,v,S,T){return 4*pi[255+p[v-S]-p[v+0]]+pi[255+p[v-2*S]-p[v+S]]<=T}function zf(p,v,S,T,z){var Y=p[v-3*S],X=p[v-2*S],J=p[v-S],Z=p[v+0],ie=p[v+S],fe=p[v+2*S],_e=p[v+3*S];return 4*pi[255+J-Z]+pi[255+X-ie]>T?0:pi[255+p[v-4*S]-Y]<=z&&pi[255+Y-X]<=z&&pi[255+X-J]<=z&&pi[255+_e-fe]<=z&&pi[255+fe-ie]<=z&&pi[255+ie-Z]<=z}function jf(p,v,S,T){var z=2*T+1;for(T=0;16>T;++T)Bf(p,v+T,S,z)&&cc(p,v+T,S)}function ds(p,v,S,T){var z=2*T+1;for(T=0;16>T;++T)Bf(p,v+T*S,1,z)&&cc(p,v+T*S,1)}function Ds(p,v,S,T){var z;for(z=3;0<z;--z)jf(p,v+=4*S,S,T)}function a1(p,v,S,T){var z;for(z=3;0<z;--z)ds(p,v+=4,S,T)}function ba(p,v,S,T,z,Y,X,J){for(Y=2*Y+1;0<z--;){if(zf(p,v,S,Y,X))if(Uf(p,v,S,J))cc(p,v,S);else{var Z=p,ie=v,fe=S,_e=Z[ie-2*fe],Ee=Z[ie-fe],we=Z[ie+0],Te=Z[ie+fe],Ce=Z[ie+2*fe],me=27*(Ie=d1[1020+3*(we-Ee)+d1[1020+_e-Te]])+63>>7,ve=18*Ie+63>>7,Ie=9*Ie+63>>7;Z[ie-3*fe]=Yr[255+Z[ie-3*fe]+Ie],Z[ie-2*fe]=Yr[255+_e+ve],Z[ie-fe]=Yr[255+Ee+me],Z[ie+0]=Yr[255+we-me],Z[ie+fe]=Yr[255+Te-ve],Z[ie+2*fe]=Yr[255+Ce-Ie]}v+=T}}function Di(p,v,S,T,z,Y,X,J){for(Y=2*Y+1;0<z--;){if(zf(p,v,S,Y,X))if(Uf(p,v,S,J))cc(p,v,S);else{var Z=p,ie=v,fe=S,_e=Z[ie-fe],Ee=Z[ie+0],we=Z[ie+fe],Te=Xf[112+((Ce=3*(Ee-_e))+4>>3)],Ce=Xf[112+(Ce+3>>3)],me=Te+1>>1;Z[ie-2*fe]=Yr[255+Z[ie-2*fe]+me],Z[ie-fe]=Yr[255+_e+Ce],Z[ie+0]=Yr[255+Ee-Te],Z[ie+fe]=Yr[255+we-me]}v+=T}}function id(p,v,S,T,z,Y){ba(p,v,S,1,16,T,z,Y)}function $o(p,v,S,T,z,Y){ba(p,v,1,S,16,T,z,Y)}function o1(p,v,S,T,z,Y){var X;for(X=3;0<X;--X)Di(p,v+=4*S,S,1,16,T,z,Y)}function uc(p,v,S,T,z,Y){var X;for(X=3;0<X;--X)Di(p,v+=4,1,S,16,T,z,Y)}function l1(p,v,S,T,z,Y,X,J){ba(p,v,z,1,8,Y,X,J),ba(S,T,z,1,8,Y,X,J)}function sd(p,v,S,T,z,Y,X,J){ba(p,v,1,z,8,Y,X,J),ba(S,T,1,z,8,Y,X,J)}function ad(p,v,S,T,z,Y,X,J){Di(p,v+4*z,z,1,8,Y,X,J),Di(S,T+4*z,z,1,8,Y,X,J)}function Vf(p,v,S,T,z,Y,X,J){Di(p,v+4,1,z,8,Y,X,J),Di(S,T+4,1,z,8,Y,X,J)}function dc(){this.ba=new ir,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new _t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function od(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ld(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Wf(){this.ua=0,this.Wa=new G,this.vb=new G,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new _,this.yc=new k}function c1(){this.xb=this.a=0,this.l=new ic,this.ca=new ir,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Wf,this.ab=0,this.gc=a(4,ld),this.Oc=0}function hc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ic,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Go(p,v,S,T,z,Y,X){for(p=p==null?0:p[v+0],v=0;v<X;++v)z[Y+v]=p+S[T+v]&255,p=z[Y+v]}function cd(p,v,S,T,z,Y,X){var J;if(p==null)Go(null,null,S,T,z,Y,X);else for(J=0;J<X;++J)z[Y+J]=p[v+J]+S[T+J]&255}function xa(p,v,S,T,z,Y,X){if(p==null)Go(null,null,S,T,z,Y,X);else{var J,Z=p[v+0],ie=Z,fe=Z;for(J=0;J<X;++J)ie=fe+(Z=p[v+J])-ie,fe=S[T+J]+(-256&ie?0>ie?0:255:ie)&255,ie=Z,z[Y+J]=fe}}function ud(p,v,S,T){var z=v.width,Y=v.o;if(e(p!=null&&v!=null),0>S||0>=T||S+T>Y)return null;if(!p.Cc){if(p.ga==null){var X;if(p.ga=new hc,(X=p.ga==null)||(X=v.width*v.o,e(p.Gb.length==0),p.Gb=s(X),p.Uc=0,p.Gb==null?X=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,X=1),X=!X),!X){X=p.ga;var J=p.Fa,Z=p.P,ie=p.qc,fe=p.mb,_e=p.nb,Ee=Z+1,we=ie-1,Te=X.l;if(e(J!=null&&fe!=null&&v!=null),Na[0]=null,Na[1]=Go,Na[2]=cd,Na[3]=xa,X.ca=fe,X.tb=_e,X.c=v.width,X.i=v.height,e(0<X.c&&0<X.i),1>=ie)v=0;else if(X.$a=J[Z+0]>>0&3,X.Z=J[Z+0]>>2&3,X.Lc=J[Z+0]>>4&3,Z=J[Z+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||Z)v=0;else if(Te.put=zn,Te.ac=Kt,Te.bc=as,Te.ma=X,Te.width=v.width,Te.height=v.height,Te.Da=v.Da,Te.v=v.v,Te.va=v.va,Te.j=v.j,Te.o=v.o,X.$a)e:{e(X.$a==1),v=ci();t:for(;;){if(v==null){v=0;break e}if(e(X!=null),X.mc=v,v.c=X.c,v.i=X.i,v.l=X.l,v.l.ma=X,v.l.width=X.c,v.l.height=X.i,v.a=0,$(v.m,J,Ee,we),!cs(X.c,X.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Ls(v.s)?(X.ic=1,J=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(J),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(X.ic=0,v=Wo(v,X.c)),!v))break t;v=1;break e}X.mc=null,v=0}else v=we>=X.c*X.i;X=!v}if(X)return null;p.ga.Lc!=1?p.Ga=0:T=Y-S}e(p.ga!=null),e(S+T<=Y);e:{if(v=(J=p.ga).c,Y=J.l.o,J.$a==0){if(Ee=p.rc,we=p.Vc,Te=p.Fa,Z=p.P+1+S*v,ie=p.mb,fe=p.nb+S*v,e(Z<=p.P+p.qc),J.Z!=0)for(e(Na[J.Z]!=null),X=0;X<T;++X)Na[J.Z](Ee,we,Te,Z,ie,fe,v),Ee=ie,we=fe,fe+=v,Z+=v;else for(X=0;X<T;++X)r(ie,fe,Te,Z,v),Ee=ie,we=fe,fe+=v,Z+=v;p.rc=Ee,p.Vc=we}else{if(e(J.mc!=null),v=S+T,e((X=J.mc)!=null),e(v<=X.i),X.C>=v)v=1;else if(J.ic||be(),J.ic){J=X.V,Ee=X.Ba,we=X.c;var Ce=X.i,me=(Te=1,Z=X.$/we,ie=X.$%we,fe=X.m,_e=X.s,X.$),ve=we*Ce,Ie=we*v,Oe=_e.wc,Pe=me<Ie?Sn(_e,ie,Z):null;e(me<=ve),e(v<=Ce),e(Ls(_e));t:for(;;){for(;!fe.h&&me<Ie;){if(ie&Oe||(Pe=Sn(_e,ie,Z)),e(Pe!=null),oe(fe),256>(Ce=Pr(Pe.G[0],Pe.H[0],fe)))J[Ee+me]=Ce,++me,++ie>=we&&(ie=0,++Z<=v&&!(Z%16)&&Ti(X,Z));else{if(!(280>Ce)){Te=0;break t}Ce=Ii(Ce-256,fe);var $e,Ve=Pr(Pe.G[4],Pe.H[4],fe);if(oe(fe),!(me>=(Ve=os(we,Ve=Ii(Ve,fe)))&&ve-me>=Ce)){Te=0;break t}for($e=0;$e<Ce;++$e)J[Ee+me+$e]=J[Ee+me+$e-Ve];for(me+=Ce,ie+=Ce;ie>=we;)ie-=we,++Z<=v&&!(Z%16)&&Ti(X,Z);me<Ie&&ie&Oe&&(Pe=Sn(_e,ie,Z))}e(fe.h==q(fe))}Ti(X,Z>v?v:Z);break t}!Te||fe.h&&me<ve?(Te=0,X.a=fe.h?5:3):X.$=me,v=Te}else v=Li(X,X.V,X.Ba,X.c,X.i,v,Zl);if(!v){T=0;break e}}S+T>=Y&&(p.Cc=1),T=1}if(!T)return null;if(p.Cc&&((T=p.ga)!=null&&(T.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*z}function E(p,v,S,T,z,Y){for(;0<z--;){var X,J=p,Z=v+(S?1:0),ie=p,fe=v+(S?0:3);for(X=0;X<T;++X){var _e=ie[fe+4*X];_e!=255&&(_e*=32897,J[Z+4*X+0]=J[Z+4*X+0]*_e>>23,J[Z+4*X+1]=J[Z+4*X+1]*_e>>23,J[Z+4*X+2]=J[Z+4*X+2]*_e>>23)}v+=Y}}function j(p,v,S,T,z){for(;0<T--;){var Y;for(Y=0;Y<S;++Y){var X=p[v+2*Y+0],J=15&(ie=p[v+2*Y+1]),Z=4369*J,ie=(240&ie|ie>>4)*Z>>16;p[v+2*Y+0]=(240&X|X>>4)*Z>>16&240|(15&X|X<<4)*Z>>16>>4&15,p[v+2*Y+1]=240&ie|J}v+=z}}function le(p,v,S,T,z,Y,X,J){var Z,ie,fe=255;for(ie=0;ie<z;++ie){for(Z=0;Z<T;++Z){var _e=p[v+Z];Y[X+4*Z]=_e,fe&=_e}v+=S,X+=J}return fe!=255}function he(p,v,S,T,z){var Y;for(Y=0;Y<z;++Y)S[T+Y]=p[v+Y]>>8}function be(){fi=E,Vt=j,Wt=le,mn=he}function Ae(p,v,S){R[p]=function(T,z,Y,X,J,Z,ie,fe,_e,Ee,we,Te,Ce,me,ve,Ie,Oe){var Pe,$e=Oe-1>>1,Ve=J[Z+0]|ie[fe+0]<<16,et=_e[Ee+0]|we[Te+0]<<16;e(T!=null);var We=3*Ve+et+131074>>2;for(v(T[z+0],255&We,We>>16,Ce,me),Y!=null&&(We=3*et+Ve+131074>>2,v(Y[X+0],255&We,We>>16,ve,Ie)),Pe=1;Pe<=$e;++Pe){var It=J[Z+Pe]|ie[fe+Pe]<<16,Tt=_e[Ee+Pe]|we[Te+Pe]<<16,Nt=Ve+It+et+Tt+524296,St=Nt+2*(It+et)>>3;We=St+Ve>>1,Ve=(Nt=Nt+2*(Ve+Tt)>>3)+It>>1,v(T[z+2*Pe-1],255&We,We>>16,Ce,me+(2*Pe-1)*S),v(T[z+2*Pe-0],255&Ve,Ve>>16,Ce,me+(2*Pe-0)*S),Y!=null&&(We=Nt+et>>1,Ve=St+Tt>>1,v(Y[X+2*Pe-1],255&We,We>>16,ve,Ie+(2*Pe-1)*S),v(Y[X+2*Pe+0],255&Ve,Ve>>16,ve,Ie+(2*Pe+0)*S)),Ve=It,et=Tt}1&Oe||(We=3*Ve+et+131074>>2,v(T[z+Oe-1],255&We,We>>16,Ce,me+(Oe-1)*S),Y!=null&&(We=3*et+Ve+131074>>2,v(Y[X+Oe-1],255&We,We>>16,ve,Ie+(Oe-1)*S)))}}function De(){mi[Qf]=GA,mi[Jf]=Rb,mi[xb]=KA,mi[Zf]=Nb,mi[ep]=Cb,mi[h1]=Ab,mi[_b]=YA,mi[f1]=Rb,mi[p1]=Nb,mi[tp]=Cb,mi[m1]=Ab}function qe(p){return p&-16384?0>p?0:255:p>>XA}function Ze(p,v){return qe((19077*p>>8)+(26149*v>>8)-14234)}function ft(p,v,S){return qe((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function dt(p,v){return qe((19077*p>>8)+(33050*v>>8)-17685)}function Rt(p,v,S,T,z){T[z+0]=Ze(p,S),T[z+1]=ft(p,v,S),T[z+2]=dt(p,v)}function en(p,v,S,T,z){T[z+0]=dt(p,v),T[z+1]=ft(p,v,S),T[z+2]=Ze(p,S)}function an(p,v,S,T,z){var Y=ft(p,v,S);v=Y<<3&224|dt(p,v)>>3,T[z+0]=248&Ze(p,S)|Y>>5,T[z+1]=v}function kn(p,v,S,T,z){var Y=240&dt(p,v)|15;T[z+0]=240&Ze(p,S)|ft(p,v,S)>>4,T[z+1]=Y}function ar(p,v,S,T,z){T[z+0]=255,Rt(p,v,S,T,z+1)}function jn(p,v,S,T,z){en(p,v,S,T,z),T[z+3]=255}function Fi(p,v,S,T,z){Rt(p,v,S,T,z),T[z+3]=255}function Kr(p,v){return 0>p?0:p>v?v:p}function hs(p,v,S){R[p]=function(T,z,Y,X,J,Z,ie,fe,_e){for(var Ee=fe+(-2&_e)*S;fe!=Ee;)v(T[z+0],Y[X+0],J[Z+0],ie,fe),v(T[z+1],Y[X+0],J[Z+0],ie,fe+S),z+=2,++X,++Z,fe+=2*S;1&_e&&v(T[z+0],Y[X+0],J[Z+0],ie,fe)}}function Hf(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function dd(p,v,S,T,z){switch(p>>>30){case 3:Us(v,S,T,z,0);break;case 2:pn(v,S,T,z);break;case 1:br(v,S,T,z)}}function hd(p,v){var S,T,z=v.M,Y=v.Nb,X=p.oc,J=p.pc+40,Z=p.oc,ie=p.pc+584,fe=p.oc,_e=p.pc+600;for(S=0;16>S;++S)X[J+32*S-1]=129;for(S=0;8>S;++S)Z[ie+32*S-1]=129,fe[_e+32*S-1]=129;for(0<z?X[J-1-32]=Z[ie-1-32]=fe[_e-1-32]=129:(i(X,J-32-1,127,21),i(Z,ie-32-1,127,9),i(fe,_e-32-1,127,9)),T=0;T<p.za;++T){var Ee=v.ya[v.aa+T];if(0<T){for(S=-1;16>S;++S)r(X,J+32*S-4,X,J+32*S+12,4);for(S=-1;8>S;++S)r(Z,ie+32*S-4,Z,ie+32*S+4,4),r(fe,_e+32*S-4,fe,_e+32*S+4,4)}var we=p.Gd,Te=p.Hd+T,Ce=Ee.ad,me=Ee.Hc;if(0<z&&(r(X,J-32,we[Te].y,0,16),r(Z,ie-32,we[Te].f,0,8),r(fe,_e-32,we[Te].ea,0,8)),Ee.Za){var ve=X,Ie=J-32+16;for(0<z&&(T>=p.za-1?i(ve,Ie,we[Te].y[15],4):r(ve,Ie,we[Te+1].y,0,4)),S=0;4>S;S++)ve[Ie+128+S]=ve[Ie+256+S]=ve[Ie+384+S]=ve[Ie+0+S];for(S=0;16>S;++S,me<<=2)ve=X,Ie=J+Pb[S],Mi[Ee.Ob[S]](ve,Ie),dd(me,Ce,16*+S,ve,Ie)}else if(ve=Hf(T,z,Ee.Ob[0]),Ra[ve](X,J),me!=0)for(S=0;16>S;++S,me<<=2)dd(me,Ce,16*+S,X,J+Pb[S]);for(S=Ee.Gc,ve=Hf(T,z,Ee.Dd),zs[ve](Z,ie),zs[ve](fe,_e),me=Ce,ve=Z,Ie=ie,255&(Ee=S>>0)&&(170&Ee?yd(me,256,ve,Ie):di(me,256,ve,Ie)),Ee=fe,me=_e,255&(S>>=8)&&(170&S?yd(Ce,320,Ee,me):di(Ce,320,Ee,me)),z<p.Ub-1&&(r(we[Te].y,0,X,J+480,16),r(we[Te].f,0,Z,ie+224,8),r(we[Te].ea,0,fe,_e+224,8)),S=8*Y*p.B,we=p.sa,Te=p.ta+16*T+16*Y*p.R,Ce=p.qa,Ee=p.ra+8*T+S,me=p.Ha,ve=p.Ia+8*T+S,S=0;16>S;++S)r(we,Te+S*p.R,X,J+32*S,16);for(S=0;8>S;++S)r(Ce,Ee+S*p.B,Z,ie+32*S,8),r(me,ve+S*p.B,fe,_e+32*S,8)}}function fc(p,v,S,T,z,Y,X,J,Z){var ie=[0],fe=[0],_e=0,Ee=Z!=null?Z.kd:0,we=Z??new od;if(p==null||12>S)return 7;we.data=p,we.w=v,we.ha=S,v=[v],S=[S],we.gb=[we.gb];e:{var Te=v,Ce=S,me=we.gb;if(e(p!=null),e(Ce!=null),e(me!=null),me[0]=0,12<=Ce[0]&&!n(p,Te[0],"RIFF")){if(n(p,Te[0]+8,"WEBP")){me=3;break e}var ve=Me(p,Te[0]+4);if(12>ve||4294967286<ve){me=3;break e}if(Ee&&ve>Ce[0]-8){me=7;break e}me[0]=ve,Te[0]+=12,Ce[0]-=12}me=0}if(me!=0)return me;for(ve=0<we.gb[0],S=S[0];;){e:{var Ie=p;Ce=v,me=S;var Oe=ie,Pe=fe,$e=Te=[0];if((We=_e=[_e])[0]=0,8>me[0])me=7;else{if(!n(Ie,Ce[0],"VP8X")){if(Me(Ie,Ce[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var Ve=Me(Ie,Ce[0]+8),et=1+Le(Ie,Ce[0]+12);if(2147483648<=et*(Ie=1+Le(Ie,Ce[0]+15))){me=3;break e}$e!=null&&($e[0]=Ve),Oe!=null&&(Oe[0]=et),Pe!=null&&(Pe[0]=Ie),Ce[0]+=18,me[0]-=18,We[0]=1}me=0}}if(_e=_e[0],Te=Te[0],me!=0)return me;if(Ce=!!(2&Te),!ve&&_e)return 3;if(Y!=null&&(Y[0]=!!(16&Te)),X!=null&&(X[0]=Ce),J!=null&&(J[0]=0),X=ie[0],Te=fe[0],_e&&Ce&&Z==null){me=0;break}if(4>S){me=7;break}if(ve&&_e||!ve&&!_e&&!n(p,v[0],"ALPH")){S=[S],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{Ve=p,me=v,ve=S;var We=we.gb;Oe=we.na,Pe=we.P,$e=we.Sa,et=22,e(Ve!=null),e(ve!=null),Ie=me[0];var It=ve[0];for(e(Oe!=null),e($e!=null),Oe[0]=null,Pe[0]=null,$e[0]=0;;){if(me[0]=Ie,ve[0]=It,8>It){me=7;break e}var Tt=Me(Ve,Ie+4);if(4294967286<Tt){me=3;break e}var Nt=8+Tt+1&-2;if(et+=Nt,0<We&&et>We){me=3;break e}if(!n(Ve,Ie,"VP8 ")||!n(Ve,Ie,"VP8L")){me=0;break e}if(It[0]<Nt){me=7;break e}n(Ve,Ie,"ALPH")||(Oe[0]=Ve,Pe[0]=Ie+8,$e[0]=Tt),Ie+=Nt,It-=Nt}}if(S=S[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],me!=0)break}S=[S],we.Ja=[we.Ja],we.xa=[we.xa];e:if(We=p,me=v,ve=S,Oe=we.gb[0],Pe=we.Ja,$e=we.xa,Ve=me[0],Ie=!n(We,Ve,"VP8 "),et=!n(We,Ve,"VP8L"),e(We!=null),e(ve!=null),e(Pe!=null),e($e!=null),8>ve[0])me=7;else{if(Ie||et){if(We=Me(We,Ve+4),12<=Oe&&We>Oe-12){me=3;break e}if(Ee&&We>ve[0]-8){me=7;break e}Pe[0]=We,me[0]+=8,ve[0]-=8,$e[0]=et}else $e[0]=5<=ve[0]&&We[Ve+0]==47&&!(We[Ve+4]>>5),Pe[0]=ve[0];me=0}if(S=S[0],we.Ja=we.Ja[0],we.xa=we.xa[0],v=v[0],me!=0)break;if(4294967286<we.Ja)return 3;if(J==null||Ce||(J[0]=we.xa?2:1),X=[X],Te=[Te],we.xa){if(5>S){me=7;break}J=X,Ee=Te,Ce=Y,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(ve=[0],We=[0],Oe=[0],$(Pe=new C,p,v,S),rt(Pe,ve,We,Oe)?(J!=null&&(J[0]=ve[0]),Ee!=null&&(Ee[0]=We[0]),Ce!=null&&(Ce[0]=Oe[0]),p=1):p=0):p=0}else{if(10>S){me=7;break}J=Te,p==null||10>S||!Cf(p,v+3,S-3)?p=0:(Ee=p[v+0]|p[v+1]<<8|p[v+2]<<16,Ce=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=we.Ja||!Ce||!p?p=0:(X&&(X[0]=Ce),J&&(J[0]=p),p=1))}if(!p||(X=X[0],Te=Te[0],_e&&(ie[0]!=X||fe[0]!=Te)))return 3;Z!=null&&(Z[0]=we,Z.offset=v-Z.w,e(4294967286>v-Z.w),e(Z.offset==Z.ha-S));break}return me==0||me==7&&_e&&Z==null?(Y!=null&&(Y[0]|=we.na!=null&&0<we.na.length),T!=null&&(T[0]=X),z!=null&&(z[0]=Te),0):me}function fd(p,v,S){var T=v.width,z=v.height,Y=0,X=0,J=T,Z=z;if(v.Da=p!=null&&0<p.Da,v.Da&&(J=p.cd,Z=p.bd,Y=p.v,X=p.j,11>S||(Y&=-2,X&=-2),0>Y||0>X||0>=J||0>=Z||Y+J>T||X+Z>z))return 0;if(v.v=Y,v.j=X,v.va=Y+J,v.o=X+Z,v.U=J,v.T=Z,v.da=p!=null&&0<p.da,v.da){if(!ee(J,Z,S=[p.ib],Y=[p.hb]))return 0;v.ib=S[0],v.hb=Y[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*T/4&&v.hb<3*z/4,v.Kb=0),1}function pd(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function pc(p,v,S,T){if(T==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var z=S.cd,Y=S.bd,X=-2&S.v,J=-2&S.j;if(0>X||0>J||0>=z||0>=Y||X+z>p||J+Y>v)return 2;p=z,v=Y}if(S.da){if(!ee(p,v,z=[S.ib],Y=[S.hb]))return 2;p=z[0],v=Y[0]}}T.width=p,T.height=v;e:{var Z=T.width,ie=T.height;if(p=T.S,0>=Z||0>=ie||!(p>=Qf&&13>p))p=2;else{if(0>=T.Rd&&T.sd==null){X=Y=z=v=0;var fe=(J=Z*Tb[p])*ie;if(11>p||(Y=(ie+1)/2*(v=(Z+1)/2),p==12&&(X=(z=Z)*ie)),(ie=s(fe+2*Y+X))==null){p=1;break e}T.sd=ie,11>p?((Z=T.f.RGBA).eb=ie,Z.fb=0,Z.A=J,Z.size=fe):((Z=T.f.kb).y=ie,Z.O=0,Z.fa=J,Z.Fd=fe,Z.f=ie,Z.N=0+fe,Z.Ab=v,Z.Cd=Y,Z.ea=ie,Z.W=0+fe+Y,Z.Db=v,Z.Ed=Y,p==12&&(Z.F=ie,Z.J=0+fe+2*Y),Z.Tc=X,Z.lb=z)}if(v=1,z=T.S,Y=T.width,X=T.height,z>=Qf&&13>z)if(11>z)p=T.f.RGBA,v&=(J=Math.abs(p.A))*(X-1)+Y<=p.size,v&=J>=Y*Tb[z],v&=p.eb!=null;else{p=T.f.kb,J=(Y+1)/2,fe=(X+1)/2,Z=Math.abs(p.fa),ie=Math.abs(p.Ab);var _e=Math.abs(p.Db),Ee=Math.abs(p.lb),we=Ee*(X-1)+Y;v&=Z*(X-1)+Y<=p.Fd,v&=ie*(fe-1)+J<=p.Cd,v=(v&=_e*(fe-1)+J<=p.Ed)&Z>=Y&ie>=J&_e>=J,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,z==12&&(v&=Ee>=Y,v&=we<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=pd(T)),p}var Qn=64,mc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gc=24,yc=32,md=8,Lr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ge("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(p){return p},R.Predictor2=function(p,v,S){return v[S+0]},R.Predictor3=function(p,v,S){return v[S+1]},R.Predictor4=function(p,v,S){return v[S-1]},R.Predictor5=function(p,v,S){return ce(ce(p,v[S+1]),v[S+0])},R.Predictor6=function(p,v,S){return ce(p,v[S-1])},R.Predictor7=function(p,v,S){return ce(p,v[S+0])},R.Predictor8=function(p,v,S){return ce(v[S-1],v[S+0])},R.Predictor9=function(p,v,S){return ce(v[S+0],v[S+1])},R.Predictor10=function(p,v,S){return ce(ce(p,v[S-1]),ce(v[S+0],v[S+1]))},R.Predictor11=function(p,v,S){var T=v[S+0];return 0>=ke(T>>24&255,p>>24&255,(v=v[S-1])>>24&255)+ke(T>>16&255,p>>16&255,v>>16&255)+ke(T>>8&255,p>>8&255,v>>8&255)+ke(255&T,255&p,255&v)?T:p},R.Predictor12=function(p,v,S){var T=v[S+0];return(xe((p>>24&255)+(T>>24&255)-((v=v[S-1])>>24&255))<<24|xe((p>>16&255)+(T>>16&255)-(v>>16&255))<<16|xe((p>>8&255)+(T>>8&255)-(v>>8&255))<<8|xe((255&p)+(255&T)-(255&v)))>>>0},R.Predictor13=function(p,v,S){var T=v[S-1];return(Ne((p=ce(p,v[S+0]))>>24&255,T>>24&255)<<24|Ne(p>>16&255,T>>16&255)<<16|Ne(p>>8&255,T>>8&255)<<8|Ne(p>>0&255,T>>0&255))>>>0};var u1=R.PredictorAdd0;R.PredictorAdd1=Fe,ge("Predictor2","PredictorAdd2"),ge("Predictor3","PredictorAdd3"),ge("Predictor4","PredictorAdd4"),ge("Predictor5","PredictorAdd5"),ge("Predictor6","PredictorAdd6"),ge("Predictor7","PredictorAdd7"),ge("Predictor8","PredictorAdd8"),ge("Predictor9","PredictorAdd9"),ge("Predictor10","PredictorAdd10"),ge("Predictor11","PredictorAdd11"),ge("Predictor12","PredictorAdd12"),ge("Predictor13","PredictorAdd13");var gd=R.PredictorAdd2;Je("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Je("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var qf,ui=R.ColorIndexInverseTransform,vc=R.MapARGB,$f=R.VP8LColorIndexInverseTransformAlpha,Gf=R.MapAlpha,_a=R.VP8LPredictorsAdd=[];_a.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Ko,Or,wr,Ea,Fs,Ms,wc,Us,pn,yd,br,di,bc,Kf,vd,Yo,Xo,Sa,Qo,xc,Jo,ka,wd,hi,fi,Vt,Wt,mn,On=s(511),Bs=s(2041),bd=s(225),_c=s(767),Yf=0,d1=Bs,Xf=bd,Yr=_c,pi=On,Qf=0,Jf=1,xb=2,Zf=3,ep=4,h1=5,_b=6,f1=7,p1=8,tp=9,m1=10,LA=[2,3,7],OA=[3,3,11],Eb=[280,256,256,256,40],DA=[0,1,1,1,0],FA=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],MA=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],UA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],BA=8,g1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],y1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xd=null,zA=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],jA=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Sb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],VA=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],WA=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],HA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],qA=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ra=[],Mi=[],zs=[],$A=1,kb=2,Na=[],mi=[];Ae("UpsampleRgbLinePair",Rt,3),Ae("UpsampleBgrLinePair",en,3),Ae("UpsampleRgbaLinePair",Fi,4),Ae("UpsampleBgraLinePair",jn,4),Ae("UpsampleArgbLinePair",ar,4),Ae("UpsampleRgba4444LinePair",kn,2),Ae("UpsampleRgb565LinePair",an,2);var GA=R.UpsampleRgbLinePair,KA=R.UpsampleBgrLinePair,Rb=R.UpsampleRgbaLinePair,Nb=R.UpsampleBgraLinePair,Cb=R.UpsampleArgbLinePair,Ab=R.UpsampleRgba4444LinePair,YA=R.UpsampleRgb565LinePair,np=16,rp=1<<np-1,_d=-227,v1=482,XA=6,Ib=0,QA=s(256),JA=s(256),ZA=s(256),e8=s(256),t8=s(v1-_d),n8=s(v1-_d);hs("YuvToRgbRow",Rt,3),hs("YuvToBgrRow",en,3),hs("YuvToRgbaRow",Fi,4),hs("YuvToBgraRow",jn,4),hs("YuvToArgbRow",ar,4),hs("YuvToRgba4444Row",kn,2),hs("YuvToRgb565Row",an,2);var Pb=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ip=[0,2,8],r8=[8,7,6,4,4,2,2,2,1,1,1,1],i8=1;this.WebPDecodeRGBA=function(p,v,S,T,z){var Y=Jf,X=new dc,J=new ir;X.ba=J,J.S=Y,J.width=[J.width],J.height=[J.height];var Z=J.width,ie=J.height,fe=new Jt;if(fe==null||p==null)var _e=2;else e(fe!=null),_e=fc(p,v,S,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(_e!=0?Z=0:(Z!=null&&(Z[0]=fe.width[0]),ie!=null&&(ie[0]=fe.height[0]),Z=1),Z){J.width=J.width[0],J.height=J.height[0],T!=null&&(T[0]=J.width),z!=null&&(z[0]=J.height);e:{if(T=new ic,(z=new od).data=p,z.w=v,z.ha=S,z.kd=1,v=[0],e(z!=null),((p=fc(z.data,z.w,z.ha,null,null,null,v,null,z))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(X!=null),T.data=z.data,T.w=z.w+z.offset,T.ha=z.ha-z.offset,T.put=zn,T.ac=Kt,T.bc=as,T.ma=X,z.xa){if((p=ci())==null){X=1;break e}if(function(Ee,we){var Te=[0],Ce=[0],me=[0];t:for(;;){if(Ee==null)return 0;if(we==null)return Ee.a=2,0;if(Ee.l=we,Ee.a=0,$(Ee.m,we.data,we.w,we.ha),!rt(Ee.m,Te,Ce,me)){Ee.a=3;break t}if(Ee.xb=kb,we.width=Te[0],we.height=Ce[0],!cs(Te[0],Ce[0],1,Ee,null))break t;return 1}return e(Ee.a!=0),0}(p,T)){if(T=(v=pc(T.width,T.height,X.Oa,X.ba))==0){t:{T=p;n:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((S=T.l)!=null),e((z=S.ma)!=null),T.xb!=0){if(T.ca=z.ba,T.tb=z.tb,e(T.ca!=null),!fd(z.Oa,S,Zf)){T.a=2;break n}if(!Wo(T,S.width)||S.da)break n;if((S.da||xt(T.ca.S))&&be(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&be()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!F(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!Li(T,T.V,T.Ba,T.c,T.i,S.o,Jl))break n;z.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(v=p.a)}else v=p.a}else{if((p=new q0)==null){X=1;break e}if(p.Fa=z.na,p.P=z.P,p.qc=z.Sa,Af(p,T)){if((v=pc(T.width,T.height,X.Oa,X.ba))==0){if(p.Aa=0,S=X.Oa,e((z=p)!=null),S!=null){if(0<(Z=0>(Z=S.Md)?0:100<Z?255:255*Z/100)){for(ie=fe=0;4>ie;++ie)12>(_e=z.pb[ie]).lc&&(_e.ia=Z*r8[0>_e.lc?0:_e.lc]>>3),fe|=_e.ia;fe&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=S.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}$0(p,T)||(v=p.a)}}else v=p.a}v==0&&X.Oa!=null&&X.Oa.fd&&(v=pd(X.ba))}X=v}Y=X!=0?null:11>Y?J.f.RGBA.eb:J.f.kb.y}else Y=null;return Y};var Tb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(R,A){for(var B="",L=0;L<4;L++)B+=String.fromCharCode(R[A++]);return B}function u(R,A){return(R[A+0]<<0|R[A+1]<<8|R[A+2]<<16)>>>0}function d(R,A){return(R[A+0]<<0|R[A+1]<<8|R[A+2]<<16|R[A+3]<<24)>>>0}new l;var f=[0],h=[0],g=[],y=new l,b=t,m=function(R,A){var B={},L=0,k=!1,I=0,_=0;if(B.frames=[],!function(K,q,H,oe){for(var pe=0;pe<oe;pe++)if(K[q+pe]!=H.charCodeAt(pe))return!0;return!1}(R,A,"RIFF",4)){var V,U;for(d(R,A+=4),A+=8;A<R.length;){var P=c(R,A),$=d(R,A+=4);A+=4;var W=$+(1&$);switch(P){case"VP8 ":case"VP8L":B.frames[L]===void 0&&(B.frames[L]={}),(C=B.frames[L]).src_off=k?_:A-8,C.src_size=I+$+8,L++,k&&(k=!1,I=0,_=0);break;case"VP8X":(C=B.header={}).feature_flags=R[A];var te=A+4;C.canvas_width=1+u(R,te),te+=3,C.canvas_height=1+u(R,te),te+=3;break;case"ALPH":k=!0,I=W+8,_=A-8;break;case"ANIM":(C=B.header).bgcolor=d(R,A),te=A+4,C.loop_count=(V=R)[(U=te)+0]<<0|V[U+1]<<8,te+=2;break;case"ANMF":var ne,C;(C=B.frames[L]={}).offset_x=2*u(R,A),A+=3,C.offset_y=2*u(R,A),A+=3,C.width=1+u(R,A),A+=3,C.height=1+u(R,A),A+=3,C.duration=u(R,A),A+=3,ne=R[A++],C.dispose=1&ne,C.blend=ne>>1&1}P!="ANMF"&&(A+=W)}return B}}(b,0);m.response=b,m.rgbaoutput=!0,m.dataurl=!1;var w=m.header?m.header:null,x=m.frames?m.frames:null;if(w){w.loop_counter=w.loop_count,f=[w.canvas_height],h=[w.canvas_width];for(var N=0;N<x.length&&x[N].blend!=0;N++);}var O=x[0],D=y.WebPDecodeRGBA(b,O.src_off,O.src_size,h,f);O.rgba=D,O.imgwidth=h[0],O.imgheight=f[0];for(var M=0;M<h[0]*f[0]*4;M++)g[M]=D[M];return this.width=h,this.height=f,this.data=g,this}(function(t){var e=function(){return typeof Tv=="function"},n=function(f,h,g,y){var b=4,m=a;switch(y){case t.image_compression.FAST:b=1,m=s;break;case t.image_compression.MEDIUM:b=6,m=o;break;case t.image_compression.SLOW:b=9,m=l}f=r(f,h,g,m);var w=Tv(f,{level:b});return t.__addimage__.arrayBufferToBinaryString(w)},r=function(f,h,g,y){for(var b,m,w,x=f.length/h,N=new Uint8Array(f.length+x),O=u(),D=0;D<x;D+=1){if(w=D*h,b=f.subarray(w,w+h),y)N.set(y(b,g,m),w+D);else{for(var M,R=O.length,A=[];M<R;M+=1)A[M]=O[M](b,g,m);var B=d(A.concat());N.set(A[B],w+D)}m=b}return N},i=function(f){var h=Array.apply([],f);return h.unshift(0),h},s=function(f,h){var g,y=[],b=f.length;y[0]=1;for(var m=0;m<b;m+=1)g=f[m-h]||0,y[m+1]=f[m]-g+256&255;return y},a=function(f,h,g){var y,b=[],m=f.length;b[0]=2;for(var w=0;w<m;w+=1)y=g&&g[w]||0,b[w+1]=f[w]-y+256&255;return b},o=function(f,h,g){var y,b,m=[],w=f.length;m[0]=3;for(var x=0;x<w;x+=1)y=f[x-h]||0,b=g&&g[x]||0,m[x+1]=f[x]+256-(y+b>>>1)&255;return m},l=function(f,h,g){var y,b,m,w,x=[],N=f.length;x[0]=4;for(var O=0;O<N;O+=1)y=f[O-h]||0,b=g&&g[O]||0,m=g&&g[O-h]||0,w=c(y,b,m),x[O+1]=f[O]-w+256&255;return x},c=function(f,h,g){if(f===h&&h===g)return f;var y=Math.abs(h-g),b=Math.abs(f-g),m=Math.abs(f+h-g-g);return y<=b&&y<=m?f:b<=m?h:g},u=function(){return[i,s,a,o,l]},d=function(f){var h=f.map(function(g){return g.reduce(function(y,b){return y+Math.abs(b)},0)});return h.indexOf(Math.min.apply(null,h))};t.processPNG=function(f,h,g,y){var b,m,w,x,N,O,D,M,R,A,B,L,k,I,_,V=this.decode.FLATE_DECODE,U="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(w=new TW(f)).imgData,m=w.bits,b=w.colorSpace,N=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){R=(M=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,B=new Uint8Array(R*w.colors),A=new Uint8Array(R);var P,$=w.pixelBitlength-w.bits;for(I=0,_=0;I<R;I++){for(k=M[I],P=0;P<$;)B[_++]=k>>>P&255,P+=w.bits;A[I]=k>>>P&255}}if(w.bits===16){R=(M=new Uint32Array(w.decodePixels().buffer)).length,B=new Uint8Array(R*(32/w.pixelBitlength)*w.colors),A=new Uint8Array(R*(32/w.pixelBitlength)),L=w.colors>1,I=0,_=0;for(var W=0;I<R;)k=M[I++],B[_++]=k>>>0&255,L&&(B[_++]=k>>>16&255,k=M[I++],B[_++]=k>>>0&255),A[W++]=k>>>16&255;m=8}y!==t.image_compression.NONE&&e()?(f=n(B,w.width*w.colors,w.colors,y),D=n(A,w.width,1,y)):(f=B,D=A,V=void 0)}if(w.colorType===3&&(b=this.color_spaces.INDEXED,O=w.palette,w.transparency.indexed)){var te=w.transparency.indexed,ne=0;for(I=0,R=te.length;I<R;++I)ne+=te[I];if((ne/=255)===R-1&&te.indexOf(0)!==-1)x=[te.indexOf(0)];else if(ne!==R){for(M=w.decodePixels(),A=new Uint8Array(M.length),I=0,R=M.length;I<R;I++)A[I]=te[M[I]];D=n(A,w.width,1)}}var C=function(K){var q;switch(K){case t.image_compression.FAST:q=11;break;case t.image_compression.MEDIUM:q=13;break;case t.image_compression.SLOW:q=14;break;default:q=12}return q}(y);return V===this.decode.FLATE_DECODE&&(U="/Predictor "+C+" "),U+="/Colors "+N+" /BitsPerComponent "+m+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:g,data:f,index:h,filter:V,decodeParameters:U,transparency:x,palette:O,sMask:D,predictor:C,width:w.width,height:w.height,bitsPerComponent:m,colorSpace:b}}}})(it.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new LW(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new U2(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(it.API),ji.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ji.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){jt.log("bit decode error:"+n)}},ji.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},ji.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},ji.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ji.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},ji.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},ji.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},ji.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},ji.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new ji(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new U2(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(it.API),J4.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new J4(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new U2(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(it.API),it.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],d=r[c+1],f=r[c+2],h=r[c+3];s[o++]=u,s[o++]=d,s[o++]=f,a[l++]=h}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},it.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ic=it.API,Wp=Ic.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,f=0,h=t.length,g=0,y=o[0]||l,b=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(f=d&&Ot(c[r])==="object"&&!isNaN(parseInt(c[r][g],10))?c[r][g]/u:0,b.push((o[r]||y)/l+f)),g=r;return b},K4=Ic.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ic.processArabic&&(t=Ic.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Wp.apply(this,arguments).reduce(function(s,a){return s+a},0)},Y4=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},X4=function(t,e,n){n||(n={});var r,i,s,a,o,l,c,u=[],d=[u],f=n.textIndent||0,h=0,g=0,y=t.split(" "),b=Wp.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var m=Array(l).join(" "),w=[];y.map(function(N){(N=N.split(/\s*\n/)).length>1?w=w.concat(N.map(function(O,D){return(D&&O.length?`
`:"")+O})):w.push(N[0])}),y=w,l=K4.apply(this,[m,n])}for(s=0,a=y.length;s<a;s++){var x=0;if(r=y[s],l&&r[0]==`
`&&(r=r.substr(1),x=1),f+h+(g=(i=Wp.apply(this,[r,n])).reduce(function(N,O){return N+O},0))>e||x){if(g>e){for(o=Y4.apply(this,[r,i,e-(f+h),e]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);g=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(N,O){return N+O},0)}else u=[r];d.push(u),f=g+l,h=b}else u.push(r),f+=h+g,h=b}return c=l?function(N,O){return(O?m:"")+N.join(" ")}:function(N){return N.join(" ")},d.map(c)},Ic.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(X4.apply(this,[r[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},a=t.__fontmetrics__.compress=function(d){var f,h,g,y,b=["{"];for(var m in d){if(f=d[m],isNaN(parseInt(m,10))?h="'"+m+"'":(m=parseInt(m,10),h=(h=s(m).slice(2)).slice(0,-1)+r[h.slice(-1)]),typeof f=="number")f<0?(g=s(f).slice(3),y="-"):(g=s(f).slice(2),y=""),g=y+g.slice(0,-1)+r[g.slice(-1)];else{if(Ot(f)!=="object")throw new Error("Don't know what to do with value type "+Ot(f)+".");g=a(f)}b.push(h+g)}return b.push("}"),b.join("")},o=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,h,g,y,b={},m=1,w=b,x=[],N="",O="",D=d.length-1,M=1;M<D;M+=1)(y=d[M])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(y):y=="{"?(x.push([w,g]),w={},g=void 0):y=="}"?((h=x.pop())[0][h[1]]=w,g=void 0,w=h[0]):y=="-"?m=-1:g===void 0?n.hasOwnProperty(y)?(N+=n[y],g=parseInt(N,16)*m,m=1,N=""):N+=y:n.hasOwnProperty(y)?(O+=n[y],w[g]=parseInt(O,16)*m,m=1,g=void 0,O=""):O+=y;return b},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var f=d.font,h=u.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var g=c.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(it.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(wh(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(it),function(t){function e(){return(at.canvg?Promise.resolve(at.canvg):Tg(()=>import("./index.es-WPeLuCaZ.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}it.API.addSvgAsImage=function(n,r,i,s,a,o,l,c){if(isNaN(r)||isNaN(i))throw jt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw jt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=a;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(g){return g.fromString(d,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),r,i,s,a,l,c)})}}(),it.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},it.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,d=0;function f(g,y){var b,m=!1;for(b=0;b<g.length;b+=1)g[b]===y&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(d=0;d<h;d+=1)n[o[d]].value=n[o[d]].defaultValue,n[o[d]].explicitSet=!1}if(Ot(t)==="object"){for(i in t)if(s=t[i],f(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&f(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,y=[];for(g in n)n[g].explicitSet===!0&&(n[g].type==="name"?y.push("/"+g+" /"+n[g].value):y.push("/"+g+" "+n[g].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(it.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,f=s.length;d<f;++d){if(o=a.metadata.characterToGlyph(s.charCodeAt(d)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},r=function(s){var a,o,l,c,u,d,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,f=(o=Object.keys(s).sort(function(h,g){return h-g})).length;d<f;d++)a=o[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",g=0;g<f.length;g++)h+=String.fromCharCode(f[g]);var y=c();u({data:h,addLength1:!0,objectId:y}),l("endobj");var b=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var m=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Tc(o.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Tc(o.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+Tc(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var g=c();u({data:f,addLength1:!0,objectId:g}),l("endobj");var y=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var b=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Tc(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Tc(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},f=d.pdfEscape,h=d.activeFontKey,g=d.fonts,y=h,b="",m=0,w="",x=g[y].encoding;if(g[y].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:d};for(w=o,y=h,Array.isArray(o)&&(w=o[0]),m=0;m<w.length;m+=1)g[y].metadata.hasOwnProperty("cmap")&&(a=g[y].metadata.cmap.unicode.codeMap[w[m].charCodeAt(0)]),a||w[m].charCodeAt(0)<256&&g[y].metadata.hasOwnProperty("Unicode")?b+=w[m]:b+="";var N="";return parseInt(y.slice(1))<14||x==="WinAnsiEncoding"?N=f(b,y).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(N=n(b,g[y])),d.isHex=!0,{text:N,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(it),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(it.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,c,u,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,x=0;this.__bidiEngine__={};var N=function(L){var k=L.charCodeAt(),I=k>>8,_=y[I];return _!==void 0?d[256*_+(255&k)]:I===252||I===253?"AL":m.test(I)?"L":I===8?"R":"N"},O=function(L){for(var k,I=0;I<L.length;I++){if((k=N(L.charAt(I)))==="L")return!1;if(k==="R")return!0}return!1},D=function(L,k,I,_){var V,U,P,$,W=k[_];switch(W){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(W="AN");break;case"AL":w=!0,W="R";break;case"WS":W="N";break;case"CS":_<1||_+1>=k.length||(V=I[_-1])!=="EN"&&V!=="AN"||(U=k[_+1])!=="EN"&&U!=="AN"?W="N":w&&(U="AN"),W=U===V?U:"N";break;case"ES":W=(V=_>0?I[_-1]:"B")==="EN"&&_+1<k.length&&k[_+1]==="EN"?"EN":"N";break;case"ET":if(_>0&&I[_-1]==="EN"){W="EN";break}if(w){W="N";break}for(P=_+1,$=k.length;P<$&&k[P]==="ET";)P++;W=P<$&&k[P]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for($=k.length,P=_+1;P<$&&k[P]==="NSM";)P++;if(P<$){var te=L[_],ne=te>=1425&&te<=2303||te===64286;if(V=k[P],ne&&(V==="R"||V==="AL")){W="R";break}}}W=_<1||(V=k[_-1])==="B"?"N":I[_-1];break;case"B":w=!1,i=!0,W=x;break;case"S":s=!0,W="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":W="N"}return W},M=function(L,k,I){var _=L.split("");return I&&R(_,I,{hiLevel:x}),_.reverse(),k&&k.reverse(),_.join("")},R=function(L,k,I){var _,V,U,P,$,W=-1,te=L.length,ne=0,C=[],K=x?h:f,q=[];for(w=!1,i=!1,s=!1,V=0;V<te;V++)q[V]=N(L[V]);for(U=0;U<te;U++){if($=ne,C[U]=D(L,q,C,U),_=240&(ne=K[$][g[C[U]]]),ne&=15,k[U]=P=K[ne][5],_>0)if(_===16){for(V=W;V<U;V++)k[V]=1;W=-1}else W=-1;if(K[ne][6])W===-1&&(W=U);else if(W>-1){for(V=W;V<U;V++)k[V]=P;W=-1}q[U]==="B"&&(k[U]=0),I.hiLevel|=P}s&&function(H,oe,pe){for(var ue=0;ue<pe;ue++)if(H[ue]==="S"){oe[ue]=x;for(var de=ue-1;de>=0&&H[de]==="WS";de--)oe[de]=x}}(q,k,te)},A=function(L,k,I,_,V){if(!(V.hiLevel<L)){if(L===1&&x===1&&!i)return k.reverse(),void(I&&I.reverse());for(var U,P,$,W,te=k.length,ne=0;ne<te;){if(_[ne]>=L){for($=ne+1;$<te&&_[$]>=L;)$++;for(W=ne,P=$-1;W<P;W++,P--)U=k[W],k[W]=k[P],k[P]=U,I&&(U=I[W],I[W]=I[P],I[P]=U);ne=$}ne++}}},B=function(L,k,I){var _=L.split(""),V={hiLevel:x};return I||(I=[]),R(_,I,V),function(U,P,$){if($.hiLevel!==0&&u)for(var W,te=0;te<U.length;te++)P[te]===1&&(W=b.indexOf(U[te]))>=0&&(U[te]=b[W+1])}(_,I,V),A(2,_,k,I,V),A(1,_,k,I,V),_.join("")};return this.__bidiEngine__.doBidiReorder=function(L,k,I){if(function(V,U){if(U)for(var P=0;P<V.length;P++)U[P]=P;o===void 0&&(o=O(V)),c===void 0&&(c=O(V))}(L,k),a||!l||c)if(a&&l&&o^c)x=o?1:0,L=M(L,k,I);else if(!a&&l&&c)x=o?1:0,L=B(L,k,I),L=M(L,k);else if(!a||o||l||c){if(a&&!l&&o^c)L=M(L,k),o?(x=0,L=B(L,k,I)):(x=1,L=B(L,k,I),L=M(L,k));else if(a&&o&&!l&&c)x=1,L=B(L,k,I),L=M(L,k);else if(!a&&!l&&o^c){var _=u;o?(x=1,L=B(L,k,I),x=0,u=!1,L=B(L,k,I),u=_):(x=0,L=B(L,k,I),L=M(L,k),x=1,u=!1,L=B(L,k,I),u=_,L=M(L,k))}}else x=0,L=B(L,k,I);else x=o?1:0,L=B(L,k,I);return L},this.__bidiEngine__.setOptions=function(L){L&&(a=L.isInputVisual,l=L.isOutputVisual,o=L.isInputRtl,c=L.isOutputRtl,u=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),a=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(it),it.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Io(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new KW(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new OW(this.contents),this.head=new FW(this),this.name=new jW(this),this.cmap=new pA(this),this.toUnicode={},this.hhea=new MW(this),this.maxp=new VW(this),this.hmtx=new WW(this),this.post=new BW(this),this.os2=new UW(this),this.loca=new GW(this),this.glyf=new HW(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var rs,Io=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),OW=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,c,u,d,f,h,g,y;for(y in h=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),a=Math.floor(d/l),u=16*h-d,(i=new Io).writeInt(this.scalarType),i.writeShort(h),i.writeShort(d),i.writeShort(a),i.writeShort(u),s=16*h,c=i.pos+s,o=null,g=[],n)for(f=n[y],i.writeString(y),i.writeInt(t(f)),i.writeInt(c),i.writeInt(f.length),g=g.concat(f),y==="head"&&(o=c),c+=f.length;c%4;)g.push(0),c++;return i.write(g),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=mA.call(n);n.length%4;)n.push(0);for(s=new Io(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),DW={}.hasOwnProperty,Ps=function(t,e){for(var n in e)DW.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};rs=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var FW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,rs),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Io).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),Z4=function(){function t(e,n){var r,i,s,a,o,l,c,u,d,f,h,g,y,b,m,w,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),f=h/2,e.pos+=6,s=function(){var N,O;for(O=[],l=N=0;0<=f?N<f:N>f;l=0<=f?++N:--N)O.push(e.readUInt16());return O}(),e.pos+=2,y=function(){var N,O;for(O=[],l=N=0;0<=f?N<f:N>f;l=0<=f?++N:--N)O.push(e.readUInt16());return O}(),c=function(){var N,O;for(O=[],l=N=0;0<=f?N<f:N>f;l=0<=f?++N:--N)O.push(e.readUInt16());return O}(),u=function(){var N,O;for(O=[],l=N=0;0<=f?N<f:N>f;l=0<=f?++N:--N)O.push(e.readUInt16());return O}(),i=(this.length-e.pos+this.offset)/2,o=function(){var N,O;for(O=[],l=N=0;0<=i?N<i:N>i;l=0<=i?++N:--N)O.push(e.readUInt16());return O}(),l=m=0,x=s.length;m<x;l=++m)for(b=s[l],r=w=g=y[l];g<=b?w<=b:w>=b;r=g<=b?++w:--w)u[l]===0?a=r+c[l]:(a=o[u[l]/2+(r-g)-(f-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}e.pos=d}return t.encode=function(e,n){var r,i,s,a,o,l,c,u,d,f,h,g,y,b,m,w,x,N,O,D,M,R,A,B,L,k,I,_,V,U,P,$,W,te,ne,C,K,q,H,oe,pe,ue,de,Re,Se,Le;switch(_=new Io,a=Object.keys(e).sort(function(Me,F){return Me-F}),n){case"macroman":for(y=0,b=function(){var Me=[];for(g=0;g<256;++g)Me.push(0);return Me}(),w={0:0},s={},V=0,W=a.length;V<W;V++)w[de=e[i=a[V]]]==null&&(w[de]=++y),s[i]={old:e[i],new:w[e[i]]},b[i]=w[e[i]];return _.writeUInt16(1),_.writeUInt16(0),_.writeUInt32(12),_.writeUInt16(0),_.writeUInt16(262),_.writeUInt16(0),_.write(b),{charMap:s,subtable:_.data,maxGlyphID:y+1};case"unicode":for(k=[],d=[],x=0,w={},r={},m=c=null,U=0,te=a.length;U<te;U++)w[O=e[i=a[U]]]==null&&(w[O]=++x),r[i]={old:O,new:w[O]},o=w[O]-i,m!=null&&o===c||(m&&d.push(m),k.push(i),c=o),m=i;for(m&&d.push(m),d.push(65535),k.push(65535),B=2*(A=k.length),R=2*Math.pow(Math.log(A)/Math.LN2,2),f=Math.log(R/2)/Math.LN2,M=2*A-R,l=[],D=[],h=[],g=P=0,ne=k.length;P<ne;g=++P){if(L=k[g],u=d[g],L===65535){l.push(0),D.push(0);break}if(L-(I=r[L].new)>=32768)for(l.push(0),D.push(2*(h.length+A-g)),i=$=L;L<=u?$<=u:$>=u;i=L<=u?++$:--$)h.push(r[i].new);else l.push(I-L),D.push(0)}for(_.writeUInt16(3),_.writeUInt16(1),_.writeUInt32(12),_.writeUInt16(4),_.writeUInt16(16+8*A+2*h.length),_.writeUInt16(0),_.writeUInt16(B),_.writeUInt16(R),_.writeUInt16(f),_.writeUInt16(M),pe=0,C=d.length;pe<C;pe++)i=d[pe],_.writeUInt16(i);for(_.writeUInt16(0),ue=0,K=k.length;ue<K;ue++)i=k[ue],_.writeUInt16(i);for(Re=0,q=l.length;Re<q;Re++)o=l[Re],_.writeUInt16(o);for(Se=0,H=D.length;Se<H;Se++)N=D[Se],_.writeUInt16(N);for(Le=0,oe=h.length;Le<oe;Le++)y=h[Le],_.writeUInt16(y);return{charMap:r,subtable:_.data,maxGlyphID:x+1}}},t}(),pA=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,rs),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Z4(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=Z4.encode(n,r),(s=new Io).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),MW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,rs),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),UW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,rs),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),BW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,rs),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(n.readUInt32());return c}).call(this)}},e}(),zW=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},jW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,rs),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,a,o,l,c,u,d,f,h;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},a=d=0,f=i.length;d<f;a=++d)s=i[a],n.pos=s.offset,u=n.readString(s.length),o=new zW(u,s),c[h=s.nameID]==null&&(c[h]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),VW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,rs),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),WW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,rs),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,a,o,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)d.push(n.readInt16());return d}(),this.widths=(function(){var u,d,f,h;for(h=[],u=0,d=(f=this.metrics).length;u<d;u++)a=f[u],h.push(a.advance);return h}).call(this),i=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),mA=[].slice,HW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,rs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,a,o,l,c,u,d,f;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,o=(l=new Io(r.read(s))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[n]=o===-1?new $W(l,u,f,c,d):new qW(l,o,u,f,c,d),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)s=n[r[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),qW=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),$W=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Io(mA.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),GW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ps(e,rs),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<r.length&&r[a]==o){++a,i[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),d=0;d<i.length;++d)u[4*d+3]=255&i[d],u[4*d+2]=(65280&i[d])>>8,u[4*d+1]=(16711680&i[d])>>16,u[4*d]=(4278190080&i[d])>>24;return u},e}(),KW=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,c,u,d,f,h,g,y,b,m;for(i in r=pA.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),h={0:0},m=r.charMap)h[(l=m[i]).old]=l.new;for(g in f=r.maxGlyphID,a)g in h||(h[g]=f++);return u=function(w){var x,N;for(x in N={},w)N[w[x]]=x;return N}(h),d=Object.keys(u).sort(function(w,x){return w-x}),y=function(){var w,x,N;for(N=[],w=0,x=d.length;w<x;w++)o=d[w],N.push(u[o]);return N}(),s=this.font.glyf.encode(a,y,h),c=this.font.loca.encode(s.offsets,y),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();it.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();const gA=async(t,e)=>new Promise((n,r)=>{const i=new FileReader;i.onload=s=>{const a=new Image;a.onload=()=>{const o=document.createElement("canvas");o.width=a.width,o.height=a.height,o.getContext("2d").drawImage(a,0,0);const c=XW(e);o.toBlob(u=>{if(u){const d=new File([u],`converted.${e}`,{type:c});n(d)}else r(new Error("Conversion failed"))},c,1)},a.onerror=()=>r(new Error("Failed to load image")),a.src=s.target.result},i.onerror=()=>r(new Error("Failed to read file")),i.readAsDataURL(t)}),YW=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{const s=new Image;s.onload=()=>{const a=new it({orientation:s.width>s.height?"landscape":"portrait",unit:"px",format:[s.width,s.height]});a.addImage(i.target.result,"JPEG",0,0,s.width,s.height);const o=a.output("blob"),l=new File([o],"converted.pdf",{type:"application/pdf"});e(l)},s.onerror=()=>n(new Error("Failed to load image")),s.src=i.target.result},r.onerror=()=>n(new Error("Failed to read file")),r.readAsDataURL(t)}),XW=t=>({jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",bmp:"image/bmp"})[t.toLowerCase()]||"image/png",QW=()=>{const{user:t}=Tn(),{canUseFeature:e,incrementUsage:n,getRemainingUsage:r}=Mo();if(!t)return React.createElement(zo,null);const[i,s]=se.useState(null),[a,o]=se.useState(null),[l,c]=se.useState("png"),[u,d]=se.useState(!1),[f,h]=se.useState(!1),g=[{value:"jpg",label:"JPG"},{value:"png",label:"PNG"},{value:"webp",label:"WEBP"},{value:"gif",label:"GIF"},{value:"bmp",label:"BMP"},{value:"pdf",label:"PDF"}],y=w=>{s(w),o(null)},b=async()=>{if(i){if(!e("convert")){r("convert"),h(!0);return}d(!0);try{let w;l==="pdf"?w=await YW(i):w=await gA(i,l),o(w),await n("convert")}catch(w){alert("Conversion failed: "+w.message)}finally{d(!1)}}},m=()=>{if(!a)return;const w=URL.createObjectURL(a),x=document.createElement("a");x.href=w,x.download=a.name,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(w)};return React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(Yl,{isOpen:u,message:"Converting image..."}),React.createElement(He.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 space-y-4"},React.createElement("div",{className:"flex items-center justify-center space-x-3"},React.createElement(Xh,{size:40,className:"text-primary-600 dark:text-primary-400"}),React.createElement("h1",{className:"text-4xl md:text-5xl font-bold gradient-text"},"Image Converter")),React.createElement("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto"},"Convert your images between different formats: JPG, PNG, WEBP, GIF, BMP, and PDF")),!i&&React.createElement(Bo,{onFileSelect:y}),React.createElement(FC,null),i&&!a&&React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6"},React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"Select Target Format"),React.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4"},g.map(w=>React.createElement("button",{key:w.value,onClick:()=>c(w.value),className:`p-4 rounded-xl font-semibold transition-all ${l===w.value?"bg-primary-500 text-white shadow-lg scale-105":"glass-card hover:scale-105"}`},w.label)))),React.createElement("div",{className:"glass-card p-6"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h3",{className:"text-xl font-bold"},"Original Image"),React.createElement("button",{onClick:()=>{s(null),o(null)},className:"text-sm text-gray-600 dark:text-gray-400 hover:text-primary-500"},"Change Image")),React.createElement("div",{className:"relative rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800"},React.createElement("img",{src:URL.createObjectURL(i),alt:"Original",className:"w-full h-auto max-h-96 object-contain"})),React.createElement("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400"},React.createElement("p",null,"File: ",i.name),React.createElement("p",null,"Type: ",i.type),React.createElement("p",null,"Size: ",(i.size/1024).toFixed(2)," KB"))),React.createElement("button",{onClick:b,className:"glass-button w-full"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(Xh,{size:20}),React.createElement("span",null,"Convert to ",l.toUpperCase())))),a&&React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6"},React.createElement(Sf,{file:a,originalFile:i,onDownload:m,title:"Conversion Complete!"}),React.createElement("div",{className:"flex gap-4"},React.createElement("button",{onClick:()=>{s(null),o(null)},className:"flex-1 glass-card p-4 font-semibold hover:scale-105 transition-all"},"Convert Another"),React.createElement("button",{onClick:m,className:"flex-1 glass-button"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(fa,{size:20}),React.createElement("span",null,"Download"))))),React.createElement(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-12 glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"Supported Conversions"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600 dark:text-gray-400"},React.createElement("div",null,React.createElement("p",{className:"font-semibold mb-2"},"Image Formats:"),React.createElement("ul",{className:"space-y-1"},React.createElement("li",null," JPG  PNG"),React.createElement("li",null," WEBP  JPG/PNG"),React.createElement("li",null," GIF  JPG/PNG"),React.createElement("li",null," BMP  JPG/PNG"))),React.createElement("div",null,React.createElement("p",{className:"font-semibold mb-2"},"Document Formats:"),React.createElement("ul",{className:"space-y-1"},React.createElement("li",null," Image  PDF"),React.createElement("li",null," Maintains image quality"),React.createElement("li",null," Automatic page sizing"))))),React.createElement(jo,{isOpen:f,onClose:()=>h(!1),feature:"convert",remaining:r("convert")}))},JW=async(t,e,n,r=!0)=>new Promise((i,s)=>{const a=new FileReader;a.onload=o=>{const l=new Image;l.onload=()=>{let c=e,u=n;if(r){const h=l.width/l.height;e&&!n?u=e/h:n&&!e?c=n*h:e&&n&&(u=e/h)}const d=document.createElement("canvas");d.width=c,d.height=u,d.getContext("2d").drawImage(l,0,0,c,u),d.toBlob(h=>{if(h){const g=new File([h],t.name,{type:t.type});i(g)}else s(new Error("Resize failed"))},t.type,1)},l.onerror=()=>s(new Error("Failed to load image")),l.src=o.target.result},a.onerror=()=>s(new Error("Failed to read file")),a.readAsDataURL(t)}),yA=async(t,e)=>new Promise((n,r)=>{const i=new FileReader;i.onload=s=>{const a=new Image;a.onload=()=>{const o=e/100,l=Math.round(a.width*o),c=Math.round(a.height*o),u=document.createElement("canvas");u.width=l,u.height=c,u.getContext("2d").drawImage(a,0,0,l,c),u.toBlob(f=>{if(f){const h=new File([f],t.name,{type:t.type});n(h)}else r(new Error("Resize failed"))},t.type,1)},a.onerror=()=>r(new Error("Failed to load image")),a.src=s.target.result},i.onerror=()=>r(new Error("Failed to read file")),i.readAsDataURL(t)}),ZW=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{const s=new Image;s.onload=()=>{e({width:s.width,height:s.height})},s.onerror=()=>n(new Error("Failed to load image")),s.src=i.target.result},r.onerror=()=>n(new Error("Failed to read file")),r.readAsDataURL(t)}),eH=()=>{const{user:t}=Tn(),{canUseFeature:e,incrementUsage:n,getRemainingUsage:r}=Mo();if(!t)return React.createElement(zo,null);const[i,s]=se.useState(null),[a,o]=se.useState(null),[l,c]=se.useState(!1),[u,d]=se.useState(!1),[f,h]=se.useState({width:0,height:0}),[g,y]=se.useState("pixels"),[b,m]=se.useState(""),[w,x]=se.useState(""),[N,O]=se.useState(100),[D,M]=se.useState(!0);se.useEffect(()=>{i&&ZW(i).then(I=>{h(I),m(I.width),x(I.height)})},[i]);const R=I=>{s(I),o(null)},A=async()=>{if(i){if(!e("resize")){d(!0);return}c(!0);try{let I;g==="pixels"?I=await JW(i,parseInt(b)||f.width,parseInt(w)||f.height,D):I=await yA(i,N),o(I),await n("resize")}catch(I){alert("Resize failed: "+I.message)}finally{c(!1)}}},B=()=>{if(!a)return;const I=URL.createObjectURL(a),_=document.createElement("a");_.href=I,_.download=a.name,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(I)},L=[{name:"Instagram Post",width:1080,height:1080},{name:"Instagram Story",width:1080,height:1920},{name:"Facebook Cover",width:820,height:312},{name:"Twitter Header",width:1500,height:500},{name:"YouTube Thumbnail",width:1280,height:720},{name:"HD",width:1920,height:1080}],k=I=>{m(I.width),x(I.height),M(!1)};return React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(Yl,{isOpen:l,message:"Resizing image..."}),React.createElement(He.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 space-y-4"},React.createElement("div",{className:"flex items-center justify-center space-x-3"},React.createElement(hv,{size:40,className:"text-purple-600 dark:text-purple-400"}),React.createElement("h1",{className:"text-4xl md:text-5xl font-bold gradient-text"},"Resize Image")),React.createElement("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto"},"Resize your images by pixels or percentage, with preset sizes for social media")),!i&&React.createElement(Bo,{onFileSelect:R}),i&&!a&&React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6"},React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"Resize Mode"),React.createElement("div",{className:"grid grid-cols-2 gap-4"},React.createElement("button",{onClick:()=>y("pixels"),className:`p-4 rounded-xl font-semibold transition-all ${g==="pixels"?"bg-purple-500 text-white shadow-lg scale-105":"glass-card hover:scale-105"}`},"By Pixels"),React.createElement("button",{onClick:()=>y("percentage"),className:`p-4 rounded-xl font-semibold transition-all ${g==="percentage"?"bg-purple-500 text-white shadow-lg scale-105":"glass-card hover:scale-105"}`},"By Percentage"))),g==="pixels"&&React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"Preset Sizes"),React.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4"},L.map(I=>React.createElement("button",{key:I.name,onClick:()=>k(I),className:"glass-card p-4 hover:scale-105 transition-all text-left"},React.createElement("p",{className:"font-semibold"},I.name),React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},I.width,"  ",I.height))))),React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},g==="pixels"?"Custom Dimensions":"Scale Percentage"),g==="pixels"?React.createElement("div",{className:"space-y-4"},React.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4"},"Original: ",f.width,"  ",f.height," px"),React.createElement("div",{className:"grid grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Width (px)"),React.createElement("input",{type:"number",value:b,onChange:I=>m(I.target.value),className:"glass-input w-full",placeholder:"Width"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Height (px)"),React.createElement("input",{type:"number",value:w,onChange:I=>x(I.target.value),className:"glass-input w-full",placeholder:"Height"}))),React.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},React.createElement("input",{type:"checkbox",checked:D,onChange:I=>M(I.target.checked),className:"w-5 h-5 text-purple-500 rounded"}),React.createElement("span",null,"Maintain aspect ratio"))):React.createElement("div",{className:"space-y-4"},React.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4"},"New size: ",Math.round(f.width*N/100),"  ",Math.round(f.height*N/100)," px"),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Scale: ",N,"%"),React.createElement("input",{type:"range",min:"10",max:"200",value:N,onChange:I=>O(parseInt(I.target.value)),className:"w-full"}),React.createElement("div",{className:"flex justify-between text-xs text-gray-500 mt-1"},React.createElement("span",null,"10%"),React.createElement("span",null,"100%"),React.createElement("span",null,"200%"))))),React.createElement("div",{className:"glass-card p-6"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h3",{className:"text-xl font-bold"},"Original Image"),React.createElement("button",{onClick:()=>{s(null),o(null)},className:"text-sm text-gray-600 dark:text-gray-400 hover:text-purple-500"},"Change Image")),React.createElement("div",{className:"relative rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800"},React.createElement("img",{src:URL.createObjectURL(i),alt:"Original",className:"w-full h-auto max-h-96 object-contain"}))),React.createElement("button",{onClick:A,className:"glass-button w-full"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(hv,{size:20}),React.createElement("span",null,"Resize Image")))),a&&React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6"},React.createElement(Sf,{file:a,originalFile:i,onDownload:B,title:"Resize Complete!"}),React.createElement("div",{className:"flex gap-4"},React.createElement("button",{onClick:()=>{s(null),o(null)},className:"flex-1 glass-card p-4 font-semibold hover:scale-105 transition-all"},"Resize Another"),React.createElement("button",{onClick:B,className:"flex-1 glass-button"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(fa,{size:20}),React.createElement("span",null,"Download"))))),React.createElement(jo,{isOpen:u,onClose:()=>d(!1),feature:"resize",remaining:r("resize")}))},tH=()=>{const{user:t}=Tn(),{canUseFeature:e,incrementUsage:n,getRemainingUsage:r}=Mo();if(!t)return React.createElement(zo,null);const[i,s]=se.useState(null),[a,o]=se.useState(null),[l,c]=se.useState(!1),[u,d]=se.useState(!1),[f,h]=se.useState(80),[g,y]=se.useState("original"),b=N=>{s(N),o(null)},m=async()=>{if(i){if(!e("compress")){d(!0);return}c(!0);try{let N;g==="webp"?N=await YV(i,f/100):N=await KC(i,f/100),o(N),await n("compress")}catch(N){alert("Compression failed: "+N.message)}finally{c(!1)}}},w=()=>{if(!a)return;const N=URL.createObjectURL(a),O=document.createElement("a");O.href=N,O.download=a.name,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(N)},x=()=>!i||!a?0:((1-a.size/i.size)*100).toFixed(1);return React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(Yl,{isOpen:l,message:"Compressing image..."}),React.createElement(He.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 space-y-4"},React.createElement("div",{className:"flex items-center justify-center space-x-3"},React.createElement(fv,{size:40,className:"text-green-600 dark:text-green-400"}),React.createElement("h1",{className:"text-4xl md:text-5xl font-bold gradient-text"},"Compress Image")),React.createElement("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto"},"Reduce image file size while maintaining quality with adjustable compression settings")),!i&&React.createElement(Bo,{onFileSelect:b}),i&&!a&&React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6"},React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"Output Format"),React.createElement("div",{className:"grid grid-cols-2 gap-4"},React.createElement("button",{onClick:()=>y("original"),className:`p-4 rounded-xl font-semibold transition-all ${g==="original"?"bg-green-500 text-white shadow-lg scale-105":"glass-card hover:scale-105"}`},"Keep Original Format"),React.createElement("button",{onClick:()=>y("webp"),className:`p-4 rounded-xl font-semibold transition-all ${g==="webp"?"bg-green-500 text-white shadow-lg scale-105":"glass-card hover:scale-105"}`},"Convert to WebP")),g==="webp"&&React.createElement("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400"},"WebP format provides superior compression and quality compared to JPG/PNG")),React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"Compression Quality"),React.createElement("div",{className:"space-y-4"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",{className:"text-lg font-semibold"},"Quality: ",f,"%"),React.createElement("span",{className:"text-sm text-gray-600 dark:text-gray-400"},f<50?"Low":f<80?"Medium":"High")),React.createElement("input",{type:"range",min:"10",max:"100",value:f,onChange:N=>h(parseInt(N.target.value)),className:"w-full"}),React.createElement("div",{className:"flex justify-between text-xs text-gray-500"},React.createElement("span",null,"Smaller Size"),React.createElement("span",null,"Better Quality")),React.createElement("div",{className:"glass-card p-4 bg-blue-50 dark:bg-blue-900/20"},React.createElement("p",{className:"text-sm"},React.createElement("strong",null,"Tip:")," Quality of 70-85% provides the best balance between file size and visual quality for most images.")))),React.createElement("div",{className:"glass-card p-6"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h3",{className:"text-xl font-bold"},"Original Image"),React.createElement("button",{onClick:()=>{s(null),o(null)},className:"text-sm text-gray-600 dark:text-gray-400 hover:text-green-500"},"Change Image")),React.createElement("div",{className:"relative rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800"},React.createElement("img",{src:URL.createObjectURL(i),alt:"Original",className:"w-full h-auto max-h-96 object-contain"})),React.createElement("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400"},React.createElement("p",null,"File: ",i.name),React.createElement("p",null,"Type: ",i.type),React.createElement("p",null,"Size: ",(i.size/1024).toFixed(2)," KB"))),React.createElement("button",{onClick:m,className:"glass-button w-full"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(fv,{size:20}),React.createElement("span",null,"Compress Image")))),a&&React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6"},React.createElement(Sf,{file:a,originalFile:i,onDownload:w,title:"Compression Complete!"}),React.createElement("div",{className:"glass-card p-6 bg-green-50 dark:bg-green-900/20"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"Compression Results"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},React.createElement("div",{className:"text-center"},React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Original Size"),React.createElement("p",{className:"text-2xl font-bold"},(i.size/1024).toFixed(2)," KB")),React.createElement("div",{className:"text-center"},React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Compressed Size"),React.createElement("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400"},(a.size/1024).toFixed(2)," KB")),React.createElement("div",{className:"text-center"},React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Size Reduced"),React.createElement("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400"},x(),"%")))),React.createElement("div",{className:"flex gap-4"},React.createElement("button",{onClick:()=>{s(null),o(null)},className:"flex-1 glass-card p-4 font-semibold hover:scale-105 transition-all"},"Compress Another"),React.createElement("button",{onClick:w,className:"flex-1 glass-button"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(fa,{size:20}),React.createElement("span",null,"Download"))))),React.createElement(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-12 glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"About Image Compression"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm text-gray-600 dark:text-gray-400"},React.createElement("div",null,React.createElement("p",{className:"font-semibold mb-2"},"When to compress:"),React.createElement("ul",{className:"space-y-1"},React.createElement("li",null," Uploading to websites"),React.createElement("li",null," Sending via email"),React.createElement("li",null," Sharing on social media"),React.createElement("li",null," Reducing storage usage"))),React.createElement("div",null,React.createElement("p",{className:"font-semibold mb-2"},"Quality guidelines:"),React.createElement("ul",{className:"space-y-1"},React.createElement("li",null," 90-100%: Professional/Print"),React.createElement("li",null," 80-90%: High quality web"),React.createElement("li",null," 70-80%: Standard web"),React.createElement("li",null," Below 70%: Small previews"))))),React.createElement(jo,{isOpen:u,onClose:()=>d(!1),feature:"compress",remaining:r("compress")}))},nH=async(t,e)=>new Promise((n,r)=>{const i=new FileReader;i.onload=s=>{const a=new Image;a.onload=()=>{const o=document.createElement("canvas"),l=o.getContext("2d"),c=e*Math.PI/180,u=Math.abs(Math.sin(c)),d=Math.abs(Math.cos(c));o.width=a.width*d+a.height*u,o.height=a.width*u+a.height*d,l.translate(o.width/2,o.height/2),l.rotate(c),l.drawImage(a,-a.width/2,-a.height/2),o.toBlob(f=>{if(f){const h=new File([f],t.name,{type:t.type});n(h)}else r(new Error("Rotation failed"))},t.type,1)},a.onerror=()=>r(new Error("Failed to load image")),a.src=s.target.result},i.onerror=()=>r(new Error("Failed to read file")),i.readAsDataURL(t)}),rH=async(t,e="horizontal")=>new Promise((n,r)=>{const i=new FileReader;i.onload=s=>{const a=new Image;a.onload=()=>{const o=document.createElement("canvas");o.width=a.width,o.height=a.height;const l=o.getContext("2d");e==="horizontal"?(l.scale(-1,1),l.drawImage(a,-a.width,0)):(l.scale(1,-1),l.drawImage(a,0,-a.height)),o.toBlob(c=>{if(c){const u=new File([c],t.name,{type:t.type});n(u)}else r(new Error("Flip failed"))},t.type,1)},a.onerror=()=>r(new Error("Failed to load image")),a.src=s.target.result},i.onerror=()=>r(new Error("Failed to read file")),i.readAsDataURL(t)}),iH=async(t,e)=>{const{brightness:n=100,contrast:r=100,saturation:i=100}=e;return new Promise((s,a)=>{const o=new FileReader;o.onload=l=>{const c=new Image;c.onload=()=>{const u=document.createElement("canvas");u.width=c.width,u.height=c.height;const d=u.getContext("2d");d.filter=`brightness(${n}%) contrast(${r}%) saturate(${i}%)`,d.drawImage(c,0,0),u.toBlob(f=>{if(f){const h=new File([f],t.name,{type:t.type});s(h)}else a(new Error("Adjustment failed"))},t.type,1)},c.onerror=()=>a(new Error("Failed to load image")),c.src=l.target.result},o.onerror=()=>a(new Error("Failed to read file")),o.readAsDataURL(t)})},sH=async(t,e)=>{const n={grayscale:"grayscale(100%)",sepia:"sepia(100%)",blur:"blur(5px)",invert:"invert(100%)","hue-rotate":"hue-rotate(90deg)",vintage:"sepia(50%) contrast(120%) brightness(90%)",cold:"hue-rotate(180deg) saturate(150%)",warm:"sepia(30%) saturate(130%)"};return new Promise((r,i)=>{const s=new FileReader;s.onload=a=>{const o=new Image;o.onload=()=>{const l=document.createElement("canvas");l.width=o.width,l.height=o.height;const c=l.getContext("2d");c.filter=n[e]||"none",c.drawImage(o,0,0),l.toBlob(u=>{if(u){const d=new File([u],t.name,{type:t.type});r(d)}else i(new Error("Filter application failed"))},t.type,1)},o.onerror=()=>i(new Error("Failed to load image")),o.src=a.target.result},s.onerror=()=>i(new Error("Failed to read file")),s.readAsDataURL(t)})},aH=async(t,e,n={})=>{const{fontSize:r=48,color:i="rgba(255, 255, 255, 0.5)",position:s="bottom-right",fontFamily:a="Arial"}=n;return new Promise((o,l)=>{const c=new FileReader;c.onload=u=>{const d=new Image;d.onload=()=>{const f=document.createElement("canvas");f.width=d.width,f.height=d.height;const h=f.getContext("2d");h.drawImage(d,0,0),h.font=`${r}px ${a}`,h.fillStyle=i,h.textBaseline="bottom";const y=h.measureText(e).width,b=20;let m,w;switch(s){case"top-left":m=b,w=r+b;break;case"top-right":m=f.width-y-b,w=r+b;break;case"bottom-left":m=b,w=f.height-b;break;case"bottom-right":default:m=f.width-y-b,w=f.height-b;break;case"center":m=(f.width-y)/2,w=f.height/2;break}h.fillText(e,m,w),f.toBlob(x=>{if(x){const N=new File([x],t.name,{type:t.type});o(N)}else l(new Error("Watermark failed"))},t.type,1)},d.onerror=()=>l(new Error("Failed to load image")),d.src=u.target.result},c.onerror=()=>l(new Error("Failed to read file")),c.readAsDataURL(t)})},oH=()=>{const{user:t}=Tn(),{canUseFeature:e,incrementUsage:n,getRemainingUsage:r}=Mo();if(!t)return React.createElement(zo,null);const[i,s]=se.useState(null),[a,o]=se.useState(null),[l,c]=se.useState(!1),[u,d]=se.useState(!1),[f,h]=se.useState("rotate"),[g,y]=se.useState(100),[b,m]=se.useState(100),[w,x]=se.useState(100),[N,O]=se.useState(""),[D,M]=se.useState("bottom-right"),R=P=>{s(P),o(null)},A=async P=>{if(i){if(!e("edit")){d(!0);return}c(!0);try{const $=await nH(i,P);o($),await n("edit")}catch($){alert("Rotation failed: "+$.message)}finally{c(!1)}}},B=async P=>{if(i){c(!0);try{const $=await rH(i,P);o($)}catch($){alert("Flip failed: "+$.message)}finally{c(!1)}}},L=async()=>{if(i){c(!0);try{const P=await iH(i,{brightness:g,contrast:b,saturation:w});o(P)}catch(P){alert("Adjustment failed: "+P.message)}finally{c(!1)}}},k=async P=>{if(i){c(!0);try{const $=await sH(i,P);o($)}catch($){alert("Filter failed: "+$.message)}finally{c(!1)}}},I=async()=>{if(!(!i||!N)){c(!0);try{const P=await aH(i,N,{position:D});o(P)}catch(P){alert("Watermark failed: "+P.message)}finally{c(!1)}}},_=()=>{if(!a)return;const P=URL.createObjectURL(a),$=document.createElement("a");$.href=P,$.download=a.name,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(P)},V=[{id:"rotate",name:"Rotate",icon:Bd},{id:"flip",name:"Flip",icon:S3},{id:"adjust",name:"Adjust",icon:fm},{id:"filter",name:"Filters",icon:fm},{id:"watermark",name:"Watermark",icon:gU}],U=[{name:"grayscale",label:"Grayscale"},{name:"sepia",label:"Sepia"},{name:"invert",label:"Invert"},{name:"vintage",label:"Vintage"},{name:"cold",label:"Cold"},{name:"warm",label:"Warm"}];return React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(Yl,{isOpen:l,message:"Processing image..."}),React.createElement(He.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 space-y-4"},React.createElement("div",{className:"flex items-center justify-center space-x-3"},React.createElement(fm,{size:40,className:"text-orange-600 dark:text-orange-400"}),React.createElement("h1",{className:"text-4xl md:text-5xl font-bold gradient-text"},"Edit Image")),React.createElement("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto"},"Transform your images with rotation, flipping, color adjustments, filters, and watermarks")),!i&&React.createElement(Bo,{onFileSelect:R}),i&&React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6"},React.createElement("div",{className:"glass-card p-4"},React.createElement("div",{className:"flex flex-wrap gap-2"},V.map(P=>{const $=P.icon;return React.createElement("button",{key:P.id,onClick:()=>h(P.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-semibold transition-all ${f===P.id?"bg-orange-500 text-white shadow-lg":"glass-card hover:scale-105"}`},React.createElement($,{size:18}),React.createElement("span",null,P.name))}))),React.createElement("div",{className:"glass-card p-6"},f==="rotate"&&React.createElement("div",{className:"space-y-4"},React.createElement("h3",{className:"text-xl font-bold"},"Rotate Image"),React.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},React.createElement("button",{onClick:()=>A(90),className:"glass-card p-4 hover:scale-105 transition-all"},React.createElement(Bd,{size:24,className:"mx-auto mb-2"}),React.createElement("p",{className:"font-semibold"},"90 Right")),React.createElement("button",{onClick:()=>A(-90),className:"glass-card p-4 hover:scale-105 transition-all"},React.createElement(Bd,{size:24,className:"mx-auto mb-2 transform scale-x-[-1]"}),React.createElement("p",{className:"font-semibold"},"90 Left")),React.createElement("button",{onClick:()=>A(180),className:"glass-card p-4 hover:scale-105 transition-all"},React.createElement(Bd,{size:24,className:"mx-auto mb-2"}),React.createElement("p",{className:"font-semibold"},"180")),React.createElement("button",{onClick:()=>A(45),className:"glass-card p-4 hover:scale-105 transition-all"},React.createElement(Bd,{size:24,className:"mx-auto mb-2"}),React.createElement("p",{className:"font-semibold"},"45")))),f==="flip"&&React.createElement("div",{className:"space-y-4"},React.createElement("h3",{className:"text-xl font-bold"},"Flip Image"),React.createElement("div",{className:"grid grid-cols-2 gap-4"},React.createElement("button",{onClick:()=>B("horizontal"),className:"glass-card p-6 hover:scale-105 transition-all"},React.createElement(S3,{size:32,className:"mx-auto mb-2"}),React.createElement("p",{className:"font-semibold"},"Flip Horizontal")),React.createElement("button",{onClick:()=>B("vertical"),className:"glass-card p-6 hover:scale-105 transition-all"},React.createElement(lU,{size:32,className:"mx-auto mb-2"}),React.createElement("p",{className:"font-semibold"},"Flip Vertical")))),f==="adjust"&&React.createElement("div",{className:"space-y-6"},React.createElement("h3",{className:"text-xl font-bold"},"Adjust Colors"),React.createElement("div",{className:"space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Brightness: ",g,"%"),React.createElement("input",{type:"range",min:"0",max:"200",value:g,onChange:P=>y(parseInt(P.target.value)),className:"w-full"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Contrast: ",b,"%"),React.createElement("input",{type:"range",min:"0",max:"200",value:b,onChange:P=>m(parseInt(P.target.value)),className:"w-full"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Saturation: ",w,"%"),React.createElement("input",{type:"range",min:"0",max:"200",value:w,onChange:P=>x(parseInt(P.target.value)),className:"w-full"})),React.createElement("button",{onClick:L,className:"glass-button w-full"},"Apply Adjustments"))),f==="filter"&&React.createElement("div",{className:"space-y-4"},React.createElement("h3",{className:"text-xl font-bold"},"Apply Filter"),React.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4"},U.map(P=>React.createElement("button",{key:P.name,onClick:()=>k(P.name),className:"glass-card p-4 hover:scale-105 transition-all"},React.createElement("p",{className:"font-semibold"},P.label))))),f==="watermark"&&React.createElement("div",{className:"space-y-4"},React.createElement("h3",{className:"text-xl font-bold"},"Add Watermark"),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Watermark Text"),React.createElement("input",{type:"text",value:N,onChange:P=>O(P.target.value),className:"glass-input w-full",placeholder:"Enter watermark text"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Position"),React.createElement("select",{value:D,onChange:P=>M(P.target.value),className:"glass-input w-full"},React.createElement("option",{value:"top-left"},"Top Left"),React.createElement("option",{value:"top-right"},"Top Right"),React.createElement("option",{value:"bottom-left"},"Bottom Left"),React.createElement("option",{value:"bottom-right"},"Bottom Right"),React.createElement("option",{value:"center"},"Center"))),React.createElement("button",{onClick:I,className:"glass-button w-full"},"Add Watermark"))),!a&&React.createElement("div",{className:"glass-card p-6"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h3",{className:"text-xl font-bold"},"Original Image"),React.createElement("button",{onClick:()=>s(null),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-orange-500"},"Change Image")),React.createElement("div",{className:"relative rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800"},React.createElement("img",{src:URL.createObjectURL(i),alt:"Original",className:"w-full h-auto max-h-96 object-contain"})))),a&&React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6"},React.createElement(Sf,{file:a,originalFile:i,onDownload:_,title:"Edit Complete!"}),React.createElement("div",{className:"flex gap-4"},React.createElement("button",{onClick:()=>{s(a),o(null)},className:"flex-1 glass-card p-4 font-semibold hover:scale-105 transition-all"},"Continue Editing"),React.createElement("button",{onClick:()=>{s(null),o(null)},className:"flex-1 glass-card p-4 font-semibold hover:scale-105 transition-all"},"Edit Another"),React.createElement("button",{onClick:_,className:"flex-1 glass-button"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(fa,{size:20}),React.createElement("span",null,"Download"))))),React.createElement(jo,{isOpen:u,onClose:()=>d(!1),feature:"edit",remaining:r("edit")}))},lH=async(t,e=30)=>new Promise((n,r)=>{const i=new FileReader;i.onload=s=>{const a=new Image;a.onload=()=>{const o=document.createElement("canvas");o.width=a.width,o.height=a.height;const l=o.getContext("2d");l.drawImage(a,0,0);const c=l.getImageData(0,0,o.width,o.height),u=c.data,d=u[0],f=u[1],h=u[2];for(let g=0;g<u.length;g+=4){const y=u[g],b=u[g+1],m=u[g+2];Math.abs(y-d)+Math.abs(b-f)+Math.abs(m-h)<e&&(u[g+3]=0)}l.putImageData(c,0,0),o.toBlob(g=>{if(g){const y=new File([g],t.name.replace(/\.[^/.]+$/,".png"),{type:"image/png"});n(y)}else r(new Error("Background removal failed"))},"image/png",1)},a.onerror=()=>r(new Error("Failed to load image")),a.src=s.target.result},i.onerror=()=>r(new Error("Failed to read file")),i.readAsDataURL(t)}),cH=async(t,e="#ffffff",n=30)=>new Promise((r,i)=>{const s=new FileReader;s.onload=a=>{const o=new Image;o.onload=()=>{const l=document.createElement("canvas");l.width=o.width,l.height=o.height;const c=l.getContext("2d");c.fillStyle=e,c.fillRect(0,0,l.width,l.height),c.drawImage(o,0,0);const u=c.getImageData(0,0,l.width,l.height),d=u.data,f=d[0],h=d[1],g=d[2],y=e.replace("#",""),b=parseInt(y.substr(0,2),16),m=parseInt(y.substr(2,2),16),w=parseInt(y.substr(4,2),16);for(let x=0;x<d.length;x+=4){const N=d[x],O=d[x+1],D=d[x+2];Math.abs(N-f)+Math.abs(O-h)+Math.abs(D-g)<n&&(d[x]=b,d[x+1]=m,d[x+2]=w)}c.putImageData(u,0,0),l.toBlob(x=>{if(x){const N=new File([x],t.name,{type:t.type});r(N)}else i(new Error("Background replacement failed"))},t.type,1)},o.onerror=()=>i(new Error("Failed to load image")),o.src=a.target.result},s.onerror=()=>i(new Error("Failed to read file")),s.readAsDataURL(t)}),uH=async(t,e=10)=>new Promise((n,r)=>{const i=new FileReader;i.onload=s=>{const a=new Image;a.onload=()=>{const o=document.createElement("canvas");o.width=a.width,o.height=a.height;const l=o.getContext("2d");l.filter=`blur(${e}px)`,l.drawImage(a,0,0),l.filter="none";const c=.6,u=a.width*(1-c)/2,d=a.height*(1-c)/2,f=a.width*c,h=a.height*c;l.drawImage(a,u,d,f,h,u,d,f,h),o.toBlob(g=>{if(g){const y=new File([g],t.name,{type:t.type});n(y)}else r(new Error("Background blur failed"))},t.type,1)},a.onerror=()=>r(new Error("Failed to load image")),a.src=s.target.result},i.onerror=()=>r(new Error("Failed to read file")),i.readAsDataURL(t)}),dH=()=>{const{user:t}=Tn(),{canUseFeature:e,incrementUsage:n,getRemainingUsage:r}=Mo();if(!t)return React.createElement(zo,null);const[i,s]=se.useState(null),[a,o]=se.useState(null),[l,c]=se.useState(!1),[u,d]=se.useState(!1),[f,h]=se.useState("transparent"),[g,y]=se.useState("#ffffff"),[b,m]=se.useState(30),[w,x]=se.useState(10),N=M=>{s(M),o(null)},O=async()=>{if(i){if(!e("background")){d(!0);return}c(!0);try{let M;switch(f){case"transparent":M=await lH(i,b);break;case"replace":M=await cH(i,g,b);break;case"blur":M=await uH(i,w);break;default:throw new Error("Invalid mode")}o(M),await n("background")}catch(M){alert("Processing failed: "+M.message)}finally{c(!1)}}},D=()=>{if(!a)return;const M=URL.createObjectURL(a),R=document.createElement("a");R.href=M,R.download=a.name,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(M)};return React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(Yl,{isOpen:l,message:"Processing background..."}),React.createElement(He.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 space-y-4"},React.createElement("div",{className:"flex items-center justify-center space-x-3"},React.createElement(uN,{size:40,className:"text-pink-600 dark:text-pink-400"}),React.createElement("h1",{className:"text-4xl md:text-5xl font-bold gradient-text"},"Background Tools")),React.createElement("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto"},"Remove, replace, or blur image backgrounds with simple color-based detection")),!i&&React.createElement(Bo,{onFileSelect:N}),i&&!a&&React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6"},React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"Select Mode"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},React.createElement("button",{onClick:()=>h("transparent"),className:`p-4 rounded-xl font-semibold transition-all ${f==="transparent"?"bg-pink-500 text-white shadow-lg scale-105":"glass-card hover:scale-105"}`},"Make Transparent"),React.createElement("button",{onClick:()=>h("replace"),className:`p-4 rounded-xl font-semibold transition-all ${f==="replace"?"bg-pink-500 text-white shadow-lg scale-105":"glass-card hover:scale-105"}`},"Replace Color"),React.createElement("button",{onClick:()=>h("blur"),className:`p-4 rounded-xl font-semibold transition-all ${f==="blur"?"bg-pink-500 text-white shadow-lg scale-105":"glass-card hover:scale-105"}`},"Blur Background"))),React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"Settings"),(f==="transparent"||f==="replace")&&React.createElement("div",{className:"space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Tolerance: ",b),React.createElement("input",{type:"range",min:"10",max:"100",value:b,onChange:M=>m(parseInt(M.target.value)),className:"w-full"}),React.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2"},"Higher values remove more similar colors"))),f==="replace"&&React.createElement("div",{className:"mt-4"},React.createElement("label",{className:"block text-sm font-medium mb-2"},"New Background Color"),React.createElement("div",{className:"flex items-center space-x-4"},React.createElement("input",{type:"color",value:g,onChange:M=>y(M.target.value),className:"w-20 h-12 rounded-lg cursor-pointer"}),React.createElement("input",{type:"text",value:g,onChange:M=>y(M.target.value),className:"glass-input flex-1",placeholder:"#ffffff"}))),f==="blur"&&React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Blur Amount: ",w,"px"),React.createElement("input",{type:"range",min:"5",max:"50",value:w,onChange:M=>x(parseInt(M.target.value)),className:"w-full"}))),React.createElement("div",{className:"glass-card p-6"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h3",{className:"text-xl font-bold"},"Original Image"),React.createElement("button",{onClick:()=>s(null),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-pink-500"},"Change Image")),React.createElement("div",{className:"relative rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800"},React.createElement("img",{src:URL.createObjectURL(i),alt:"Original",className:"w-full h-auto max-h-96 object-contain"}))),React.createElement("button",{onClick:O,className:"glass-button w-full"},"Process Background"),React.createElement("div",{className:"glass-card p-4 bg-blue-50 dark:bg-blue-900/20"},React.createElement("p",{className:"text-sm"},React.createElement("strong",null,"Note:")," This tool uses simple color-based detection. For best results, use images with solid, uniform backgrounds. For advanced AI-powered background removal, try the AI Tools section."))),a&&React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6"},React.createElement(Sf,{file:a,originalFile:i,onDownload:D,title:"Processing Complete!"}),React.createElement("div",{className:"flex gap-4"},React.createElement("button",{onClick:()=>{s(null),o(null)},className:"flex-1 glass-card p-4 font-semibold hover:scale-105 transition-all"},"Process Another"),React.createElement("button",{onClick:D,className:"flex-1 glass-button"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(fa,{size:20}),React.createElement("span",null,"Download"))))),React.createElement(jo,{isOpen:u,onClose:()=>d(!1),feature:"background",remaining:r("background")}))},hH=()=>{const{user:t}=Tn(),{canUseFeature:e,incrementUsage:n,getRemainingUsage:r}=Mo();if(!t)return React.createElement(zo,null);const[i,s]=se.useState(null),[a,o]=se.useState(!1),l=u=>{s(u)},c=[{name:"AI Upscale",description:"Enhance image resolution using AI",status:"Requires API"},{name:"Remove Object",description:"Intelligently remove unwanted objects",status:"Requires API"},{name:"Colorize B&W",description:"Add realistic colors to black & white photos",status:"Requires API"}];return React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(He.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 space-y-4"},React.createElement("div",{className:"flex items-center justify-center space-x-3"},React.createElement(pv,{size:40,className:"text-indigo-600 dark:text-indigo-400"}),React.createElement("h1",{className:"text-4xl md:text-5xl font-bold gradient-text"},"AI Enhancement Tools")),React.createElement("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto"},"Advanced AI-powered image enhancement features")),React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card p-8 mb-8"},React.createElement("div",{className:"flex items-start space-x-4"},React.createElement(ha,{size:24,className:"text-indigo-600 dark:text-indigo-400 flex-shrink-0 mt-1"}),React.createElement("div",{className:"space-y-4"},React.createElement("h2",{className:"text-2xl font-bold"},"AI Tools Setup Required"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"AI-powered features require integration with external APIs for processing. These tools use advanced machine learning models that cannot run entirely in the browser."),React.createElement("div",{className:"space-y-2"},React.createElement("p",{className:"font-semibold"},"Available AI Services:"),React.createElement("ul",{className:"list-disc list-inside space-y-1 text-gray-600 dark:text-gray-400"},React.createElement("li",null,"Remove.bg API - Background removal"),React.createElement("li",null,"DeepAI - Image upscaling and enhancement"),React.createElement("li",null,"Replicate - Object removal and colorization"),React.createElement("li",null,"Cloudinary AI - Various AI transformations"))),React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"To enable these features, you'll need to obtain API keys from the respective services and configure them in your environment.")))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},c.map((u,d)=>React.createElement(He.div,{key:u.name,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:"glass-card p-6 opacity-60"},React.createElement("div",{className:"space-y-4"},React.createElement(pv,{size:32,className:"text-indigo-600 dark:text-indigo-400"}),React.createElement("h3",{className:"text-xl font-bold"},u.name),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},u.description),React.createElement("div",{className:"glass-card p-3 bg-yellow-50 dark:bg-yellow-900/20"},React.createElement("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200"},u.status)))))),React.createElement("div",{className:"opacity-50 pointer-events-none"},React.createElement(Bo,{onFileSelect:l})),React.createElement(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-12 glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"Implementation Guide"),React.createElement("div",{className:"space-y-4 text-sm text-gray-600 dark:text-gray-400"},React.createElement("div",null,React.createElement("p",{className:"font-semibold mb-2"},"To enable AI features:"),React.createElement("ol",{className:"list-decimal list-inside space-y-2"},React.createElement("li",null,"Sign up for API access at your chosen AI service provider"),React.createElement("li",null,"Obtain your API key"),React.createElement("li",null,"Add the API key to your environment variables"),React.createElement("li",null,"Implement the API calls in the respective utility functions"),React.createElement("li",null,"Handle API responses and errors appropriately"))),React.createElement("div",{className:"glass-card p-4 bg-gray-50 dark:bg-gray-800"},React.createElement("p",{className:"font-mono text-xs"},"// Example: Remove.bg API integration",React.createElement("br",null),"const removeBackground = async (imageFile) => {",React.createElement("br",null),"const formData = new FormData();",React.createElement("br",null),"formData.append('image_file', imageFile);",React.createElement("br",null),"const response = await fetch('https://api.remove.bg/v1.0/removebg', {",React.createElement("br",null),"method: 'POST',",React.createElement("br",null),"headers: { 'X-Api-Key': YOUR_API_KEY },",React.createElement("br",null),"body: formData",React.createElement("br",null),"});",React.createElement("br",null),"return await response.blob();",React.createElement("br",null),"};")))),React.createElement(jo,{isOpen:a,onClose:()=>o(!1),feature:"ai",remaining:r("ai")}))};var O0=typeof self<"u"?self:global;const tf=typeof navigator<"u",fH=tf&&typeof HTMLImageElement>"u",Dg=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),D0=O0.Buffer,Hp=O0.BigInt,F0=!!D0,pH=t=>t;function Fg(t,e=pH){if(Dg)try{return typeof require=="function"?Promise.resolve(e(require(t))):import(t).then(e)}catch{console.warn(`Couldn't load ${t}`)}}let fb=O0.fetch;const mH=t=>fb=t;if(!O0.fetch){const t=Fg("http",r=>r),e=Fg("https",r=>r),n=(r,{headers:i}={})=>new Promise(async(s,a)=>{let{port:o,hostname:l,pathname:c,protocol:u,search:d}=new URL(r);const f={method:"GET",hostname:l,path:encodeURI(c)+d,headers:i};o!==""&&(f.port=Number(o));const h=(u==="https:"?await e:await t).request(f,g=>{if(g.statusCode===301||g.statusCode===302){let y=new URL(g.headers.location,r).toString();return n(y,{headers:i}).then(s).catch(a)}s({status:g.statusCode,arrayBuffer:()=>new Promise(y=>{let b=[];g.on("data",m=>b.push(m)),g.on("end",()=>y(Buffer.concat(b)))})})});h.on("error",a),h.end()});mH(n)}function ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Mg=t=>vA(t)?void 0:t,gH=t=>t!==void 0;function vA(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(gH).length===0)}function Pn(t){let e=new Error(t);throw delete e.stack,e}function vl(t){return(t=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(t).trim())===""?void 0:t}function Bv(t){let e=function(n){let r=0;return n.ifd0.enabled&&(r+=1024),n.exif.enabled&&(r+=2048),n.makerNote&&(r+=2048),n.userComment&&(r+=1024),n.gps.enabled&&(r+=512),n.interop.enabled&&(r+=100),n.ifd1.enabled&&(r+=1024),r+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const zv=t=>String.fromCharCode.apply(null,t),eE=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function wA(t){return eE?eE.decode(t):F0?Buffer.from(t).toString("utf8"):decodeURIComponent(escape(zv(t)))}class Br{static from(e,n){return e instanceof this&&e.le===n?e:new Br(e,void 0,void 0,n)}constructor(e,n=0,r,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){r===void 0&&(r=e.byteLength-n);let s=new DataView(e,n,r);this._swapDataView(s)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Br){r===void 0&&(r=e.byteLength-n),(n+=e.byteOffset)+r>e.byteOffset+e.byteLength&&Pn("Creating view outside of available memory in ArrayBuffer");let s=new DataView(e.buffer,n,r);this._swapDataView(s)}else if(typeof e=="number"){let s=new DataView(new ArrayBuffer(e));this._swapDataView(s)}else Pn("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,n,r=Br){return e instanceof DataView||e instanceof Br?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Pn("BufferView.set(): Invalid data argument."),this.toUint8().set(e,n),new r(this,n,e.byteLength)}subarray(e,n){return n=n||this._lengthToEnd(e),new Br(this,e,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,n){return new Uint8Array(this.buffer,this.byteOffset+e,n)}getString(e=0,n=this.byteLength){return wA(this.getUint8Array(e,n))}getLatin1String(e=0,n=this.byteLength){let r=this.getUint8Array(e,n);return zv(r)}getUnicodeString(e=0,n=this.byteLength){const r=[];for(let i=0;i<n&&e+i<this.byteLength;i+=2)r.push(this.getUint16(e+i));return zv(r)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,n=this.le){return this.dataView.getInt16(e,n)}getInt32(e,n=this.le){return this.dataView.getInt32(e,n)}getUint16(e,n=this.le){return this.dataView.getUint16(e,n)}getUint32(e,n=this.le){return this.dataView.getUint32(e,n)}getFloat32(e,n=this.le){return this.dataView.getFloat32(e,n)}getFloat64(e,n=this.le){return this.dataView.getFloat64(e,n)}getFloat(e,n=this.le){return this.dataView.getFloat32(e,n)}getDouble(e,n=this.le){return this.dataView.getFloat64(e,n)}getUintBytes(e,n,r){switch(n){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}getUint(e,n,r){switch(n){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function jv(t,e){Pn(`${t} '${e}' was not loaded, try using full build of exifr.`)}class pb extends Map{constructor(e){super(),this.kind=e}get(e,n){return this.has(e)||jv(this.kind,e),n&&(e in n||function(r,i){Pn(`Unknown ${r} '${i}'.`)}(this.kind,e),n[e].enabled||jv(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var Ns=new pb("file parser"),An=new pb("segment parser"),Ts=new pb("file reader");function yH(t,e){return typeof t=="string"?tE(t,e):tf&&!fH&&t instanceof HTMLImageElement?tE(t.src,e):t instanceof Uint8Array||t instanceof ArrayBuffer||t instanceof DataView?new Br(t):tf&&t instanceof Blob?Vv(t,e,"blob",Bl):void Pn("Invalid input argument")}function tE(t,e){return(n=t).startsWith("data:")||n.length>1e4?Wv(t,e,"base64"):Dg&&t.includes("://")?Vv(t,e,"url",Ul):Dg?Wv(t,e,"fs"):tf?Vv(t,e,"url",Ul):void Pn("Invalid input argument");var n}async function Vv(t,e,n,r){return Ts.has(n)?Wv(t,e,n):r?async function(i,s){let a=await s(i);return new Br(a)}(t,r):void Pn(`Parser ${n} is not loaded`)}async function Wv(t,e,n){let r=new(Ts.get(n))(t,e);return await r.read(),r}const Ul=t=>fb(t).then(e=>e.arrayBuffer()),Bl=t=>new Promise((e,n)=>{let r=new FileReader;r.onloadend=()=>e(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(t)});class vH extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function _n(t,e,n){let r=new vH;for(let[i,s]of n)r.set(i,s);if(Array.isArray(e))for(let i of e)t.set(i,r);else t.set(e,r);return r}function zl(t,e,n){let r,i=t.get(e);for(r of n)i.set(r[0],r[1])}const Yn=new Map,is=new Map,bo=new Map,eo=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Yu=["jfif","xmp","icc","iptc","ihdr"],jl=["tiff",...Yu],ln=["ifd0","ifd1","exif","gps","interop"],to=[...jl,...ln],no=["makerNote","userComment"],Xu=["translateKeys","translateValues","reviveValues","multiSegment"],ro=[...Xu,"sanitize","mergeOutput","silentErrors"];class bA{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Hd extends bA{get needed(){return this.enabled||this.deps.size>0}constructor(e,n,r,i){if(super(),ct(this,"enabled",!1),ct(this,"skip",new Set),ct(this,"pick",new Set),ct(this,"deps",new Set),ct(this,"translateKeys",!1),ct(this,"translateValues",!1),ct(this,"reviveValues",!1),this.key=e,this.enabled=n,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=ln.includes(e),this.canBeFiltered&&(this.dict=Yn.get(e)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:s,skip:a}=r;s&&s.length>0&&this.translateTagSet(s,this.pick),a&&a.length>0&&this.translateTagSet(a,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:Pn(`Invalid options argument: ${r}`)}applyInheritables(e){let n,r;for(n of Xu)r=e[n],r!==void 0&&(this[n]=r)}translateTagSet(e,n){if(this.dict){let r,i,{tagKeys:s,tagValues:a}=this.dict;for(r of e)typeof r=="string"?(i=a.indexOf(r),i===-1&&(i=s.indexOf(Number(r))),i!==-1&&n.add(Number(s[i]))):n.add(r)}else for(let r of e)n.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Ug(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Ug(this.pick,this.deps)}}var _r={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},nE=new Map;class Ql extends bA{static useCached(e){let n=nE.get(e);return n!==void 0||(n=new this(e),nE.set(e,n)),n}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):Pn(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=tf?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of eo)this[e]=_r[e];for(e of ro)this[e]=_r[e];for(e of no)this[e]=_r[e];for(e of to)this[e]=new Hd(e,_r[e],void 0,this)}setupFromTrue(){let e;for(e of eo)this[e]=_r[e];for(e of ro)this[e]=_r[e];for(e of no)this[e]=!0;for(e of to)this[e]=new Hd(e,!0,void 0,this)}setupFromArray(e){let n;for(n of eo)this[n]=_r[n];for(n of ro)this[n]=_r[n];for(n of no)this[n]=_r[n];for(n of to)this[n]=new Hd(n,!1,void 0,this);this.setupGlobalFilters(e,void 0,ln)}setupFromObject(e){let n;for(n of(ln.ifd0=ln.ifd0||ln.image,ln.ifd1=ln.ifd1||ln.thumbnail,Object.assign(this,e),eo))this[n]=B2(e[n],_r[n]);for(n of ro)this[n]=B2(e[n],_r[n]);for(n of no)this[n]=B2(e[n],_r[n]);for(n of jl)this[n]=new Hd(n,_r[n],e[n],this);for(n of ln)this[n]=new Hd(n,_r[n],e[n],this.tiff);this.setupGlobalFilters(e.pick,e.skip,ln,to),e.tiff===!0?this.batchEnableWithBool(ln,!0):e.tiff===!1?this.batchEnableWithUserValue(ln,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,ln):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,ln)}batchEnableWithBool(e,n){for(let r of e)this[r].enabled=n}batchEnableWithUserValue(e,n){for(let r of e){let i=n[r];this[r].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,n,r,i=r){if(e&&e.length){for(let a of i)this[a].enabled=!1;let s=rE(e,r);for(let[a,o]of s)Ug(this[a].pick,o),this[a].enabled=!0}else if(n&&n.length){let s=rE(n,r);for(let[a,o]of s)Ug(this[a].skip,o)}}filterNestedSegmentTags(){let{ifd0:e,exif:n,xmp:r,iptc:i,icc:s}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),r.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),s.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:n,gps:r,interop:i}=this;i.needed&&(n.deps.add(40965),e.deps.add(40965)),n.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=ln.some(s=>this[s].enabled===!0)||this.makerNote||this.userComment;for(let s of ln)this[s].finalizeFilters()}get onlyTiff(){return!Yu.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of jl)this[e].enabled&&!An.has(e)&&jv("segment parser",e)}}function rE(t,e){let n,r,i,s,a=[];for(i of e){for(s of(n=Yn.get(i),r=[],n))(t.includes(s[0])||t.includes(s[1]))&&r.push(s[0]);r.length&&a.push([i,r])}return a}function B2(t,e){return t!==void 0?t:e!==void 0?e:void 0}function Ug(t,e){for(let n of e)t.add(n)}ct(Ql,"default",_r);class Vo{constructor(e){ct(this,"parsers",{}),ct(this,"output",{}),ct(this,"errors",[]),ct(this,"pushToErrors",n=>this.errors.push(n)),this.options=Ql.useCached(e)}async read(e){this.file=await yH(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,n=e.getUint16(0);for(let[r,i]of Ns)if(i.canHandle(e,n))return this.fileParser=new i(this.options,this.file,this.parsers),e[r]=!0;this.file.close&&this.file.close(),Pn("Unknown file format")}async parse(){let{output:e,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(e.errors=n),Mg(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map(async r=>{let i=await r.parse();r.assignToOutput(e,i)});this.options.silentErrors&&(n=n.map(r=>r.catch(this.pushToErrors))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:e,file:n}=this,r=An.get("tiff",e);var i;if(n.tiff?i={start:0,type:"tiff"}:n.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let s=await this.fileParser.ensureSegmentChunk(i),a=this.parsers.tiff=new r(s,e,n),o=await a.extractThumbnail();return n.close&&n.close(),o}}async function M0(t,e){let n=new Vo(e);return await n.read(t),n.parse()}var wH=Object.freeze({__proto__:null,parse:M0,Exifr:Vo,fileParsers:Ns,segmentParsers:An,fileReaders:Ts,tagKeys:Yn,tagValues:is,tagRevivers:bo,createDictionary:_n,extendDictionary:zl,fetchUrlAsArrayBuffer:Ul,readBlobAsArrayBuffer:Bl,chunkedProps:eo,otherSegments:Yu,segments:jl,tiffBlocks:ln,segmentsAndBlocks:to,tiffExtractables:no,inheritables:Xu,allFormatters:ro,Options:Ql});class U0{constructor(e,n,r){ct(this,"errors",[]),ct(this,"ensureSegmentChunk",async i=>{let s=i.start,a=i.size||65536;if(this.file.chunked)if(this.file.available(s,a))i.chunk=this.file.subarray(s,a);else try{i.chunk=await this.file.readChunk(s,a)}catch(o){Pn(`Couldn't read segment: ${JSON.stringify(i)}. ${o.message}`)}else this.file.byteLength>s+a?i.chunk=this.file.subarray(s,a):i.size===void 0?i.chunk=this.file.subarray(s):Pn("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=n,this.parsers=r}injectSegment(e,n){this.options[e].enabled&&this.createParser(e,n)}createParser(e,n){let r=new(An.get(e))(n,this.options,this.file);return this.parsers[e]=r}createParsers(e){for(let n of e){let{type:r,chunk:i}=n,s=this.options[r];if(s&&s.enabled){let a=this.parsers[r];a&&a.append||a||this.createParser(r,i)}}}async readSegments(e){let n=e.map(this.ensureSegmentChunk);await Promise.all(n)}}class Xi{static findPosition(e,n){let r=e.getUint16(n+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,n,r):this.headerLength,s=n+i,a=r-i;return{offset:n,length:r,headerLength:i,start:s,size:a,end:s+a}}static parse(e,n={}){return new this(e,new Ql({[this.type]:n}),e).parse()}normalizeInput(e){return e instanceof Br?e:new Br(e)}constructor(e,n={},r){ct(this,"errors",[]),ct(this,"raw",new Map),ct(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,n){let r=bo.get(n),i=is.get(n),s=Yn.get(n),a=this.options[n],o=a.reviveValues&&!!r,l=a.translateValues&&!!i,c=a.translateKeys&&!!s,u={};for(let[d,f]of e)o&&r.has(d)?f=r.get(d)(f):l&&i.has(d)&&(f=this.translateValue(f,i.get(d))),c&&s.has(d)&&(d=s.get(d)||d),u[d]=f;return u}translateValue(e,n){return n[e]||n.DEFAULT||e}assignToOutput(e,n){this.assignObjectToOutput(e,this.constructor.type,n)}assignObjectToOutput(e,n,r){if(this.globalOptions.mergeOutput)return Object.assign(e,r);e[n]?Object.assign(e[n],r):e[n]=r}}ct(Xi,"headerLength",4),ct(Xi,"type",void 0),ct(Xi,"multiSegment",!1),ct(Xi,"canHandle",()=>!1);function bH(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function xH(t){return t>=224&&t<=239}function _H(t,e,n){for(let[r,i]of An)if(i.canHandle(t,e,n))return r}class iE extends U0{constructor(...e){super(...e),ct(this,"appSegments",[]),ct(this,"jpegSegments",[]),ct(this,"unknownSegments",[])}static canHandle(e,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(An.keyList())):(e=e===void 0?An.keyList().filter(n=>this.options[n].enabled):e.filter(n=>this.options[n].enabled&&An.has(n)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,n){this.setupSegmentFinderArgs(n);let{file:r,findAll:i,wanted:s,remaining:a}=this;if(!i&&this.file.chunked&&(i=Array.from(s).some(o=>{let l=An.get(o),c=this.options[o];return l.multiSegment&&c.multiSegment}),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,r.byteLength),!this.options.onlyTiff&&r.chunked){let o=!1;for(;a.size>0&&!o&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:l}=r,c=this.appSegments.some(u=>!this.file.available(u.offset||u.start,u.length||u.size));if(o=e>l&&!c?!await r.readNextChunk(e):!await r.readNextChunk(l),(e=this.findAppSegmentsInRange(e,r.byteLength))===void 0)return}}}findAppSegmentsInRange(e,n){n-=2;let r,i,s,a,o,l,{file:c,findAll:u,wanted:d,remaining:f,options:h}=this;for(;e<n;e++)if(c.getUint8(e)===255){if(r=c.getUint8(e+1),xH(r)){if(i=c.getUint16(e+2),s=_H(c,e,i),s&&d.has(s)&&(a=An.get(s),o=a.findPosition(c,e),l=h[s],o.type=s,this.appSegments.push(o),!u&&(a.multiSegment&&l.multiSegment?(this.unfinishedMultiSegment=o.chunkNumber<o.chunkCount,this.unfinishedMultiSegment||f.delete(s)):f.delete(s),f.size===0)))break;h.recordUnknownSegments&&(o=Xi.findPosition(c,e),o.marker=r,this.unknownSegments.push(o)),e+=i+1}else if(bH(r)){if(i=c.getUint16(e+2),r===218&&h.stopAfterSos!==!1)return;h.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:r}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let e=function(n,r){let i,s,a,o=new Map;for(let l=0;l<n.length;l++)i=n[l],s=i[r],o.has(s)?a=o.get(s):o.set(s,a=[]),a.push(i);return Array.from(o)}(this.appSegments,"type");this.mergedAppSegments=e.map(([n,r])=>{let i=An.get(n,this.options);return i.handleMultiSegments?{type:n,chunk:i.handleMultiSegments(r)}:r[0]})}getSegment(e){return this.appSegments.find(n=>n.type===e)}async getOrFindSegment(e){let n=this.getSegment(e);return n===void 0&&(await this.findAppSegments(0,[e]),n=this.getSegment(e)),n}}ct(iE,"type","jpeg"),Ns.set("jpeg",iE);const EH=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class SH extends Xi{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,n,r=new Map){let{pick:i,skip:s}=this.options[n];i=new Set(i);let a=i.size>0,o=s.size===0,l=this.chunk.getUint16(e);e+=2;for(let c=0;c<l;c++){let u=this.chunk.getUint16(e);if(a){if(i.has(u)&&(r.set(u,this.parseTag(e,u,n)),i.delete(u),i.size===0))break}else!o&&s.has(u)||r.set(u,this.parseTag(e,u,n));e+=12}return r}parseTag(e,n,r){let{chunk:i}=this,s=i.getUint16(e+2),a=i.getUint32(e+4),o=EH[s];if(o*a<=4?e+=8:e=i.getUint32(e+8),(s<1||s>13)&&Pn(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${s}, offset ${e}`),e>i.byteLength&&Pn(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${s}, offset ${e} is outside of chunk size ${i.byteLength}`),s===1)return i.getUint8Array(e,a);if(s===2)return vl(i.getString(e,a));if(s===7)return i.getUint8Array(e,a);if(a===1)return this.parseTagValue(s,e);{let l=new(function(u){switch(u){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(s))(a),c=o;for(let u=0;u<a;u++)l[u]=this.parseTagValue(s,e),e+=c;return l}}parseTagValue(e,n){let{chunk:r}=this;switch(e){case 1:return r.getUint8(n);case 3:return r.getUint16(n);case 4:return r.getUint32(n);case 5:return r.getUint32(n)/r.getUint32(n+4);case 6:return r.getInt8(n);case 8:return r.getInt16(n);case 9:return r.getInt32(n);case 10:return r.getInt32(n)/r.getInt32(n+4);case 11:return r.getFloat(n);case 12:return r.getDouble(n);case 13:return r.getUint32(n);default:Pn(`Invalid tiff type ${e}`)}}}class z2 extends SH{static canHandle(e,n){return e.getUint8(n+1)===225&&e.getUint32(n+4)===1165519206&&e.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let n=this[e]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(e,n){let r=new Map;return this[n]=r,this.parseTags(e,n,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Pn("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Pn(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Bv(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Bv(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,n){let r=e.get(n);r&&r.length===1&&e.set(n,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",sE(...e.get(2),e.get(1))),e.set("longitude",sE(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(e,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,n,r,i={};for(n of ln)if(e=this[n],!vA(e))if(r=this.canTranslate?this.translateBlock(e,n):Object.fromEntries(e),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(i,r)}else i[n]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,n){if(this.globalOptions.mergeOutput)Object.assign(e,n);else for(let[r,i]of Object.entries(n))this.assignObjectToOutput(e,r,i)}}function sE(t,e,n,r){var i=t+e/60+n/3600;return r!=="S"&&r!=="W"||(i*=-1),i}ct(z2,"type","tiff"),ct(z2,"headerLength",10),An.set("tiff",z2);var kH=Object.freeze({__proto__:null,default:wH,Exifr:Vo,fileParsers:Ns,segmentParsers:An,fileReaders:Ts,tagKeys:Yn,tagValues:is,tagRevivers:bo,createDictionary:_n,extendDictionary:zl,fetchUrlAsArrayBuffer:Ul,readBlobAsArrayBuffer:Bl,chunkedProps:eo,otherSegments:Yu,segments:jl,tiffBlocks:ln,segmentsAndBlocks:to,tiffExtractables:no,inheritables:Xu,allFormatters:ro,Options:Ql,parse:M0});const mb={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},gb=Object.assign({},mb,{firstChunkSize:4e4,gps:[1,2,3,4]});async function xA(t){let e=new Vo(gb);await e.read(t);let n=await e.parse();if(n&&n.gps){let{latitude:r,longitude:i}=n.gps;return{latitude:r,longitude:i}}}const yb=Object.assign({},mb,{tiff:!1,ifd1:!0,mergeOutput:!1});async function _A(t){let e=new Vo(yb);await e.read(t);let n=await e.extractThumbnail();return n&&F0?D0.from(n):n}async function EA(t){let e=await this.thumbnail(t);if(e!==void 0){let n=new Blob([e]);return URL.createObjectURL(n)}}const vb=Object.assign({},mb,{firstChunkSize:4e4,ifd0:[274]});async function wb(t){let e=new Vo(vb);await e.read(t);let n=await e.parse();if(n&&n.ifd0)return n.ifd0[274]}const bb=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let wl=!0,bl=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,n,r]=e;wl=Number(n)+.1*Number(r)<13.4,bl=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);wl=bl=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);wl=bl=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);wl=bl=Number(e)<77}}async function SA(t){let e=await wb(t);return Object.assign({canvas:wl,css:bl},bb[e])}class RH extends Br{constructor(...e){super(...e),ct(this,"ranges",new NH),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,n,r){if(e===0&&this.byteLength===0&&r){let i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{let i=e+n;if(i>this.byteLength){let{dataView:s}=this._extend(i);this._swapDataView(s)}}}_extend(e){let n;n=F0?D0.allocUnsafe(e):new Uint8Array(e);let r=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:r}}subarray(e,n,r=!1){return n=n||this._lengthToEnd(e),r&&this._tryExtend(e,n),this.ranges.add(e,n),super.subarray(e,n)}set(e,n,r=!1){r&&this._tryExtend(n,e.byteLength,e);let i=super.set(e,n);return this.ranges.add(n,i.byteLength),i}async ensureChunk(e,n){this.chunked&&(this.ranges.available(e,n)||await this.readChunk(e,n))}available(e,n){return this.ranges.available(e,n)}}class NH{constructor(){ct(this,"list",[])}get length(){return this.list.length}add(e,n,r=0){let i=e+n,s=this.list.filter(a=>aE(e,a.offset,i)||aE(e,a.end,i));if(s.length>0){e=Math.min(e,...s.map(o=>o.offset)),i=Math.max(i,...s.map(o=>o.end)),n=i-e;let a=s.shift();a.offset=e,a.length=n,a.end=i,this.list=this.list.filter(o=>!s.includes(o))}else this.list.push({offset:e,length:n,end:i})}available(e,n){let r=e+n;return this.list.some(i=>i.offset<=e&&r<=i.end)}}function aE(t,e,n){return t<=e&&e<=n}class B0 extends RH{constructor(e,n){super(0),ct(this,"chunksRead",0),this.input=e,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,r=await this.readChunk(e,n);return!!r&&r.byteLength===n}async readChunk(e,n){if(this.chunksRead++,(n=this.safeWrapAddress(e,n))!==0)return this._readChunk(e,n)}safeWrapAddress(e,n){return this.size!==void 0&&e+n>this.size?Math.max(0,this.size-e):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}Ts.set("blob",class extends B0{async readWhole(){this.chunked=!1;let t=await Bl(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let n=e?t+e:void 0,r=this.input.slice(t,n),i=await Bl(r);return this.set(i,t,!0)}});var CH=Object.freeze({__proto__:null,default:kH,Exifr:Vo,fileParsers:Ns,segmentParsers:An,fileReaders:Ts,tagKeys:Yn,tagValues:is,tagRevivers:bo,createDictionary:_n,extendDictionary:zl,fetchUrlAsArrayBuffer:Ul,readBlobAsArrayBuffer:Bl,chunkedProps:eo,otherSegments:Yu,segments:jl,tiffBlocks:ln,segmentsAndBlocks:to,tiffExtractables:no,inheritables:Xu,allFormatters:ro,Options:Ql,parse:M0,gpsOnlyOptions:gb,gps:xA,thumbnailOnlyOptions:yb,thumbnail:_A,thumbnailUrl:EA,orientationOnlyOptions:vb,orientation:wb,rotations:bb,get rotateCanvas(){return wl},get rotateCss(){return bl},rotation:SA});Ts.set("url",class extends B0{async readWhole(){this.chunked=!1;let t=await Ul(this.input);t instanceof ArrayBuffer?this._swapArrayBuffer(t):t instanceof Uint8Array&&this._swapBuffer(t)}async _readChunk(t,e){let n=e?t+e-1:void 0,r=this.options.httpHeaders||{};(t||n)&&(r.range=`bytes=${[t,n].join("-")}`);let i=await fb(this.input,{headers:r}),s=await i.arrayBuffer(),a=s.byteLength;if(i.status!==416)return a!==e&&(this.size=t+a),this.set(s,t,!0)}});Br.prototype.getUint64=function(t){let e=this.getUint32(t),n=this.getUint32(t+4);return e<1048575?e<<32|n:typeof Hp!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),Hp(e)<<Hp(32)|Hp(n)):void Pn("Trying to read 64b value but JS can only handle 53b numbers.")};class AH extends U0{parseBoxes(e=0){let n=[];for(;e<this.file.byteLength-4;){let r=this.parseBoxHead(e);if(n.push(r),r.length===0)break;e+=r.length}return n}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,n){return e.boxes===void 0&&this.parseSubBoxes(e),e.boxes.find(r=>r.kind===n)}parseBoxHead(e){let n=this.file.getUint32(e),r=this.file.getString(e+4,4),i=e+8;return n===1&&(n=this.file.getUint64(e+8),i+=8),{offset:e,length:n,kind:r,start:i}}parseBoxFullHead(e){if(e.version!==void 0)return;let n=this.file.getUint32(e.start);e.version=n>>24,e.start+=4}}class kA extends AH{static canHandle(e,n){if(n!==0)return!1;let r=e.getUint16(2);if(r>50)return!1;let i=16,s=[];for(;i<r;)s.push(e.getString(i,4)),i+=4;return s.includes(this.type)}async parse(){let e=this.file.getUint32(0),n=this.parseBoxHead(e);for(;n.kind!=="meta";)e+=n.length,await this.file.ensureChunk(e,16),n=this.parseBoxHead(e);await this.file.ensureChunk(n.offset,n.length),this.parseBoxFullHead(n),this.parseSubBoxes(n),this.options.icc.enabled&&await this.findIcc(n),this.options.tiff.enabled&&await this.findExif(n)}async registerSegment(e,n,r){await this.file.ensureChunk(n,r);let i=this.file.subarray(n,r);this.createParser(e,i)}async findIcc(e){let n=this.findBox(e,"iprp");if(n===void 0)return;let r=this.findBox(n,"ipco");if(r===void 0)return;let i=this.findBox(r,"colr");i!==void 0&&await this.registerSegment("icc",i.offset+12,i.length)}async findExif(e){let n=this.findBox(e,"iinf");if(n===void 0)return;let r=this.findBox(e,"iloc");if(r===void 0)return;let i=this.findExifLocIdInIinf(n),s=this.findExtentInIloc(r,i);if(s===void 0)return;let[a,o]=s;await this.file.ensureChunk(a,o);let l=4+this.file.getUint32(a);a+=l,o-=l,await this.registerSegment("tiff",a,o)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let n,r,i,s,a=e.start,o=this.file.getUint16(a);for(a+=2;o--;){if(n=this.parseBoxHead(a),this.parseBoxFullHead(n),r=n.start,n.version>=2&&(i=n.version===3?4:2,s=this.file.getString(r+i+2,4),s==="Exif"))return this.file.getUintBytes(r,i);a+=n.length}}get8bits(e){let n=this.file.getUint8(e);return[n>>4,15&n]}findExtentInIloc(e,n){this.parseBoxFullHead(e);let r=e.start,[i,s]=this.get8bits(r++),[a,o]=this.get8bits(r++),l=e.version===2?4:2,c=e.version===1||e.version===2?2:0,u=o+i+s,d=e.version===2?4:2,f=this.file.getUintBytes(r,d);for(r+=d;f--;){let h=this.file.getUintBytes(r,l);r+=l+c+2+a;let g=this.file.getUint16(r);if(r+=2,h===n)return g>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(r+o,i),this.file.getUintBytes(r+o+i,s)];r+=g*u}}}class RA extends kA{}ct(RA,"type","heic");class oE extends kA{}ct(oE,"type","avif"),Ns.set("heic",RA),Ns.set("avif",oE),_n(Yn,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),_n(Yn,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),_n(Yn,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),_n(is,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let bh=_n(is,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const lE={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};bh.set(37392,lE),bh.set(41488,lE);const j2={0:"Normal",1:"Low",2:"High"};function cE(t){return typeof t=="object"&&t.length!==void 0?t[0]:t}function uE(t){let e=Array.from(t).slice(1);return e[1]>15&&(e=e.map(n=>String.fromCharCode(n))),e[2]!=="0"&&e[2]!==0||e.pop(),e.join(".")}function V2(t){if(typeof t=="string"){var[e,n,r,i,s,a]=t.trim().split(/[-: ]/g).map(Number),o=new Date(e,n-1,r);return Number.isNaN(i)||Number.isNaN(s)||Number.isNaN(a)||(o.setHours(i),o.setMinutes(s),o.setSeconds(a)),Number.isNaN(+o)?t:o}}function qd(t){if(typeof t=="string")return t;let e=[];if(t[1]===0&&t[t.length-1]===0)for(let n=0;n<t.length;n+=2)e.push(dE(t[n+1],t[n]));else for(let n=0;n<t.length;n+=2)e.push(dE(t[n],t[n+1]));return vl(String.fromCodePoint(...e))}function dE(t,e){return t<<8|e}bh.set(41992,j2),bh.set(41993,j2),bh.set(41994,j2),_n(bo,["ifd0","ifd1"],[[50827,function(t){return typeof t!="string"?wA(t):t}],[306,V2],[40091,qd],[40092,qd],[40093,qd],[40094,qd],[40095,qd]]),_n(bo,"exif",[[40960,uE],[36864,uE],[36867,V2],[36868,V2],[40962,cE],[40963,cE]]),_n(bo,"gps",[[0,t=>Array.from(t).join(".")],[7,t=>Array.from(t).join(":")]]);class W2 extends Xi{static canHandle(e,n){return e.getUint8(n+1)===225&&e.getUint32(n+4)===1752462448&&e.getString(n+4,20)==="http://ns.adobe.com/"}static headerLength(e,n){return e.getString(n+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(e,n){let r=super.findPosition(e,n);return r.multiSegment=r.extended=r.headerLength===79,r.multiSegment?(r.chunkCount=e.getUint8(n+72),r.chunkNumber=e.getUint8(n+76),e.getUint8(n+77)!==0&&r.chunkNumber++):(r.chunkCount=1/0,r.chunkNumber=-1),r}static handleMultiSegments(e){return e.map(n=>n.chunk.getString()).join("")}normalizeInput(e){return typeof e=="string"?e:Br.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=function(s){let a={},o={};for(let l of IA)a[l]=[],o[l]=0;return s.replace(LH,(l,c,u)=>{if(c==="<"){let d=++o[u];return a[u].push(d),`${l}#${d}`}return`${l}#${a[u].pop()}`})}(e);let n=mu.findAll(e,"rdf","Description");n.length===0&&n.push(new mu("rdf","Description",void 0,e));let r,i={};for(let s of n)for(let a of s.properties)r=TH(a.ns,i),NA(a,r);return function(s){let a;for(let o in s)a=s[o]=Mg(s[o]),a===void 0&&delete s[o];return Mg(s)}(i)}assignToOutput(e,n){if(this.localOptions.parse)for(let[r,i]of Object.entries(n))switch(r){case"tiff":this.assignObjectToOutput(e,"ifd0",i);break;case"exif":this.assignObjectToOutput(e,"exif",i);break;case"xmlns":break;default:this.assignObjectToOutput(e,r,i)}else e.xmp=n}}ct(W2,"type","xmp"),ct(W2,"multiSegment",!0),An.set("xmp",W2);class Bg{static findAll(e){return CA(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(Bg.unpackMatch)}static unpackMatch(e){let n=e[1],r=e[2],i=e[3].slice(1,-1);return i=AA(i),new Bg(n,r,i)}constructor(e,n,r){this.ns=e,this.name=n,this.value=r}serialize(){return this.value}}class mu{static findAll(e,n,r){if(n!==void 0||r!==void 0){n=n||"[\\w\\d-]+",r=r||"[\\w\\d-]+";var i=new RegExp(`<(${n}):(${r})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else i=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return CA(e,i).map(mu.unpackMatch)}static unpackMatch(e){let n=e[1],r=e[2],i=e[4],s=e[8];return new mu(n,r,i,s)}constructor(e,n,r,i){this.ns=e,this.name=n,this.attrString=r,this.innerXml=i,this.attrs=Bg.findAll(r),this.children=mu.findAll(i),this.value=this.children.length===0?AA(i):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:e,name:n}=this;return e==="rdf"&&(n==="Seq"||n==="Bag"||n==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return PH(this.children.map(IH));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let e={};for(let n of this.properties)NA(n,e);return this.value!==void 0&&(e.value=this.value),Mg(e)}}function NA(t,e){let n=t.serialize();n!==void 0&&(e[t.name]=n)}var IH=t=>t.serialize(),PH=t=>t.length===1?t[0]:t,TH=(t,e)=>e[t]?e[t]:e[t]={};function CA(t,e){let n,r=[];if(!t)return r;for(;(n=e.exec(t))!==null;)r.push(n);return r}function AA(t){if(function(r){return r==null||r==="null"||r==="undefined"||r===""||r.trim()===""}(t))return;let e=Number(t);if(!Number.isNaN(e))return e;let n=t.toLowerCase();return n==="true"||n!=="false"&&t.trim()}const IA=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],LH=new RegExp(`(<|\\/)(${IA.join("|")})`,"g");var OH=Object.freeze({__proto__:null,default:CH,Exifr:Vo,fileParsers:Ns,segmentParsers:An,fileReaders:Ts,tagKeys:Yn,tagValues:is,tagRevivers:bo,createDictionary:_n,extendDictionary:zl,fetchUrlAsArrayBuffer:Ul,readBlobAsArrayBuffer:Bl,chunkedProps:eo,otherSegments:Yu,segments:jl,tiffBlocks:ln,segmentsAndBlocks:to,tiffExtractables:no,inheritables:Xu,allFormatters:ro,Options:Ql,parse:M0,gpsOnlyOptions:gb,gps:xA,thumbnailOnlyOptions:yb,thumbnail:_A,thumbnailUrl:EA,orientationOnlyOptions:vb,orientation:wb,rotations:bb,get rotateCanvas(){return wl},get rotateCss(){return bl},rotation:SA});let hE=Fg("fs",t=>t.promises);Ts.set("fs",class extends B0{async readWhole(){this.chunked=!1,this.fs=await hE;let t=await this.fs.readFile(this.input);this._swapBuffer(t)}async readChunked(){this.chunked=!0,this.fs=await hE,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(t,e){this.fh===void 0&&await this.open(),t+e>this.size&&(e=this.size-t);var n=this.subarray(t,e,!0);return await this.fh.read(n.dataView,0,e,t),n}async close(){if(this.fh){let t=this.fh;this.fh=void 0,await t.close()}}});Ts.set("base64",class extends B0{constructor(...t){super(...t),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(t,e){let n,r,i=this.input;t===void 0?(t=0,n=0,r=0):(n=4*Math.floor(t/3),r=t-n/4*3),e===void 0&&(e=this.size);let s=t+e,a=n+4*Math.ceil(s/3);i=i.slice(n,a);let o=Math.min(e,this.size-t);if(F0){let l=D0.from(i,"base64").slice(r,r+o);return this.set(l,t,!0)}{let l=this.subarray(t,o,!0),c=atob(i),u=l.toUint8();for(let d=0;d<o;d++)u[d]=c.charCodeAt(r+d);return l}}});class fE extends U0{static canHandle(e,n){return n===18761||n===19789}extendOptions(e){let{ifd0:n,xmp:r,iptc:i,icc:s}=e;r.enabled&&n.deps.add(700),i.enabled&&n.deps.add(33723),s.enabled&&n.deps.add(34675),n.finalizeFilters()}async parse(){let{tiff:e,xmp:n,iptc:r,icc:i}=this.options;if(e.enabled||n.enabled||r.enabled||i.enabled){let s=Math.max(Bv(this.options),this.options.chunkSize);await this.file.ensureChunk(0,s),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let n=this.parsers.tiff[e];this.injectSegment(e,n)}}}ct(fE,"type","tiff"),Ns.set("tiff",fE);let DH=Fg("zlib");const FH=["ihdr","iccp","text","itxt","exif"];class pE extends U0{constructor(...e){super(...e),ct(this,"catchError",n=>this.errors.push(n)),ct(this,"metaChunks",[]),ct(this,"unknownChunks",[])}static canHandle(e,n){return n===35152&&e.getUint32(0)===2303741511&&e.getUint32(4)===218765834}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,n){let{file:r}=this;for(;e<n;){let i=r.getUint32(e),s=r.getUint32(e+4),a=r.getString(e+4,4).toLowerCase(),o=i+4+4+4,l={type:a,offset:e,length:o,start:e+4+4,size:i,marker:s};FH.includes(a)?this.metaChunks.push(l):this.unknownChunks.push(l),e+=o}}parseTextChunks(){let e=this.metaChunks.filter(n=>n.type==="text");for(let n of e){let[r,i]=this.file.getString(n.start,n.size).split("\0");this.injectKeyValToIhdr(r,i)}}injectKeyValToIhdr(e,n){let r=this.parsers.ihdr;r&&r.raw.set(e,n)}findIhdr(){let e=this.metaChunks.find(n=>n.type==="ihdr");e&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find(n=>n.type==="exif");e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter(n=>n.type==="itxt");for(let n of e)n.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",n.chunk)}async findIcc(){let e=this.metaChunks.find(o=>o.type==="iccp");if(!e)return;let{chunk:n}=e,r=n.getUint8Array(0,81),i=0;for(;i<80&&r[i]!==0;)i++;let s=i+2,a=n.getString(0,i);if(this.injectKeyValToIhdr("ProfileName",a),Dg){let o=await DH,l=n.getUint8Array(s);l=o.inflateSync(l),this.injectSegment("icc",l)}}}ct(pE,"type","png"),Ns.set("png",pE),_n(Yn,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),zl(Yn,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let mE=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];zl(Yn,"ifd0",mE),zl(Yn,"exif",mE),_n(is,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class H2 extends Xi{static canHandle(e,n){return e.getUint8(n+1)===224&&e.getUint32(n+4)===1246120262&&e.getUint8(n+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}ct(H2,"type","jfif"),ct(H2,"headerLength",9),An.set("jfif",H2),_n(Yn,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class gE extends Xi{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}ct(gE,"type","ihdr"),An.set("ihdr",gE),_n(Yn,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),_n(is,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class xm extends Xi{static canHandle(e,n){return e.getUint8(n+1)===226&&e.getUint32(n+4)===1229144927}static findPosition(e,n){let r=super.findPosition(e,n);return r.chunkNumber=e.getUint8(n+16),r.chunkCount=e.getUint8(n+17),r.multiSegment=r.chunkCount>1,r}static handleMultiSegments(e){return function(n){let r=function(i){let s=i[0].constructor,a=0;for(let c of i)a+=c.length;let o=new s(a),l=0;for(let c of i)o.set(c,l),l+=c.length;return o}(n.map(i=>i.chunk.toUint8()));return new Br(r)}(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&Pn("ICC header is too short");for(let[n,r]of Object.entries(MH)){n=parseInt(n,10);let i=r(this.chunk,n);i!=="\0\0\0\0"&&e.set(n,i)}}parseTags(){let e,n,r,i,s,{raw:a}=this,o=this.chunk.getUint32(128),l=132,c=this.chunk.byteLength;for(;o--;){if(e=this.chunk.getString(l,4),n=this.chunk.getUint32(l+4),r=this.chunk.getUint32(l+8),i=this.chunk.getString(n,4),n+r>c)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");s=this.parseTag(i,n,r),s!==void 0&&s!=="\0\0\0\0"&&a.set(e,s),l+=12}}parseTag(e,n,r){switch(e){case"desc":return this.parseDesc(n);case"mluc":return this.parseMluc(n);case"text":return this.parseText(n,r);case"sig ":return this.parseSig(n)}if(!(n+r>this.chunk.byteLength))return this.chunk.getUint8Array(n,r)}parseDesc(e){let n=this.chunk.getUint32(e+8)-1;return vl(this.chunk.getString(e+12,n))}parseText(e,n){return vl(this.chunk.getString(e+8,n-8))}parseSig(e){return vl(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:n}=this,r=n.getUint32(e+8),i=n.getUint32(e+12),s=e+16,a=[];for(let o=0;o<r;o++){let l=n.getString(s+0,2),c=n.getString(s+2,2),u=n.getUint32(s+4),d=n.getUint32(s+8)+e,f=vl(n.getUnicodeString(d,u));a.push({lang:l,country:c,text:f}),s+=i}return r===1?a[0].text:a}translateValue(e,n){return typeof e=="string"?n[e]||n[e.toLowerCase()]||e:n[e]||e}}ct(xm,"type","icc"),ct(xm,"multiSegment",!0),ct(xm,"headerLength",18);const MH={4:Hs,8:function(t,e){return[t.getUint8(e),t.getUint8(e+1)>>4,t.getUint8(e+1)%16].map(n=>n.toString(10)).join(".")},12:Hs,16:Hs,20:Hs,24:function(t,e){const n=t.getUint16(e),r=t.getUint16(e+2)-1,i=t.getUint16(e+4),s=t.getUint16(e+6),a=t.getUint16(e+8),o=t.getUint16(e+10);return new Date(Date.UTC(n,r,i,s,a,o))},36:Hs,40:Hs,48:Hs,52:Hs,64:(t,e)=>t.getUint32(e),80:Hs};function Hs(t,e){return vl(t.getString(e,4))}An.set("icc",xm),_n(Yn,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const qp={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},yE={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};_n(is,"icc",[[4,qp],[12,yE],[40,Object.assign({},qp,yE)],[48,qp],[80,qp],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class $p extends Xi{static canHandle(e,n,r){return e.getUint8(n+1)===237&&e.getString(n+4,9)==="Photoshop"&&this.containsIptc8bim(e,n,r)!==void 0}static headerLength(e,n,r){let i,s=this.containsIptc8bim(e,n,r);if(s!==void 0)return i=e.getUint8(n+s+7),i%2!=0&&(i+=1),i===0&&(i=4),s+8+i}static containsIptc8bim(e,n,r){for(let i=0;i<r;i++)if(this.isIptcSegmentHead(e,n+i))return i}static isIptcSegmentHead(e,n){return e.getUint8(n)===56&&e.getUint32(n)===943868237&&e.getUint16(n+4)===1028}parse(){let{raw:e}=this,n=this.chunk.byteLength-1,r=!1;for(let i=0;i<n;i++)if(this.chunk.getUint8(i)===28&&this.chunk.getUint8(i+1)===2){r=!0;let s=this.chunk.getUint16(i+3),a=this.chunk.getUint8(i+2),o=this.chunk.getLatin1String(i+5,s);e.set(a,this.pluralizeValue(e.get(a),o)),i+=4+s}else if(r)break;return this.translate(),this.output}pluralizeValue(e,n){return e!==void 0?e instanceof Array?(e.push(n),e):[e,n]:n}}ct($p,"type","iptc"),ct($p,"translateValues",!1),ct($p,"reviveValues",!1),An.set("iptc",$p),_n(Yn,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),_n(is,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);const UH=async t=>{try{const e=await OH.parse(t,{tiff:!0,exif:!0,gps:!0,ifd0:!0,ifd1:!0});return e||{message:"No EXIF data found"}}catch(e){throw new Error("Failed to extract metadata: "+e.message)}},BH=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{const s=new Image;s.onload=()=>{const a=document.createElement("canvas");a.width=s.width,a.height=s.height,a.getContext("2d").drawImage(s,0,0),a.toBlob(l=>{if(l){const c=new File([l],t.name,{type:t.type});e(c)}else n(new Error("Metadata removal failed"))},t.type,1)},s.onerror=()=>n(new Error("Failed to load image")),s.src=i.target.result},r.onerror=()=>n(new Error("Failed to read file")),r.readAsDataURL(t)}),vE=t=>{const e={};return t.Make&&(e["Camera Make"]=t.Make),t.Model&&(e["Camera Model"]=t.Model),t.DateTime&&(e["Date Taken"]=t.DateTime),t.ExposureTime&&(e["Exposure Time"]=`${t.ExposureTime}s`),t.FNumber&&(e["F-Number"]=`f/${t.FNumber}`),t.ISO&&(e.ISO=t.ISO),t.FocalLength&&(e["Focal Length"]=`${t.FocalLength}mm`),t.LensModel&&(e.Lens=t.LensModel),t.latitude&&t.longitude&&(e.GPS=`${t.latitude.toFixed(6)}, ${t.longitude.toFixed(6)}`),t.ImageWidth&&(e.Width=`${t.ImageWidth}px`),t.ImageHeight&&(e.Height=`${t.ImageHeight}px`),t.Orientation&&(e.Orientation=t.Orientation),e},zH=t=>({name:t.name,size:t.size,type:t.type,lastModified:new Date(t.lastModified).toLocaleString()}),jH=()=>{const{user:t}=Tn(),{canUseFeature:e,incrementUsage:n,getRemainingUsage:r}=Mo();if(!t)return React.createElement(zo,null);const[i,s]=se.useState(null),[a,o]=se.useState(null),[l,c]=se.useState(null),[u,d]=se.useState(null),[f,h]=se.useState(!1),[g,y]=se.useState(!1),[b,m]=se.useState("view"),w=async O=>{if(s(O),o(null),!e("metadata")){y(!0);return}h(!0);try{const D=zH(O);d(D);const M=await UH(O);c(M),await n("metadata")}catch(D){console.error("Metadata extraction failed:",D),c({error:D.message})}finally{h(!1)}},x=async()=>{if(i){h(!0);try{const O=await BH(i);o(O)}catch(O){alert("Metadata removal failed: "+O.message)}finally{h(!1)}}},N=()=>{if(!a)return;const O=URL.createObjectURL(a),D=document.createElement("a");D.href=O,D.download=a.name,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(O)};return React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(Yl,{isOpen:f,message:"Processing metadata..."}),React.createElement(He.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 space-y-4"},React.createElement("div",{className:"flex items-center justify-center space-x-3"},React.createElement(lN,{size:40,className:"text-red-600 dark:text-red-400"}),React.createElement("h1",{className:"text-4xl md:text-5xl font-bold gradient-text"},"EXIF Metadata")),React.createElement("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto"},"View, edit, or remove EXIF data and metadata from your images")),!i&&React.createElement(Bo,{onFileSelect:w}),i&&React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6"},React.createElement("div",{className:"glass-card p-4"},React.createElement("div",{className:"flex gap-4"},React.createElement("button",{onClick:()=>m("view"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition-all ${b==="view"?"bg-red-500 text-white shadow-lg":"glass-card hover:scale-105"}`},"View Metadata"),React.createElement("button",{onClick:()=>m("remove"),className:`flex-1 px-4 py-2 rounded-lg font-semibold transition-all ${b==="remove"?"bg-red-500 text-white shadow-lg":"glass-card hover:scale-105"}`},"Remove Metadata"))),b==="view"&&React.createElement(React.Fragment,null,u&&React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"File Information"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"File Name"),React.createElement("p",{className:"font-semibold"},u.name)),React.createElement("div",null,React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"File Size"),React.createElement("p",{className:"font-semibold"},(u.size/1024).toFixed(2)," KB")),React.createElement("div",null,React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"File Type"),React.createElement("p",{className:"font-semibold"},u.type)),React.createElement("div",null,React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"Last Modified"),React.createElement("p",{className:"font-semibold"},u.lastModified)))),React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"EXIF Data"),l&&!l.error&&!l.message?React.createElement("div",{className:"space-y-3"},Object.entries(vE(l)).map(([O,D])=>React.createElement("div",{key:O,className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700"},React.createElement("span",{className:"text-gray-600 dark:text-gray-400"},O),React.createElement("span",{className:"font-semibold"},D))),Object.keys(vE(l)).length===0&&React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"No standard EXIF data found in this image.")):React.createElement("div",{className:"glass-card p-4 bg-yellow-50 dark:bg-yellow-900/20"},React.createElement("p",{className:"text-sm"},(l==null?void 0:l.message)||(l==null?void 0:l.error)||"No EXIF data available"))),l&&!l.error&&!l.message&&React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"Raw Metadata (All Fields)"),React.createElement("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 max-h-96 overflow-auto"},React.createElement("pre",{className:"text-xs font-mono whitespace-pre-wrap"},JSON.stringify(l,null,2))))),b==="remove"&&!a&&React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"Remove All Metadata"),React.createElement("div",{className:"space-y-4"},React.createElement("div",{className:"glass-card p-4 bg-yellow-50 dark:bg-yellow-900/20"},React.createElement("p",{className:"text-sm"},React.createElement("strong",null,"Warning:")," This will remove all EXIF data including camera settings, GPS location, timestamps, and other metadata. This action cannot be undone.")),React.createElement("div",{className:"space-y-2"},React.createElement("p",{className:"font-semibold"},"What will be removed:"),React.createElement("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400"},React.createElement("li",null,"Camera make and model"),React.createElement("li",null,"Date and time taken"),React.createElement("li",null,"GPS location data"),React.createElement("li",null,"Camera settings (ISO, aperture, shutter speed, etc.)"),React.createElement("li",null,"Copyright and author information"),React.createElement("li",null,"Software and editing history"))),React.createElement("button",{onClick:x,className:"glass-button w-full"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(dN,{size:20}),React.createElement("span",null,"Remove All Metadata"))))),a&&React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6"},React.createElement("div",{className:"glass-card p-6 bg-green-50 dark:bg-green-900/20"},React.createElement("h3",{className:"text-xl font-bold mb-2"},"Metadata Removed Successfully!"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"All EXIF data has been removed from your image. The cleaned image is ready to download.")),React.createElement("div",{className:"flex gap-4"},React.createElement("button",{onClick:()=>{s(null),o(null),c(null)},className:"flex-1 glass-card p-4 font-semibold hover:scale-105 transition-all"},"Process Another"),React.createElement("button",{onClick:N,className:"flex-1 glass-button"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(fa,{size:20}),React.createElement("span",null,"Download Clean Image"))))),!a&&React.createElement("div",{className:"glass-card p-6"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h3",{className:"text-xl font-bold"},"Image Preview"),React.createElement("button",{onClick:()=>{s(null),c(null)},className:"text-sm text-gray-600 dark:text-gray-400 hover:text-red-500"},"Change Image")),React.createElement("div",{className:"relative rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800"},React.createElement("img",{src:URL.createObjectURL(i),alt:"Preview",className:"w-full h-auto max-h-96 object-contain"})))),React.createElement(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-12 glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"About EXIF Metadata"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm text-gray-600 dark:text-gray-400"},React.createElement("div",null,React.createElement("p",{className:"font-semibold mb-2"},"What is EXIF?"),React.createElement("p",null,"EXIF (Exchangeable Image File Format) is metadata embedded in image files. It includes information about camera settings, date/time, GPS location, and more.")),React.createElement("div",null,React.createElement("p",{className:"font-semibold mb-2"},"Why remove metadata?"),React.createElement("p",null,"Remove metadata to protect privacy, reduce file size, or prepare images for publication where metadata is not desired.")))),React.createElement(jo,{isOpen:g,onClose:()=>y(!1),feature:"metadata",remaining:r("metadata")}))};function Gp(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var PA={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function a(c,u){if(!i[c]){if(!r[c]){var d=typeof Gp=="function"&&Gp;if(!u&&d)return d(c,!0);if(o)return o(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[c]={exports:{}};r[c][0].call(h.exports,function(g){var y=r[c][1][g];return a(y||g)},h,h.exports,n,r,i,s)}return i[c].exports}for(var o=typeof Gp=="function"&&Gp,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(n,r,i){var s=n("./utils"),a=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,d,f,h,g,y,b=[],m=0,w=l.length,x=w,N=s.getTypeOf(l)!=="string";m<l.length;)x=w-m,d=N?(c=l[m++],u=m<w?l[m++]:0,m<w?l[m++]:0):(c=l.charCodeAt(m++),u=m<w?l.charCodeAt(m++):0,m<w?l.charCodeAt(m++):0),f=c>>2,h=(3&c)<<4|u>>4,g=1<x?(15&u)<<2|d>>6:64,y=2<x?63&d:64,b.push(o.charAt(f)+o.charAt(h)+o.charAt(g)+o.charAt(y));return b.join("")},i.decode=function(l){var c,u,d,f,h,g,y=0,b=0,m="data:";if(l.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var w,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&x--,l.charAt(l.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=a.uint8array?new Uint8Array(0|x):new Array(0|x);y<l.length;)c=o.indexOf(l.charAt(y++))<<2|(f=o.indexOf(l.charAt(y++)))>>4,u=(15&f)<<4|(h=o.indexOf(l.charAt(y++)))>>2,d=(3&h)<<6|(g=o.indexOf(l.charAt(y++))),w[b++]=c,h!==64&&(w[b++]=u),g!==64&&(w[b++]=d);return w}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),a=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,d,f,h,g){this.compressedSize=u,this.uncompressedSize=d,this.crc32=f,this.compression=h,this.compressedContent=g}c.prototype={getContentWorker:function(){var u=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,d,f){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(d.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),a=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(c,u,d,f){var h=a,g=f+d;c^=-1;for(var y=f;y<g;y++)c=c>>>8^h[255&(c^u[y])];return-1^c}(0|l,o,o.length,0):function(c,u,d,f){var h=a,g=f+d;c^=-1;for(var y=f;y<g;y++)c=c>>>8^h[255&(c^u.charCodeAt(y))];return-1^c}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),c=s?"uint8array":"array";function u(d,f){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=f,this.meta={}}i.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(f){d.push({data:f,meta:d.meta})}},i.compressWorker=function(d){return new u("Deflate",d)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(h,g){var y,b="";for(y=0;y<g;y++)b+=String.fromCharCode(255&h),h>>>=8;return b}function a(h,g,y,b,m,w){var x,N,O=h.file,D=h.compression,M=w!==c.utf8encode,R=o.transformTo("string",w(O.name)),A=o.transformTo("string",c.utf8encode(O.name)),B=O.comment,L=o.transformTo("string",w(B)),k=o.transformTo("string",c.utf8encode(B)),I=A.length!==O.name.length,_=k.length!==B.length,V="",U="",P="",$=O.dir,W=O.date,te={crc32:0,compressedSize:0,uncompressedSize:0};g&&!y||(te.crc32=h.crc32,te.compressedSize=h.compressedSize,te.uncompressedSize=h.uncompressedSize);var ne=0;g&&(ne|=8),M||!I&&!_||(ne|=2048);var C=0,K=0;$&&(C|=16),m==="UNIX"?(K=798,C|=function(H,oe){var pe=H;return H||(pe=oe?16893:33204),(65535&pe)<<16}(O.unixPermissions,$)):(K=20,C|=function(H){return 63&(H||0)}(O.dosPermissions)),x=W.getUTCHours(),x<<=6,x|=W.getUTCMinutes(),x<<=5,x|=W.getUTCSeconds()/2,N=W.getUTCFullYear()-1980,N<<=4,N|=W.getUTCMonth()+1,N<<=5,N|=W.getUTCDate(),I&&(U=s(1,1)+s(u(R),4)+A,V+="up"+s(U.length,2)+U),_&&(P=s(1,1)+s(u(L),4)+k,V+="uc"+s(P.length,2)+P);var q="";return q+=`
\0`,q+=s(ne,2),q+=D.magic,q+=s(x,2),q+=s(N,2),q+=s(te.crc32,4),q+=s(te.compressedSize,4),q+=s(te.uncompressedSize,4),q+=s(R.length,2),q+=s(V.length,2),{fileRecord:d.LOCAL_FILE_HEADER+q+R+V,dirRecord:d.CENTRAL_FILE_HEADER+s(K,2)+q+s(L.length,2)+"\0\0\0\0"+s(C,4)+s(b,4)+R+V+L}}var o=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),d=n("../signature");function f(h,g,y,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=y,this.encodeFileName=b,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(f,l),f.prototype.push=function(h){var g=h.meta.percent||0,y=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:y?(g+100*(y-b-1))/y:100}}))},f.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var g=this.streamFiles&&!h.file.dir;if(g){var y=a(h,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(h){this.accumulate=!1;var g=this.streamFiles&&!h.file.dir,y=a(h,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),g)this.push({data:function(b){return d.DATA_DESCRIPTOR+s(b.crc32,4)+s(b.compressedSize,4)+s(b.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var h=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var y=this.bytesWritten-h,b=function(m,w,x,N,O){var D=o.transformTo("string",O(N));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(m,2)+s(m,2)+s(w,4)+s(x,4)+s(D.length,2)+D}(this.dirRecords.length,y,h,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(h){this._sources.push(h);var g=this;return h.on("data",function(y){g.processChunk(y)}),h.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),h.on("error",function(y){g.error(y)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(h){var g=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var y=0;y<g.length;y++)try{g[y].error(h)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,g=0;g<h.length;g++)h[g].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(o,l,c){var u=new a(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{o.forEach(function(f,h){d++;var g=function(w,x){var N=w||x,O=s[N];if(!O)throw new Error(N+" is not a valid compression method !");return O}(h.options.compression,l.compression),y=h.options.compressionOptions||l.compressionOptions||{},b=h.dir,m=h.date;h._compressWorker(g,y).withStreamInfo("file",{name:f,dir:b,date:m,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(f){u.error(f)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),a=n("./external"),o=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function d(f){return new a.Promise(function(h,g){var y=f.decompressed.getContentWorker().pipe(new c);y.on("error",function(b){g(b)}).on("end",function(){y.streamInfo.crc32!==f.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(f,h){var g=this;return h=s.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(f)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,h.optimizedBinaryString,h.base64).then(function(y){var b=new l(h);return b.load(y),b}).then(function(y){var b=[a.Promise.resolve(y)],m=y.files;if(h.checkCRC32)for(var w=0;w<m.length;w++)b.push(d(m[w]));return a.Promise.all(b)}).then(function(y){for(var b=y.shift(),m=b.files,w=0;w<m.length;w++){var x=m[w],N=x.fileNameStr,O=s.resolve(x.fileNameStr);g.file(O,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:h.createFolders}),x.dir||(g.file(O).unsafeOriginalName=N)}return b.zipComment.length&&(g.comment=b.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),a=n("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var u=this;o.on("data",function(d,f){u.push(d)||u._helper.pause(),c&&c(f)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}n("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(O,D,M){var R,A=o.getTypeOf(D),B=o.extend(M||{},u);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(O=m(O)),B.createFolders&&(R=b(O))&&w.call(this,R,!0);var L=A==="string"&&B.binary===!1&&B.base64===!1;M&&M.binary!==void 0||(B.binary=!L),(D instanceof d&&D.uncompressedSize===0||B.dir||!D||D.length===0)&&(B.base64=!1,B.binary=!0,D="",B.compression="STORE",A="string");var k=null;k=D instanceof d||D instanceof l?D:g.isNode&&g.isStream(D)?new y(O,D):o.prepareContent(O,D,B.binary,B.optimizedBinaryString,B.base64);var I=new f(O,k,B);this.files[O]=I}var a=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),d=n("./compressedObject"),f=n("./zipObject"),h=n("./generate"),g=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),b=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var D=O.lastIndexOf("/");return 0<D?O.substring(0,D):""},m=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},w=function(O,D){return D=D!==void 0?D:u.createFolders,O=m(O),this.files[O]||s.call(this,O,null,{dir:!0,createFolders:D}),this.files[O]};function x(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var D,M,R;for(D in this.files)R=this.files[D],(M=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&O(M,R)},filter:function(O){var D=[];return this.forEach(function(M,R){O(M,R)&&D.push(R)}),D},file:function(O,D,M){if(arguments.length!==1)return O=this.root+O,s.call(this,O,D,M),this;if(x(O)){var R=O;return this.filter(function(B,L){return!L.dir&&R.test(B)})}var A=this.files[this.root+O];return A&&!A.dir?A:null},folder:function(O){if(!O)return this;if(x(O))return this.filter(function(A,B){return B.dir&&O.test(A)});var D=this.root+O,M=w.call(this,D),R=this.clone();return R.root=M.name,R},remove:function(O){O=this.root+O;var D=this.files[O];if(D||(O.slice(-1)!=="/"&&(O+="/"),D=this.files[O]),D&&!D.dir)delete this.files[O];else for(var M=this.filter(function(A,B){return B.name.slice(0,O.length)===O}),R=0;R<M.length;R++)delete this.files[M[R].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var D,M={};try{if((M=o.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");o.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var R=M.comment||this.comment||"";D=h.generateWorker(this,M,R)}catch(A){(D=new l("error")).error(A)}return new c(D,M.type||"string",M.mimeType)},generateAsync:function(O,D){return this.generateInternalStream(O).accumulate(D)},generateNodeStream:function(O,D){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(D)}};r.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),d=o.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===c&&this.data[f+2]===u&&this.data[f+3]===d)return f-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),d=o.charCodeAt(3),f=this.readData(4);return l===f[0]&&c===f[1]&&u===f[2]&&d===f[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),a=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(d){var f=s.getTypeOf(d);return s.checkSupport(f),f!=="string"||a.uint8array?f==="nodebuffer"?new c(d):a.uint8array?new u(s.transformTo("uint8array",d)):new o(s.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),a=n("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),a=n("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),a=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),d=null;if(c.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(g,y){return new u.Promise(function(b,m){var w=[],x=g._internalType,N=g._outputType,O=g._mimeType;g.on("data",function(D,M){w.push(D),y&&y(M)}).on("error",function(D){w=[],m(D)}).on("end",function(){try{var D=function(M,R,A){switch(M){case"blob":return s.newBlob(s.transformTo("arraybuffer",R),A);case"base64":return l.encode(R);default:return s.transformTo(M,R)}}(N,function(M,R){var A,B=0,L=null,k=0;for(A=0;A<R.length;A++)k+=R[A].length;switch(M){case"string":return R.join("");case"array":return Array.prototype.concat.apply([],R);case"uint8array":for(L=new Uint8Array(k),A=0;A<R.length;A++)L.set(R[A],B),B+=R[A].length;return L;case"nodebuffer":return Buffer.concat(R);default:throw new Error("concat : unsupported type '"+M+"'")}}(x,w),O);b(D)}catch(M){m(M)}w=[]}).resume()})}function h(g,y,b){var m=y;switch(y){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=y,this._mimeType=b,s.checkSupport(m),this._worker=g.pipe(new a(m)),g.lock()}catch(w){this._worker=new o("error"),this._worker.error(w)}}h.prototype={accumulate:function(g){return f(this,g)},on:function(g,y){var b=this;return g==="data"?this._worker.on(g,function(m){y.call(b,m.data,m.meta)}):this._worker.on(g,function(){s.delay(y,arguments,b)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),a=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return a.nodebuffer?o.newBufferFrom(h,"utf-8"):function(g){var y,b,m,w,x,N=g.length,O=0;for(w=0;w<N;w++)(64512&(b=g.charCodeAt(w)))==55296&&w+1<N&&(64512&(m=g.charCodeAt(w+1)))==56320&&(b=65536+(b-55296<<10)+(m-56320),w++),O+=b<128?1:b<2048?2:b<65536?3:4;for(y=a.uint8array?new Uint8Array(O):new Array(O),w=x=0;x<O;w++)(64512&(b=g.charCodeAt(w)))==55296&&w+1<N&&(64512&(m=g.charCodeAt(w+1)))==56320&&(b=65536+(b-55296<<10)+(m-56320),w++),b<128?y[x++]=b:(b<2048?y[x++]=192|b>>>6:(b<65536?y[x++]=224|b>>>12:(y[x++]=240|b>>>18,y[x++]=128|b>>>12&63),y[x++]=128|b>>>6&63),y[x++]=128|63&b);return y}(h)},i.utf8decode=function(h){return a.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):function(g){var y,b,m,w,x=g.length,N=new Array(2*x);for(y=b=0;y<x;)if((m=g[y++])<128)N[b++]=m;else if(4<(w=c[m]))N[b++]=65533,y+=w-1;else{for(m&=w===2?31:w===3?15:7;1<w&&y<x;)m=m<<6|63&g[y++],w--;1<w?N[b++]=65533:m<65536?N[b++]=m:(m-=65536,N[b++]=55296|m>>10&1023,N[b++]=56320|1023&m)}return N.length!==b&&(N.subarray?N=N.subarray(0,b):N.length=b),s.applyFromCharCode(N)}(h=s.transformTo(a.uint8array?"uint8array":"array",h))},s.inherits(d,l),d.prototype.processChunk=function(h){var g=s.transformTo(a.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var y=g;(g=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),g.set(y,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var b=function(w,x){var N;for((x=x||w.length)>w.length&&(x=w.length),N=x-1;0<=N&&(192&w[N])==128;)N--;return N<0||N===0?x:N+c[w[N]]>x?N:x}(g),m=g;b!==g.length&&(a.uint8array?(m=g.subarray(0,b),this.leftOver=g.subarray(b,g.length)):(m=g.slice(0,b),this.leftOver=g.slice(b,g.length))),this.push({data:i.utf8decode(m),meta:h.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,s.inherits(f,l),f.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),a=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function c(y){return y}function u(y,b){for(var m=0;m<y.length;++m)b[m]=255&y.charCodeAt(m);return b}n("setimmediate"),i.newBlob=function(y,b){i.checkSupport("blob");try{return new Blob([y],{type:b})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(y),m.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(y,b,m){var w=[],x=0,N=y.length;if(N<=m)return String.fromCharCode.apply(null,y);for(;x<N;)b==="array"||b==="nodebuffer"?w.push(String.fromCharCode.apply(null,y.slice(x,Math.min(x+m,N)))):w.push(String.fromCharCode.apply(null,y.subarray(x,Math.min(x+m,N)))),x+=m;return w.join("")},stringifyByChar:function(y){for(var b="",m=0;m<y.length;m++)b+=String.fromCharCode(y[m]);return b},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function f(y){var b=65536,m=i.getTypeOf(y),w=!0;if(m==="uint8array"?w=d.applyCanBeUsed.uint8array:m==="nodebuffer"&&(w=d.applyCanBeUsed.nodebuffer),w)for(;1<b;)try{return d.stringifyByChunk(y,m,b)}catch{b=Math.floor(b/2)}return d.stringifyByChar(y)}function h(y,b){for(var m=0;m<y.length;m++)b[m]=y[m];return b}i.applyFromCharCode=f;var g={};g.string={string:c,array:function(y){return u(y,new Array(y.length))},arraybuffer:function(y){return g.string.uint8array(y).buffer},uint8array:function(y){return u(y,new Uint8Array(y.length))},nodebuffer:function(y){return u(y,o.allocBuffer(y.length))}},g.array={string:f,array:c,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(y)}},g.arraybuffer={string:function(y){return f(new Uint8Array(y))},array:function(y){return h(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:c,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(new Uint8Array(y))}},g.uint8array={string:f,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:c,nodebuffer:function(y){return o.newBufferFrom(y)}},g.nodebuffer={string:f,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return g.nodebuffer.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:c},i.transformTo=function(y,b){if(b=b||"",!y)return b;i.checkSupport(y);var m=i.getTypeOf(b);return g[m][y](b)},i.resolve=function(y){for(var b=y.split("/"),m=[],w=0;w<b.length;w++){var x=b[w];x==="."||x===""&&w!==0&&w!==b.length-1||(x===".."?m.pop():m.push(x))}return m.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(y)?"nodebuffer":s.uint8array&&y instanceof Uint8Array?"uint8array":s.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!s[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var b,m,w="";for(m=0;m<(y||"").length;m++)w+="\\x"+((b=y.charCodeAt(m))<16?"0":"")+b.toString(16).toUpperCase();return w},i.delay=function(y,b,m){setImmediate(function(){y.apply(m||null,b||[])})},i.inherits=function(y,b){function m(){}m.prototype=b.prototype,y.prototype=new m},i.extend=function(){var y,b,m={};for(y=0;y<arguments.length;y++)for(b in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],b)&&m[b]===void 0&&(m[b]=arguments[y][b]);return m},i.prepareContent=function(y,b,m,w,x){return l.Promise.resolve(b).then(function(N){return s.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new l.Promise(function(O,D){var M=new FileReader;M.onload=function(R){O(R.target.result)},M.onerror=function(R){D(R.target.error)},M.readAsArrayBuffer(N)}):N}).then(function(N){var O=i.getTypeOf(N);return O?(O==="arraybuffer"?N=i.transformTo("uint8array",N):O==="string"&&(x?N=a.decode(N):m&&w!==!0&&(N=function(D){return u(D,s.uint8array?new Uint8Array(D.length):new Array(D.length))}(N))),N):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(f)+", expected "+a.pretty(d)+")")}},isSignature:function(d,f){var h=this.reader.index;this.reader.setIndex(d);var g=this.reader.readString(4)===f;return this.reader.setIndex(h),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",h=a.transformTo(f,d);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,f,h,g=this.zip64EndOfCentralSize-44;0<g;)d=this.reader.readInt(2),f=this.reader.readInt(4),h=this.reader.readData(f),this.zip64ExtensibleData[d]={id:d,length:f,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,f;for(d=0;d<this.files.length;d++)f=this.files[d],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var f=d;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var g=f-h;if(0<g)this.isSignature(f,o.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),d=n("./support");function f(h,g){this.options=h,this.loadOptions=g}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var g,y;if(h.skip(22),this.fileNameLength=h.readInt(2),y=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(b){for(var m in u)if(Object.prototype.hasOwnProperty.call(u,m)&&u[m].magic===b)return u[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var g=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(g),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var g,y,b,m=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<m;)g=h.readInt(2),y=h.readInt(2),b=h.readData(y),this.extraFields[g]={id:g,length:y,value:b};h.setIndex(m)},handleUTF8:function(){var h=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var y=a.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var m=a.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var g=s(h.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:c.utf8decode(g.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var g=s(h.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:c.utf8decode(g.readData(h.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(g,y,b){this.name=g,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=y,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");s.prototype={internalStream:function(g){var y=null,b="string";try{if(!g)throw new Error("No output type specified.");var m=(b=g.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),y=this._decompressWorker();var w=!this._dataBinary;w&&!m&&(y=y.pipe(new l.Utf8EncodeWorker)),!w&&m&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(x){(y=new u("error")).error(x)}return new a(y,b,"")},async:function(g,y){return this.internalStream(g).accumulate(y)},nodeStream:function(g,y){return this.internalStream(g||"nodebuffer").toNodejsStream(y)},_compressWorker:function(g,y){if(this._data instanceof c&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(b,g,y)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<d.length;h++)s.prototype[d[h]]=f;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(g),d=s.document.createTextNode("");u.observe(d,{characterData:!0}),a=function(){d.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var y=s.document.createElement("script");y.onreadystatechange=function(){g(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:function(){setTimeout(g,0)};else{var f=new s.MessageChannel;f.port1.onmessage=g,a=function(){f.port2.postMessage(0)}}var h=[];function g(){var y,b;o=!0;for(var m=h.length;m;){for(b=h,h=[],y=-1;++y<m;)b[y]();m=h.length}o=!1}r.exports=function(y){h.push(y)!==1||o||a()}}).call(this,typeof mp<"u"?mp:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function d(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,m!==a&&y(this,m)}function f(m,w,x){this.promise=m,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function h(m,w,x){s(function(){var N;try{N=w(x)}catch(O){return o.reject(m,O)}N===m?o.reject(m,new TypeError("Cannot resolve promise with itself")):o.resolve(m,N)})}function g(m){var w=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof w=="function")return function(){w.apply(m,arguments)}}function y(m,w){var x=!1;function N(M){x||(x=!0,o.reject(m,M))}function O(M){x||(x=!0,o.resolve(m,M))}var D=b(function(){w(O,N)});D.status==="error"&&N(D.value)}function b(m,w){var x={};try{x.value=m(w),x.status="success"}catch(N){x.status="error",x.value=N}return x}(r.exports=d).prototype.finally=function(m){if(typeof m!="function")return this;var w=this.constructor;return this.then(function(x){return w.resolve(m()).then(function(){return x})},function(x){return w.resolve(m()).then(function(){throw x})})},d.prototype.catch=function(m){return this.then(null,m)},d.prototype.then=function(m,w){if(typeof m!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var x=new this.constructor(a);return this.state!==u?h(x,this.state===c?m:w,this.outcome):this.queue.push(new f(x,m,w)),x},f.prototype.callFulfilled=function(m){o.resolve(this.promise,m)},f.prototype.otherCallFulfilled=function(m){h(this.promise,this.onFulfilled,m)},f.prototype.callRejected=function(m){o.reject(this.promise,m)},f.prototype.otherCallRejected=function(m){h(this.promise,this.onRejected,m)},o.resolve=function(m,w){var x=b(g,w);if(x.status==="error")return o.reject(m,x.value);var N=x.value;if(N)y(m,N);else{m.state=c,m.outcome=w;for(var O=-1,D=m.queue.length;++O<D;)m.queue[O].callFulfilled(w)}return m},o.reject=function(m,w){m.state=l,m.outcome=w;for(var x=-1,N=m.queue.length;++x<N;)m.queue[x].callRejected(w);return m},d.resolve=function(m){return m instanceof this?m:o.resolve(new this(a),m)},d.reject=function(m){var w=new this(a);return o.reject(w,m)},d.all=function(m){var w=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=m.length,N=!1;if(!x)return this.resolve([]);for(var O=new Array(x),D=0,M=-1,R=new this(a);++M<x;)A(m[M],M);return R;function A(B,L){w.resolve(B).then(function(k){O[L]=k,++D!==x||N||(N=!0,o.resolve(R,O))},function(k){N||(N=!0,o.reject(R,k))})}},d.race=function(m){var w=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=m.length,N=!1;if(!x)return this.resolve([]);for(var O=-1,D=new this(a);++O<x;)M=m[O],w.resolve(M).then(function(R){N||(N=!0,o.resolve(D,R))},function(R){N||(N=!0,o.reject(D,R))});var M;return D}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,d=0,f=-1,h=0,g=8;function y(m){if(!(this instanceof y))return new y(m);this.options=a.assign({level:f,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},m||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=s.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(x!==d)throw new Error(l[x]);if(w.header&&s.deflateSetHeader(this.strm,w.header),w.dictionary){var N;if(N=typeof w.dictionary=="string"?o.string2buf(w.dictionary):u.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(x=s.deflateSetDictionary(this.strm,N))!==d)throw new Error(l[x]);this._dict_set=!0}}function b(m,w){var x=new y(w);if(x.push(m,!0),x.err)throw x.msg||l[x.err];return x.result}y.prototype.push=function(m,w){var x,N,O=this.strm,D=this.options.chunkSize;if(this.ended)return!1;N=w===~~w?w:w===!0?4:0,typeof m=="string"?O.input=o.string2buf(m):u.call(m)==="[object ArrayBuffer]"?O.input=new Uint8Array(m):O.input=m,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new a.Buf8(D),O.next_out=0,O.avail_out=D),(x=s.deflate(O,N))!==1&&x!==d)return this.onEnd(x),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||N!==4&&N!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(O.output,O.next_out))):this.onData(a.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&x!==1);return N===4?(x=s.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d):N!==2||(this.onEnd(d),!(O.avail_out=0))},y.prototype.onData=function(m){this.chunks.push(m)},y.prototype.onEnd=function(m){m===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=y,i.deflate=b,i.deflateRaw=function(m,w){return(w=w||{}).raw=!0,b(m,w)},i.gzip=function(m,w){return(w=w||{}).gzip=!0,b(m,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=n("./zlib/gzheader"),f=Object.prototype.toString;function h(y){if(!(this instanceof h))return new h(y);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},y||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||y&&y.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var m=s.inflateInit2(this.strm,b.windowBits);if(m!==l.Z_OK)throw new Error(c[m]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}function g(y,b){var m=new h(b);if(m.push(y,!0),m.err)throw m.msg||c[m.err];return m.result}h.prototype.push=function(y,b){var m,w,x,N,O,D,M=this.strm,R=this.options.chunkSize,A=this.options.dictionary,B=!1;if(this.ended)return!1;w=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?M.input=o.binstring2buf(y):f.call(y)==="[object ArrayBuffer]"?M.input=new Uint8Array(y):M.input=y,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new a.Buf8(R),M.next_out=0,M.avail_out=R),(m=s.inflate(M,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&A&&(D=typeof A=="string"?o.string2buf(A):f.call(A)==="[object ArrayBuffer]"?new Uint8Array(A):A,m=s.inflateSetDictionary(this.strm,D)),m===l.Z_BUF_ERROR&&B===!0&&(m=l.Z_OK,B=!1),m!==l.Z_STREAM_END&&m!==l.Z_OK)return this.onEnd(m),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&m!==l.Z_STREAM_END&&(M.avail_in!==0||w!==l.Z_FINISH&&w!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(M.output,M.next_out),N=M.next_out-x,O=o.buf2string(M.output,x),M.next_out=N,M.avail_out=R-N,N&&a.arraySet(M.output,M.output,x,N,0),this.onData(O)):this.onData(a.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(B=!0)}while((0<M.avail_in||M.avail_out===0)&&m!==l.Z_STREAM_END);return m===l.Z_STREAM_END&&(w=l.Z_FINISH),w===l.Z_FINISH?(m=s.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===l.Z_OK):w!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(M.avail_out=0))},h.prototype.onData=function(y){this.chunks.push(y)},h.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=h,i.inflate=g,i.inflateRaw=function(y,b){return(b=b||{}).raw=!0,g(y,b)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,u,d,f){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+d),f);else for(var h=0;h<d;h++)l[f+h]=c[u+h]},flattenChunks:function(l){var c,u,d,f,h,g;for(c=d=0,u=l.length;c<u;c++)d+=l[c].length;for(g=new Uint8Array(d),c=f=0,u=l.length;c<u;c++)h=l[c],g.set(h,f),f+=h.length;return g}},o={arraySet:function(l,c,u,d,f){for(var h=0;h<d;h++)l[f+h]=c[u+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(d,f){if(f<65537&&(d.subarray&&o||!d.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(d,f));for(var h="",g=0;g<f;g++)h+=String.fromCharCode(d[g]);return h}l[254]=l[254]=1,i.string2buf=function(d){var f,h,g,y,b,m=d.length,w=0;for(y=0;y<m;y++)(64512&(h=d.charCodeAt(y)))==55296&&y+1<m&&(64512&(g=d.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(g-56320),y++),w+=h<128?1:h<2048?2:h<65536?3:4;for(f=new s.Buf8(w),y=b=0;b<w;y++)(64512&(h=d.charCodeAt(y)))==55296&&y+1<m&&(64512&(g=d.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(g-56320),y++),h<128?f[b++]=h:(h<2048?f[b++]=192|h>>>6:(h<65536?f[b++]=224|h>>>12:(f[b++]=240|h>>>18,f[b++]=128|h>>>12&63),f[b++]=128|h>>>6&63),f[b++]=128|63&h);return f},i.buf2binstring=function(d){return u(d,d.length)},i.binstring2buf=function(d){for(var f=new s.Buf8(d.length),h=0,g=f.length;h<g;h++)f[h]=d.charCodeAt(h);return f},i.buf2string=function(d,f){var h,g,y,b,m=f||d.length,w=new Array(2*m);for(h=g=0;h<m;)if((y=d[h++])<128)w[g++]=y;else if(4<(b=l[y]))w[g++]=65533,h+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&h<m;)y=y<<6|63&d[h++],b--;1<b?w[g++]=65533:y<65536?w[g++]=y:(y-=65536,w[g++]=55296|y>>10&1023,w[g++]=56320|1023&y)}return u(w,g)},i.utf8border=function(d,f){var h;for((f=f||d.length)>d.length&&(f=d.length),h=f-1;0<=h&&(192&d[h])==128;)h--;return h<0||h===0?f:h+l[d[h]]>f?h:f}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,a,o,l){for(var c=65535&s|0,u=s>>>16&65535|0,d=0;o!==0;){for(o-=d=2e3<o?2e3:o;u=u+(c=c+a[l++]|0)|0,--d;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();r.exports=function(a,o,l,c){var u=s,d=c+l;a^=-1;for(var f=c;f<d;f++)a=a>>>8^u[255&(a^o[f])];return-1^a}},{}],46:[function(n,r,i){var s,a=n("../utils/common"),o=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),d=0,f=4,h=0,g=-2,y=-1,b=4,m=2,w=8,x=9,N=286,O=30,D=19,M=2*N+1,R=15,A=3,B=258,L=B+A+1,k=42,I=113,_=1,V=2,U=3,P=4;function $(F,ae){return F.msg=u[ae],ae}function W(F){return(F<<1)-(4<F?9:0)}function te(F){for(var ae=F.length;0<=--ae;)F[ae]=0}function ne(F){var ae=F.state,G=ae.pending;G>F.avail_out&&(G=F.avail_out),G!==0&&(a.arraySet(F.output,ae.pending_buf,ae.pending_out,G,F.next_out),F.next_out+=G,ae.pending_out+=G,F.total_out+=G,F.avail_out-=G,ae.pending-=G,ae.pending===0&&(ae.pending_out=0))}function C(F,ae){o._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,ae),F.block_start=F.strstart,ne(F.strm)}function K(F,ae){F.pending_buf[F.pending++]=ae}function q(F,ae){F.pending_buf[F.pending++]=ae>>>8&255,F.pending_buf[F.pending++]=255&ae}function H(F,ae){var G,ee,Q=F.max_chain_length,re=F.strstart,ge=F.prev_length,ye=F.nice_match,ce=F.strstart>F.w_size-L?F.strstart-(F.w_size-L):0,xe=F.window,Ne=F.w_mask,ke=F.prev,Fe=F.strstart+B,Ye=xe[re+ge-1],je=xe[re+ge];F.prev_length>=F.good_match&&(Q>>=2),ye>F.lookahead&&(ye=F.lookahead);do if(xe[(G=ae)+ge]===je&&xe[G+ge-1]===Ye&&xe[G]===xe[re]&&xe[++G]===xe[re+1]){re+=2,G++;do;while(xe[++re]===xe[++G]&&xe[++re]===xe[++G]&&xe[++re]===xe[++G]&&xe[++re]===xe[++G]&&xe[++re]===xe[++G]&&xe[++re]===xe[++G]&&xe[++re]===xe[++G]&&xe[++re]===xe[++G]&&re<Fe);if(ee=B-(Fe-re),re=Fe-B,ge<ee){if(F.match_start=ae,ye<=(ge=ee))break;Ye=xe[re+ge-1],je=xe[re+ge]}}while((ae=ke[ae&Ne])>ce&&--Q!=0);return ge<=F.lookahead?ge:F.lookahead}function oe(F){var ae,G,ee,Q,re,ge,ye,ce,xe,Ne,ke=F.w_size;do{if(Q=F.window_size-F.lookahead-F.strstart,F.strstart>=ke+(ke-L)){for(a.arraySet(F.window,F.window,ke,ke,0),F.match_start-=ke,F.strstart-=ke,F.block_start-=ke,ae=G=F.hash_size;ee=F.head[--ae],F.head[ae]=ke<=ee?ee-ke:0,--G;);for(ae=G=ke;ee=F.prev[--ae],F.prev[ae]=ke<=ee?ee-ke:0,--G;);Q+=ke}if(F.strm.avail_in===0)break;if(ge=F.strm,ye=F.window,ce=F.strstart+F.lookahead,xe=Q,Ne=void 0,Ne=ge.avail_in,xe<Ne&&(Ne=xe),G=Ne===0?0:(ge.avail_in-=Ne,a.arraySet(ye,ge.input,ge.next_in,Ne,ce),ge.state.wrap===1?ge.adler=l(ge.adler,ye,Ne,ce):ge.state.wrap===2&&(ge.adler=c(ge.adler,ye,Ne,ce)),ge.next_in+=Ne,ge.total_in+=Ne,Ne),F.lookahead+=G,F.lookahead+F.insert>=A)for(re=F.strstart-F.insert,F.ins_h=F.window[re],F.ins_h=(F.ins_h<<F.hash_shift^F.window[re+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[re+A-1])&F.hash_mask,F.prev[re&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=re,re++,F.insert--,!(F.lookahead+F.insert<A)););}while(F.lookahead<L&&F.strm.avail_in!==0)}function pe(F,ae){for(var G,ee;;){if(F.lookahead<L){if(oe(F),F.lookahead<L&&ae===d)return _;if(F.lookahead===0)break}if(G=0,F.lookahead>=A&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+A-1])&F.hash_mask,G=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),G!==0&&F.strstart-G<=F.w_size-L&&(F.match_length=H(F,G)),F.match_length>=A)if(ee=o._tr_tally(F,F.strstart-F.match_start,F.match_length-A),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=A){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+A-1])&F.hash_mask,G=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else ee=o._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(ee&&(C(F,!1),F.strm.avail_out===0))return _}return F.insert=F.strstart<A-1?F.strstart:A-1,ae===f?(C(F,!0),F.strm.avail_out===0?U:P):F.last_lit&&(C(F,!1),F.strm.avail_out===0)?_:V}function ue(F,ae){for(var G,ee,Q;;){if(F.lookahead<L){if(oe(F),F.lookahead<L&&ae===d)return _;if(F.lookahead===0)break}if(G=0,F.lookahead>=A&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+A-1])&F.hash_mask,G=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=A-1,G!==0&&F.prev_length<F.max_lazy_match&&F.strstart-G<=F.w_size-L&&(F.match_length=H(F,G),F.match_length<=5&&(F.strategy===1||F.match_length===A&&4096<F.strstart-F.match_start)&&(F.match_length=A-1)),F.prev_length>=A&&F.match_length<=F.prev_length){for(Q=F.strstart+F.lookahead-A,ee=o._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-A),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=Q&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+A-1])&F.hash_mask,G=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=A-1,F.strstart++,ee&&(C(F,!1),F.strm.avail_out===0))return _}else if(F.match_available){if((ee=o._tr_tally(F,0,F.window[F.strstart-1]))&&C(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return _}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(ee=o._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<A-1?F.strstart:A-1,ae===f?(C(F,!0),F.strm.avail_out===0?U:P):F.last_lit&&(C(F,!1),F.strm.avail_out===0)?_:V}function de(F,ae,G,ee,Q){this.good_length=F,this.max_lazy=ae,this.nice_length=G,this.max_chain=ee,this.func=Q}function Re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*M),this.dyn_dtree=new a.Buf16(2*(2*O+1)),this.bl_tree=new a.Buf16(2*(2*D+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(R+1),this.heap=new a.Buf16(2*N+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*N+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Se(F){var ae;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=m,(ae=F.state).pending=0,ae.pending_out=0,ae.wrap<0&&(ae.wrap=-ae.wrap),ae.status=ae.wrap?k:I,F.adler=ae.wrap===2?0:1,ae.last_flush=d,o._tr_init(ae),h):$(F,g)}function Le(F){var ae=Se(F);return ae===h&&function(G){G.window_size=2*G.w_size,te(G.head),G.max_lazy_match=s[G.level].max_lazy,G.good_match=s[G.level].good_length,G.nice_match=s[G.level].nice_length,G.max_chain_length=s[G.level].max_chain,G.strstart=0,G.block_start=0,G.lookahead=0,G.insert=0,G.match_length=G.prev_length=A-1,G.match_available=0,G.ins_h=0}(F.state),ae}function Me(F,ae,G,ee,Q,re){if(!F)return g;var ge=1;if(ae===y&&(ae=6),ee<0?(ge=0,ee=-ee):15<ee&&(ge=2,ee-=16),Q<1||x<Q||G!==w||ee<8||15<ee||ae<0||9<ae||re<0||b<re)return $(F,g);ee===8&&(ee=9);var ye=new Re;return(F.state=ye).strm=F,ye.wrap=ge,ye.gzhead=null,ye.w_bits=ee,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=Q+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+A-1)/A),ye.window=new a.Buf8(2*ye.w_size),ye.head=new a.Buf16(ye.hash_size),ye.prev=new a.Buf16(ye.w_size),ye.lit_bufsize=1<<Q+6,ye.pending_buf_size=4*ye.lit_bufsize,ye.pending_buf=new a.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=ae,ye.strategy=re,ye.method=G,Le(F)}s=[new de(0,0,0,0,function(F,ae){var G=65535;for(G>F.pending_buf_size-5&&(G=F.pending_buf_size-5);;){if(F.lookahead<=1){if(oe(F),F.lookahead===0&&ae===d)return _;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var ee=F.block_start+G;if((F.strstart===0||F.strstart>=ee)&&(F.lookahead=F.strstart-ee,F.strstart=ee,C(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-L&&(C(F,!1),F.strm.avail_out===0))return _}return F.insert=0,ae===f?(C(F,!0),F.strm.avail_out===0?U:P):(F.strstart>F.block_start&&(C(F,!1),F.strm.avail_out),_)}),new de(4,4,8,4,pe),new de(4,5,16,8,pe),new de(4,6,32,32,pe),new de(4,4,16,16,ue),new de(8,16,32,32,ue),new de(8,16,128,128,ue),new de(8,32,128,256,ue),new de(32,128,258,1024,ue),new de(32,258,258,4096,ue)],i.deflateInit=function(F,ae){return Me(F,ae,w,15,8,0)},i.deflateInit2=Me,i.deflateReset=Le,i.deflateResetKeep=Se,i.deflateSetHeader=function(F,ae){return F&&F.state?F.state.wrap!==2?g:(F.state.gzhead=ae,h):g},i.deflate=function(F,ae){var G,ee,Q,re;if(!F||!F.state||5<ae||ae<0)return F?$(F,g):g;if(ee=F.state,!F.output||!F.input&&F.avail_in!==0||ee.status===666&&ae!==f)return $(F,F.avail_out===0?-5:g);if(ee.strm=F,G=ee.last_flush,ee.last_flush=ae,ee.status===k)if(ee.wrap===2)F.adler=0,K(ee,31),K(ee,139),K(ee,8),ee.gzhead?(K(ee,(ee.gzhead.text?1:0)+(ee.gzhead.hcrc?2:0)+(ee.gzhead.extra?4:0)+(ee.gzhead.name?8:0)+(ee.gzhead.comment?16:0)),K(ee,255&ee.gzhead.time),K(ee,ee.gzhead.time>>8&255),K(ee,ee.gzhead.time>>16&255),K(ee,ee.gzhead.time>>24&255),K(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),K(ee,255&ee.gzhead.os),ee.gzhead.extra&&ee.gzhead.extra.length&&(K(ee,255&ee.gzhead.extra.length),K(ee,ee.gzhead.extra.length>>8&255)),ee.gzhead.hcrc&&(F.adler=c(F.adler,ee.pending_buf,ee.pending,0)),ee.gzindex=0,ee.status=69):(K(ee,0),K(ee,0),K(ee,0),K(ee,0),K(ee,0),K(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),K(ee,3),ee.status=I);else{var ge=w+(ee.w_bits-8<<4)<<8;ge|=(2<=ee.strategy||ee.level<2?0:ee.level<6?1:ee.level===6?2:3)<<6,ee.strstart!==0&&(ge|=32),ge+=31-ge%31,ee.status=I,q(ee,ge),ee.strstart!==0&&(q(ee,F.adler>>>16),q(ee,65535&F.adler)),F.adler=1}if(ee.status===69)if(ee.gzhead.extra){for(Q=ee.pending;ee.gzindex<(65535&ee.gzhead.extra.length)&&(ee.pending!==ee.pending_buf_size||(ee.gzhead.hcrc&&ee.pending>Q&&(F.adler=c(F.adler,ee.pending_buf,ee.pending-Q,Q)),ne(F),Q=ee.pending,ee.pending!==ee.pending_buf_size));)K(ee,255&ee.gzhead.extra[ee.gzindex]),ee.gzindex++;ee.gzhead.hcrc&&ee.pending>Q&&(F.adler=c(F.adler,ee.pending_buf,ee.pending-Q,Q)),ee.gzindex===ee.gzhead.extra.length&&(ee.gzindex=0,ee.status=73)}else ee.status=73;if(ee.status===73)if(ee.gzhead.name){Q=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>Q&&(F.adler=c(F.adler,ee.pending_buf,ee.pending-Q,Q)),ne(F),Q=ee.pending,ee.pending===ee.pending_buf_size)){re=1;break}re=ee.gzindex<ee.gzhead.name.length?255&ee.gzhead.name.charCodeAt(ee.gzindex++):0,K(ee,re)}while(re!==0);ee.gzhead.hcrc&&ee.pending>Q&&(F.adler=c(F.adler,ee.pending_buf,ee.pending-Q,Q)),re===0&&(ee.gzindex=0,ee.status=91)}else ee.status=91;if(ee.status===91)if(ee.gzhead.comment){Q=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>Q&&(F.adler=c(F.adler,ee.pending_buf,ee.pending-Q,Q)),ne(F),Q=ee.pending,ee.pending===ee.pending_buf_size)){re=1;break}re=ee.gzindex<ee.gzhead.comment.length?255&ee.gzhead.comment.charCodeAt(ee.gzindex++):0,K(ee,re)}while(re!==0);ee.gzhead.hcrc&&ee.pending>Q&&(F.adler=c(F.adler,ee.pending_buf,ee.pending-Q,Q)),re===0&&(ee.status=103)}else ee.status=103;if(ee.status===103&&(ee.gzhead.hcrc?(ee.pending+2>ee.pending_buf_size&&ne(F),ee.pending+2<=ee.pending_buf_size&&(K(ee,255&F.adler),K(ee,F.adler>>8&255),F.adler=0,ee.status=I)):ee.status=I),ee.pending!==0){if(ne(F),F.avail_out===0)return ee.last_flush=-1,h}else if(F.avail_in===0&&W(ae)<=W(G)&&ae!==f)return $(F,-5);if(ee.status===666&&F.avail_in!==0)return $(F,-5);if(F.avail_in!==0||ee.lookahead!==0||ae!==d&&ee.status!==666){var ye=ee.strategy===2?function(ce,xe){for(var Ne;;){if(ce.lookahead===0&&(oe(ce),ce.lookahead===0)){if(xe===d)return _;break}if(ce.match_length=0,Ne=o._tr_tally(ce,0,ce.window[ce.strstart]),ce.lookahead--,ce.strstart++,Ne&&(C(ce,!1),ce.strm.avail_out===0))return _}return ce.insert=0,xe===f?(C(ce,!0),ce.strm.avail_out===0?U:P):ce.last_lit&&(C(ce,!1),ce.strm.avail_out===0)?_:V}(ee,ae):ee.strategy===3?function(ce,xe){for(var Ne,ke,Fe,Ye,je=ce.window;;){if(ce.lookahead<=B){if(oe(ce),ce.lookahead<=B&&xe===d)return _;if(ce.lookahead===0)break}if(ce.match_length=0,ce.lookahead>=A&&0<ce.strstart&&(ke=je[Fe=ce.strstart-1])===je[++Fe]&&ke===je[++Fe]&&ke===je[++Fe]){Ye=ce.strstart+B;do;while(ke===je[++Fe]&&ke===je[++Fe]&&ke===je[++Fe]&&ke===je[++Fe]&&ke===je[++Fe]&&ke===je[++Fe]&&ke===je[++Fe]&&ke===je[++Fe]&&Fe<Ye);ce.match_length=B-(Ye-Fe),ce.match_length>ce.lookahead&&(ce.match_length=ce.lookahead)}if(ce.match_length>=A?(Ne=o._tr_tally(ce,1,ce.match_length-A),ce.lookahead-=ce.match_length,ce.strstart+=ce.match_length,ce.match_length=0):(Ne=o._tr_tally(ce,0,ce.window[ce.strstart]),ce.lookahead--,ce.strstart++),Ne&&(C(ce,!1),ce.strm.avail_out===0))return _}return ce.insert=0,xe===f?(C(ce,!0),ce.strm.avail_out===0?U:P):ce.last_lit&&(C(ce,!1),ce.strm.avail_out===0)?_:V}(ee,ae):s[ee.level].func(ee,ae);if(ye!==U&&ye!==P||(ee.status=666),ye===_||ye===U)return F.avail_out===0&&(ee.last_flush=-1),h;if(ye===V&&(ae===1?o._tr_align(ee):ae!==5&&(o._tr_stored_block(ee,0,0,!1),ae===3&&(te(ee.head),ee.lookahead===0&&(ee.strstart=0,ee.block_start=0,ee.insert=0))),ne(F),F.avail_out===0))return ee.last_flush=-1,h}return ae!==f?h:ee.wrap<=0?1:(ee.wrap===2?(K(ee,255&F.adler),K(ee,F.adler>>8&255),K(ee,F.adler>>16&255),K(ee,F.adler>>24&255),K(ee,255&F.total_in),K(ee,F.total_in>>8&255),K(ee,F.total_in>>16&255),K(ee,F.total_in>>24&255)):(q(ee,F.adler>>>16),q(ee,65535&F.adler)),ne(F),0<ee.wrap&&(ee.wrap=-ee.wrap),ee.pending!==0?h:1)},i.deflateEnd=function(F){var ae;return F&&F.state?(ae=F.state.status)!==k&&ae!==69&&ae!==73&&ae!==91&&ae!==103&&ae!==I&&ae!==666?$(F,g):(F.state=null,ae===I?$(F,-3):h):g},i.deflateSetDictionary=function(F,ae){var G,ee,Q,re,ge,ye,ce,xe,Ne=ae.length;if(!F||!F.state||(re=(G=F.state).wrap)===2||re===1&&G.status!==k||G.lookahead)return g;for(re===1&&(F.adler=l(F.adler,ae,Ne,0)),G.wrap=0,Ne>=G.w_size&&(re===0&&(te(G.head),G.strstart=0,G.block_start=0,G.insert=0),xe=new a.Buf8(G.w_size),a.arraySet(xe,ae,Ne-G.w_size,G.w_size,0),ae=xe,Ne=G.w_size),ge=F.avail_in,ye=F.next_in,ce=F.input,F.avail_in=Ne,F.next_in=0,F.input=ae,oe(G);G.lookahead>=A;){for(ee=G.strstart,Q=G.lookahead-(A-1);G.ins_h=(G.ins_h<<G.hash_shift^G.window[ee+A-1])&G.hash_mask,G.prev[ee&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=ee,ee++,--Q;);G.strstart=ee,G.lookahead=A-1,oe(G)}return G.strstart+=G.lookahead,G.block_start=G.strstart,G.insert=G.lookahead,G.lookahead=0,G.match_length=G.prev_length=A-1,G.match_available=0,F.next_in=ye,F.input=ce,F.avail_in=ge,G.wrap=re,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,a){var o,l,c,u,d,f,h,g,y,b,m,w,x,N,O,D,M,R,A,B,L,k,I,_,V;o=s.state,l=s.next_in,_=s.input,c=l+(s.avail_in-5),u=s.next_out,V=s.output,d=u-(a-s.avail_out),f=u+(s.avail_out-257),h=o.dmax,g=o.wsize,y=o.whave,b=o.wnext,m=o.window,w=o.hold,x=o.bits,N=o.lencode,O=o.distcode,D=(1<<o.lenbits)-1,M=(1<<o.distbits)-1;e:do{x<15&&(w+=_[l++]<<x,x+=8,w+=_[l++]<<x,x+=8),R=N[w&D];t:for(;;){if(w>>>=A=R>>>24,x-=A,(A=R>>>16&255)===0)V[u++]=65535&R;else{if(!(16&A)){if(!(64&A)){R=N[(65535&R)+(w&(1<<A)-1)];continue t}if(32&A){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}B=65535&R,(A&=15)&&(x<A&&(w+=_[l++]<<x,x+=8),B+=w&(1<<A)-1,w>>>=A,x-=A),x<15&&(w+=_[l++]<<x,x+=8,w+=_[l++]<<x,x+=8),R=O[w&M];n:for(;;){if(w>>>=A=R>>>24,x-=A,!(16&(A=R>>>16&255))){if(!(64&A)){R=O[(65535&R)+(w&(1<<A)-1)];continue n}s.msg="invalid distance code",o.mode=30;break e}if(L=65535&R,x<(A&=15)&&(w+=_[l++]<<x,(x+=8)<A&&(w+=_[l++]<<x,x+=8)),h<(L+=w&(1<<A)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(w>>>=A,x-=A,(A=u-d)<L){if(y<(A=L-A)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(I=m,(k=0)===b){if(k+=g-A,A<B){for(B-=A;V[u++]=m[k++],--A;);k=u-L,I=V}}else if(b<A){if(k+=g+b-A,(A-=b)<B){for(B-=A;V[u++]=m[k++],--A;);if(k=0,b<B){for(B-=A=b;V[u++]=m[k++],--A;);k=u-L,I=V}}}else if(k+=b-A,A<B){for(B-=A;V[u++]=m[k++],--A;);k=u-L,I=V}for(;2<B;)V[u++]=I[k++],V[u++]=I[k++],V[u++]=I[k++],B-=3;B&&(V[u++]=I[k++],1<B&&(V[u++]=I[k++]))}else{for(k=u-L;V[u++]=V[k++],V[u++]=V[k++],V[u++]=V[k++],2<(B-=3););B&&(V[u++]=V[k++],1<B&&(V[u++]=V[k++]))}break}}break}}while(l<c&&u<f);l-=B=x>>3,w&=(1<<(x-=B<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<f?f-u+257:257-(u-f),o.hold=w,o.bits=x}},{}],49:[function(n,r,i){var s=n("../utils/common"),a=n("./adler32"),o=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,d=2,f=0,h=-2,g=1,y=852,b=592;function m(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(k){var I;return k&&k.state?(I=k.state,k.total_in=k.total_out=I.total=0,k.msg="",I.wrap&&(k.adler=1&I.wrap),I.mode=g,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new s.Buf32(y),I.distcode=I.distdyn=new s.Buf32(b),I.sane=1,I.back=-1,f):h}function N(k){var I;return k&&k.state?((I=k.state).wsize=0,I.whave=0,I.wnext=0,x(k)):h}function O(k,I){var _,V;return k&&k.state?(V=k.state,I<0?(_=0,I=-I):(_=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?h:(V.window!==null&&V.wbits!==I&&(V.window=null),V.wrap=_,V.wbits=I,N(k))):h}function D(k,I){var _,V;return k?(V=new w,(k.state=V).window=null,(_=O(k,I))!==f&&(k.state=null),_):h}var M,R,A=!0;function B(k){if(A){var I;for(M=new s.Buf32(512),R=new s.Buf32(32),I=0;I<144;)k.lens[I++]=8;for(;I<256;)k.lens[I++]=9;for(;I<280;)k.lens[I++]=7;for(;I<288;)k.lens[I++]=8;for(c(u,k.lens,0,288,M,0,k.work,{bits:9}),I=0;I<32;)k.lens[I++]=5;c(d,k.lens,0,32,R,0,k.work,{bits:5}),A=!1}k.lencode=M,k.lenbits=9,k.distcode=R,k.distbits=5}function L(k,I,_,V){var U,P=k.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new s.Buf8(P.wsize)),V>=P.wsize?(s.arraySet(P.window,I,_-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(V<(U=P.wsize-P.wnext)&&(U=V),s.arraySet(P.window,I,_-V,U,P.wnext),(V-=U)?(s.arraySet(P.window,I,_-V,V,0),P.wnext=V,P.whave=P.wsize):(P.wnext+=U,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=U))),0}i.inflateReset=N,i.inflateReset2=O,i.inflateResetKeep=x,i.inflateInit=function(k){return D(k,15)},i.inflateInit2=D,i.inflate=function(k,I){var _,V,U,P,$,W,te,ne,C,K,q,H,oe,pe,ue,de,Re,Se,Le,Me,F,ae,G,ee,Q=0,re=new s.Buf8(4),ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return h;(_=k.state).mode===12&&(_.mode=13),$=k.next_out,U=k.output,te=k.avail_out,P=k.next_in,V=k.input,W=k.avail_in,ne=_.hold,C=_.bits,K=W,q=te,ae=f;e:for(;;)switch(_.mode){case g:if(_.wrap===0){_.mode=13;break}for(;C<16;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}if(2&_.wrap&&ne===35615){re[_.check=0]=255&ne,re[1]=ne>>>8&255,_.check=o(_.check,re,2,0),C=ne=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&ne)<<8)+(ne>>8))%31){k.msg="incorrect header check",_.mode=30;break}if((15&ne)!=8){k.msg="unknown compression method",_.mode=30;break}if(C-=4,F=8+(15&(ne>>>=4)),_.wbits===0)_.wbits=F;else if(F>_.wbits){k.msg="invalid window size",_.mode=30;break}_.dmax=1<<F,k.adler=_.check=1,_.mode=512&ne?10:12,C=ne=0;break;case 2:for(;C<16;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}if(_.flags=ne,(255&_.flags)!=8){k.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){k.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=ne>>8&1),512&_.flags&&(re[0]=255&ne,re[1]=ne>>>8&255,_.check=o(_.check,re,2,0)),C=ne=0,_.mode=3;case 3:for(;C<32;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}_.head&&(_.head.time=ne),512&_.flags&&(re[0]=255&ne,re[1]=ne>>>8&255,re[2]=ne>>>16&255,re[3]=ne>>>24&255,_.check=o(_.check,re,4,0)),C=ne=0,_.mode=4;case 4:for(;C<16;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}_.head&&(_.head.xflags=255&ne,_.head.os=ne>>8),512&_.flags&&(re[0]=255&ne,re[1]=ne>>>8&255,_.check=o(_.check,re,2,0)),C=ne=0,_.mode=5;case 5:if(1024&_.flags){for(;C<16;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}_.length=ne,_.head&&(_.head.extra_len=ne),512&_.flags&&(re[0]=255&ne,re[1]=ne>>>8&255,_.check=o(_.check,re,2,0)),C=ne=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(W<(H=_.length)&&(H=W),H&&(_.head&&(F=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),s.arraySet(_.head.extra,V,P,H,F)),512&_.flags&&(_.check=o(_.check,V,H,P)),W-=H,P+=H,_.length-=H),_.length))break e;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(W===0)break e;for(H=0;F=V[P+H++],_.head&&F&&_.length<65536&&(_.head.name+=String.fromCharCode(F)),F&&H<W;);if(512&_.flags&&(_.check=o(_.check,V,H,P)),W-=H,P+=H,F)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(W===0)break e;for(H=0;F=V[P+H++],_.head&&F&&_.length<65536&&(_.head.comment+=String.fromCharCode(F)),F&&H<W;);if(512&_.flags&&(_.check=o(_.check,V,H,P)),W-=H,P+=H,F)break e}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;C<16;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}if(ne!==(65535&_.check)){k.msg="header crc mismatch",_.mode=30;break}C=ne=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),k.adler=_.check=0,_.mode=12;break;case 10:for(;C<32;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}k.adler=_.check=m(ne),C=ne=0,_.mode=11;case 11:if(_.havedict===0)return k.next_out=$,k.avail_out=te,k.next_in=P,k.avail_in=W,_.hold=ne,_.bits=C,2;k.adler=_.check=1,_.mode=12;case 12:if(I===5||I===6)break e;case 13:if(_.last){ne>>>=7&C,C-=7&C,_.mode=27;break}for(;C<3;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}switch(_.last=1&ne,C-=1,3&(ne>>>=1)){case 0:_.mode=14;break;case 1:if(B(_),_.mode=20,I!==6)break;ne>>>=2,C-=2;break e;case 2:_.mode=17;break;case 3:k.msg="invalid block type",_.mode=30}ne>>>=2,C-=2;break;case 14:for(ne>>>=7&C,C-=7&C;C<32;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}if((65535&ne)!=(ne>>>16^65535)){k.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&ne,C=ne=0,_.mode=15,I===6)break e;case 15:_.mode=16;case 16:if(H=_.length){if(W<H&&(H=W),te<H&&(H=te),H===0)break e;s.arraySet(U,V,P,H,$),W-=H,P+=H,te-=H,$+=H,_.length-=H;break}_.mode=12;break;case 17:for(;C<14;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}if(_.nlen=257+(31&ne),ne>>>=5,C-=5,_.ndist=1+(31&ne),ne>>>=5,C-=5,_.ncode=4+(15&ne),ne>>>=4,C-=4,286<_.nlen||30<_.ndist){k.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;C<3;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}_.lens[ge[_.have++]]=7&ne,ne>>>=3,C-=3}for(;_.have<19;)_.lens[ge[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,G={bits:_.lenbits},ae=c(0,_.lens,0,19,_.lencode,0,_.work,G),_.lenbits=G.bits,ae){k.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;de=(Q=_.lencode[ne&(1<<_.lenbits)-1])>>>16&255,Re=65535&Q,!((ue=Q>>>24)<=C);){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}if(Re<16)ne>>>=ue,C-=ue,_.lens[_.have++]=Re;else{if(Re===16){for(ee=ue+2;C<ee;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}if(ne>>>=ue,C-=ue,_.have===0){k.msg="invalid bit length repeat",_.mode=30;break}F=_.lens[_.have-1],H=3+(3&ne),ne>>>=2,C-=2}else if(Re===17){for(ee=ue+3;C<ee;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}C-=ue,F=0,H=3+(7&(ne>>>=ue)),ne>>>=3,C-=3}else{for(ee=ue+7;C<ee;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}C-=ue,F=0,H=11+(127&(ne>>>=ue)),ne>>>=7,C-=7}if(_.have+H>_.nlen+_.ndist){k.msg="invalid bit length repeat",_.mode=30;break}for(;H--;)_.lens[_.have++]=F}}if(_.mode===30)break;if(_.lens[256]===0){k.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,G={bits:_.lenbits},ae=c(u,_.lens,0,_.nlen,_.lencode,0,_.work,G),_.lenbits=G.bits,ae){k.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,G={bits:_.distbits},ae=c(d,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,G),_.distbits=G.bits,ae){k.msg="invalid distances set",_.mode=30;break}if(_.mode=20,I===6)break e;case 20:_.mode=21;case 21:if(6<=W&&258<=te){k.next_out=$,k.avail_out=te,k.next_in=P,k.avail_in=W,_.hold=ne,_.bits=C,l(k,q),$=k.next_out,U=k.output,te=k.avail_out,P=k.next_in,V=k.input,W=k.avail_in,ne=_.hold,C=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;de=(Q=_.lencode[ne&(1<<_.lenbits)-1])>>>16&255,Re=65535&Q,!((ue=Q>>>24)<=C);){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}if(de&&!(240&de)){for(Se=ue,Le=de,Me=Re;de=(Q=_.lencode[Me+((ne&(1<<Se+Le)-1)>>Se)])>>>16&255,Re=65535&Q,!(Se+(ue=Q>>>24)<=C);){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}ne>>>=Se,C-=Se,_.back+=Se}if(ne>>>=ue,C-=ue,_.back+=ue,_.length=Re,de===0){_.mode=26;break}if(32&de){_.back=-1,_.mode=12;break}if(64&de){k.msg="invalid literal/length code",_.mode=30;break}_.extra=15&de,_.mode=22;case 22:if(_.extra){for(ee=_.extra;C<ee;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}_.length+=ne&(1<<_.extra)-1,ne>>>=_.extra,C-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;de=(Q=_.distcode[ne&(1<<_.distbits)-1])>>>16&255,Re=65535&Q,!((ue=Q>>>24)<=C);){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}if(!(240&de)){for(Se=ue,Le=de,Me=Re;de=(Q=_.distcode[Me+((ne&(1<<Se+Le)-1)>>Se)])>>>16&255,Re=65535&Q,!(Se+(ue=Q>>>24)<=C);){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}ne>>>=Se,C-=Se,_.back+=Se}if(ne>>>=ue,C-=ue,_.back+=ue,64&de){k.msg="invalid distance code",_.mode=30;break}_.offset=Re,_.extra=15&de,_.mode=24;case 24:if(_.extra){for(ee=_.extra;C<ee;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}_.offset+=ne&(1<<_.extra)-1,ne>>>=_.extra,C-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){k.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(te===0)break e;if(H=q-te,_.offset>H){if((H=_.offset-H)>_.whave&&_.sane){k.msg="invalid distance too far back",_.mode=30;break}oe=H>_.wnext?(H-=_.wnext,_.wsize-H):_.wnext-H,H>_.length&&(H=_.length),pe=_.window}else pe=U,oe=$-_.offset,H=_.length;for(te<H&&(H=te),te-=H,_.length-=H;U[$++]=pe[oe++],--H;);_.length===0&&(_.mode=21);break;case 26:if(te===0)break e;U[$++]=_.length,te--,_.mode=21;break;case 27:if(_.wrap){for(;C<32;){if(W===0)break e;W--,ne|=V[P++]<<C,C+=8}if(q-=te,k.total_out+=q,_.total+=q,q&&(k.adler=_.check=_.flags?o(_.check,U,q,$-q):a(_.check,U,q,$-q)),q=te,(_.flags?ne:m(ne))!==_.check){k.msg="incorrect data check",_.mode=30;break}C=ne=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;C<32;){if(W===0)break e;W--,ne+=V[P++]<<C,C+=8}if(ne!==(4294967295&_.total)){k.msg="incorrect length check",_.mode=30;break}C=ne=0}_.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return h}return k.next_out=$,k.avail_out=te,k.next_in=P,k.avail_in=W,_.hold=ne,_.bits=C,(_.wsize||q!==k.avail_out&&_.mode<30&&(_.mode<27||I!==4))&&L(k,k.output,k.next_out,q-k.avail_out)?(_.mode=31,-4):(K-=k.avail_in,q-=k.avail_out,k.total_in+=K,k.total_out+=q,_.total+=q,_.wrap&&q&&(k.adler=_.check=_.flags?o(_.check,U,q,k.next_out-q):a(_.check,U,q,k.next_out-q)),k.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(K==0&&q===0||I===4)&&ae===f&&(ae=-5),ae)},i.inflateEnd=function(k){if(!k||!k.state)return h;var I=k.state;return I.window&&(I.window=null),k.state=null,f},i.inflateGetHeader=function(k,I){var _;return k&&k.state&&2&(_=k.state).wrap?((_.head=I).done=!1,f):h},i.inflateSetDictionary=function(k,I){var _,V=I.length;return k&&k.state?(_=k.state).wrap!==0&&_.mode!==11?h:_.mode===11&&a(1,I,V,0)!==_.check?-3:L(k,I,V,V)?(_.mode=31,-4):(_.havedict=1,f):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,d,f,h,g,y,b,m){var w,x,N,O,D,M,R,A,B,L=m.bits,k=0,I=0,_=0,V=0,U=0,P=0,$=0,W=0,te=0,ne=0,C=null,K=0,q=new s.Buf16(16),H=new s.Buf16(16),oe=null,pe=0;for(k=0;k<=15;k++)q[k]=0;for(I=0;I<h;I++)q[d[f+I]]++;for(U=L,V=15;1<=V&&q[V]===0;V--);if(V<U&&(U=V),V===0)return g[y++]=20971520,g[y++]=20971520,m.bits=1,0;for(_=1;_<V&&q[_]===0;_++);for(U<_&&(U=_),k=W=1;k<=15;k++)if(W<<=1,(W-=q[k])<0)return-1;if(0<W&&(u===0||V!==1))return-1;for(H[1]=0,k=1;k<15;k++)H[k+1]=H[k]+q[k];for(I=0;I<h;I++)d[f+I]!==0&&(b[H[d[f+I]]++]=I);if(M=u===0?(C=oe=b,19):u===1?(C=a,K-=257,oe=o,pe-=257,256):(C=l,oe=c,-1),k=_,D=y,$=I=ne=0,N=-1,O=(te=1<<(P=U))-1,u===1&&852<te||u===2&&592<te)return 1;for(;;){for(R=k-$,B=b[I]<M?(A=0,b[I]):b[I]>M?(A=oe[pe+b[I]],C[K+b[I]]):(A=96,0),w=1<<k-$,_=x=1<<P;g[D+(ne>>$)+(x-=w)]=R<<24|A<<16|B|0,x!==0;);for(w=1<<k-1;ne&w;)w>>=1;if(w!==0?(ne&=w-1,ne+=w):ne=0,I++,--q[k]==0){if(k===V)break;k=d[f+b[I]]}if(U<k&&(ne&O)!==N){for($===0&&($=U),D+=_,W=1<<(P=k-$);P+$<V&&!((W-=q[P+$])<=0);)P++,W<<=1;if(te+=1<<P,u===1&&852<te||u===2&&592<te)return 1;g[N=ne&O]=U<<24|P<<16|D-y|0}}return ne!==0&&(g[D+ne]=k-$<<24|64<<16|0),m.bits=U,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),a=0,o=1;function l(Q){for(var re=Q.length;0<=--re;)Q[re]=0}var c=0,u=29,d=256,f=d+1+u,h=30,g=19,y=2*f+1,b=15,m=16,w=7,x=256,N=16,O=17,D=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(2*(f+2));l(L);var k=new Array(2*h);l(k);var I=new Array(512);l(I);var _=new Array(256);l(_);var V=new Array(u);l(V);var U,P,$,W=new Array(h);function te(Q,re,ge,ye,ce){this.static_tree=Q,this.extra_bits=re,this.extra_base=ge,this.elems=ye,this.max_length=ce,this.has_stree=Q&&Q.length}function ne(Q,re){this.dyn_tree=Q,this.max_code=0,this.stat_desc=re}function C(Q){return Q<256?I[Q]:I[256+(Q>>>7)]}function K(Q,re){Q.pending_buf[Q.pending++]=255&re,Q.pending_buf[Q.pending++]=re>>>8&255}function q(Q,re,ge){Q.bi_valid>m-ge?(Q.bi_buf|=re<<Q.bi_valid&65535,K(Q,Q.bi_buf),Q.bi_buf=re>>m-Q.bi_valid,Q.bi_valid+=ge-m):(Q.bi_buf|=re<<Q.bi_valid&65535,Q.bi_valid+=ge)}function H(Q,re,ge){q(Q,ge[2*re],ge[2*re+1])}function oe(Q,re){for(var ge=0;ge|=1&Q,Q>>>=1,ge<<=1,0<--re;);return ge>>>1}function pe(Q,re,ge){var ye,ce,xe=new Array(b+1),Ne=0;for(ye=1;ye<=b;ye++)xe[ye]=Ne=Ne+ge[ye-1]<<1;for(ce=0;ce<=re;ce++){var ke=Q[2*ce+1];ke!==0&&(Q[2*ce]=oe(xe[ke]++,ke))}}function ue(Q){var re;for(re=0;re<f;re++)Q.dyn_ltree[2*re]=0;for(re=0;re<h;re++)Q.dyn_dtree[2*re]=0;for(re=0;re<g;re++)Q.bl_tree[2*re]=0;Q.dyn_ltree[2*x]=1,Q.opt_len=Q.static_len=0,Q.last_lit=Q.matches=0}function de(Q){8<Q.bi_valid?K(Q,Q.bi_buf):0<Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0}function Re(Q,re,ge,ye){var ce=2*re,xe=2*ge;return Q[ce]<Q[xe]||Q[ce]===Q[xe]&&ye[re]<=ye[ge]}function Se(Q,re,ge){for(var ye=Q.heap[ge],ce=ge<<1;ce<=Q.heap_len&&(ce<Q.heap_len&&Re(re,Q.heap[ce+1],Q.heap[ce],Q.depth)&&ce++,!Re(re,ye,Q.heap[ce],Q.depth));)Q.heap[ge]=Q.heap[ce],ge=ce,ce<<=1;Q.heap[ge]=ye}function Le(Q,re,ge){var ye,ce,xe,Ne,ke=0;if(Q.last_lit!==0)for(;ye=Q.pending_buf[Q.d_buf+2*ke]<<8|Q.pending_buf[Q.d_buf+2*ke+1],ce=Q.pending_buf[Q.l_buf+ke],ke++,ye===0?H(Q,ce,re):(H(Q,(xe=_[ce])+d+1,re),(Ne=M[xe])!==0&&q(Q,ce-=V[xe],Ne),H(Q,xe=C(--ye),ge),(Ne=R[xe])!==0&&q(Q,ye-=W[xe],Ne)),ke<Q.last_lit;);H(Q,x,re)}function Me(Q,re){var ge,ye,ce,xe=re.dyn_tree,Ne=re.stat_desc.static_tree,ke=re.stat_desc.has_stree,Fe=re.stat_desc.elems,Ye=-1;for(Q.heap_len=0,Q.heap_max=y,ge=0;ge<Fe;ge++)xe[2*ge]!==0?(Q.heap[++Q.heap_len]=Ye=ge,Q.depth[ge]=0):xe[2*ge+1]=0;for(;Q.heap_len<2;)xe[2*(ce=Q.heap[++Q.heap_len]=Ye<2?++Ye:0)]=1,Q.depth[ce]=0,Q.opt_len--,ke&&(Q.static_len-=Ne[2*ce+1]);for(re.max_code=Ye,ge=Q.heap_len>>1;1<=ge;ge--)Se(Q,xe,ge);for(ce=Fe;ge=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],Se(Q,xe,1),ye=Q.heap[1],Q.heap[--Q.heap_max]=ge,Q.heap[--Q.heap_max]=ye,xe[2*ce]=xe[2*ge]+xe[2*ye],Q.depth[ce]=(Q.depth[ge]>=Q.depth[ye]?Q.depth[ge]:Q.depth[ye])+1,xe[2*ge+1]=xe[2*ye+1]=ce,Q.heap[1]=ce++,Se(Q,xe,1),2<=Q.heap_len;);Q.heap[--Q.heap_max]=Q.heap[1],function(je,Ge){var Je,Ue,kt,Xe,Bt,mt,gt=Ge.dyn_tree,vr=Ge.max_code,xt=Ge.stat_desc.static_tree,li=Ge.stat_desc.has_stree,Pt=Ge.stat_desc.extra_bits,ir=Ge.stat_desc.extra_base,Jt=Ge.stat_desc.max_length,_t=0;for(Xe=0;Xe<=b;Xe++)je.bl_count[Xe]=0;for(gt[2*je.heap[je.heap_max]+1]=0,Je=je.heap_max+1;Je<y;Je++)Jt<(Xe=gt[2*gt[2*(Ue=je.heap[Je])+1]+1]+1)&&(Xe=Jt,_t++),gt[2*Ue+1]=Xe,vr<Ue||(je.bl_count[Xe]++,Bt=0,ir<=Ue&&(Bt=Pt[Ue-ir]),mt=gt[2*Ue],je.opt_len+=mt*(Xe+Bt),li&&(je.static_len+=mt*(xt[2*Ue+1]+Bt)));if(_t!==0){do{for(Xe=Jt-1;je.bl_count[Xe]===0;)Xe--;je.bl_count[Xe]--,je.bl_count[Xe+1]+=2,je.bl_count[Jt]--,_t-=2}while(0<_t);for(Xe=Jt;Xe!==0;Xe--)for(Ue=je.bl_count[Xe];Ue!==0;)vr<(kt=je.heap[--Je])||(gt[2*kt+1]!==Xe&&(je.opt_len+=(Xe-gt[2*kt+1])*gt[2*kt],gt[2*kt+1]=Xe),Ue--)}}(Q,re),pe(xe,Ye,Q.bl_count)}function F(Q,re,ge){var ye,ce,xe=-1,Ne=re[1],ke=0,Fe=7,Ye=4;for(Ne===0&&(Fe=138,Ye=3),re[2*(ge+1)+1]=65535,ye=0;ye<=ge;ye++)ce=Ne,Ne=re[2*(ye+1)+1],++ke<Fe&&ce===Ne||(ke<Ye?Q.bl_tree[2*ce]+=ke:ce!==0?(ce!==xe&&Q.bl_tree[2*ce]++,Q.bl_tree[2*N]++):ke<=10?Q.bl_tree[2*O]++:Q.bl_tree[2*D]++,xe=ce,Ye=(ke=0)===Ne?(Fe=138,3):ce===Ne?(Fe=6,3):(Fe=7,4))}function ae(Q,re,ge){var ye,ce,xe=-1,Ne=re[1],ke=0,Fe=7,Ye=4;for(Ne===0&&(Fe=138,Ye=3),ye=0;ye<=ge;ye++)if(ce=Ne,Ne=re[2*(ye+1)+1],!(++ke<Fe&&ce===Ne)){if(ke<Ye)for(;H(Q,ce,Q.bl_tree),--ke!=0;);else ce!==0?(ce!==xe&&(H(Q,ce,Q.bl_tree),ke--),H(Q,N,Q.bl_tree),q(Q,ke-3,2)):ke<=10?(H(Q,O,Q.bl_tree),q(Q,ke-3,3)):(H(Q,D,Q.bl_tree),q(Q,ke-11,7));xe=ce,Ye=(ke=0)===Ne?(Fe=138,3):ce===Ne?(Fe=6,3):(Fe=7,4)}}l(W);var G=!1;function ee(Q,re,ge,ye){q(Q,(c<<1)+(ye?1:0),3),function(ce,xe,Ne,ke){de(ce),K(ce,Ne),K(ce,~Ne),s.arraySet(ce.pending_buf,ce.window,xe,Ne,ce.pending),ce.pending+=Ne}(Q,re,ge)}i._tr_init=function(Q){G||(function(){var re,ge,ye,ce,xe,Ne=new Array(b+1);for(ce=ye=0;ce<u-1;ce++)for(V[ce]=ye,re=0;re<1<<M[ce];re++)_[ye++]=ce;for(_[ye-1]=ce,ce=xe=0;ce<16;ce++)for(W[ce]=xe,re=0;re<1<<R[ce];re++)I[xe++]=ce;for(xe>>=7;ce<h;ce++)for(W[ce]=xe<<7,re=0;re<1<<R[ce]-7;re++)I[256+xe++]=ce;for(ge=0;ge<=b;ge++)Ne[ge]=0;for(re=0;re<=143;)L[2*re+1]=8,re++,Ne[8]++;for(;re<=255;)L[2*re+1]=9,re++,Ne[9]++;for(;re<=279;)L[2*re+1]=7,re++,Ne[7]++;for(;re<=287;)L[2*re+1]=8,re++,Ne[8]++;for(pe(L,f+1,Ne),re=0;re<h;re++)k[2*re+1]=5,k[2*re]=oe(re,5);U=new te(L,M,d+1,f,b),P=new te(k,R,0,h,b),$=new te(new Array(0),A,0,g,w)}(),G=!0),Q.l_desc=new ne(Q.dyn_ltree,U),Q.d_desc=new ne(Q.dyn_dtree,P),Q.bl_desc=new ne(Q.bl_tree,$),Q.bi_buf=0,Q.bi_valid=0,ue(Q)},i._tr_stored_block=ee,i._tr_flush_block=function(Q,re,ge,ye){var ce,xe,Ne=0;0<Q.level?(Q.strm.data_type===2&&(Q.strm.data_type=function(ke){var Fe,Ye=4093624447;for(Fe=0;Fe<=31;Fe++,Ye>>>=1)if(1&Ye&&ke.dyn_ltree[2*Fe]!==0)return a;if(ke.dyn_ltree[18]!==0||ke.dyn_ltree[20]!==0||ke.dyn_ltree[26]!==0)return o;for(Fe=32;Fe<d;Fe++)if(ke.dyn_ltree[2*Fe]!==0)return o;return a}(Q)),Me(Q,Q.l_desc),Me(Q,Q.d_desc),Ne=function(ke){var Fe;for(F(ke,ke.dyn_ltree,ke.l_desc.max_code),F(ke,ke.dyn_dtree,ke.d_desc.max_code),Me(ke,ke.bl_desc),Fe=g-1;3<=Fe&&ke.bl_tree[2*B[Fe]+1]===0;Fe--);return ke.opt_len+=3*(Fe+1)+5+5+4,Fe}(Q),ce=Q.opt_len+3+7>>>3,(xe=Q.static_len+3+7>>>3)<=ce&&(ce=xe)):ce=xe=ge+5,ge+4<=ce&&re!==-1?ee(Q,re,ge,ye):Q.strategy===4||xe===ce?(q(Q,2+(ye?1:0),3),Le(Q,L,k)):(q(Q,4+(ye?1:0),3),function(ke,Fe,Ye,je){var Ge;for(q(ke,Fe-257,5),q(ke,Ye-1,5),q(ke,je-4,4),Ge=0;Ge<je;Ge++)q(ke,ke.bl_tree[2*B[Ge]+1],3);ae(ke,ke.dyn_ltree,Fe-1),ae(ke,ke.dyn_dtree,Ye-1)}(Q,Q.l_desc.max_code+1,Q.d_desc.max_code+1,Ne+1),Le(Q,Q.dyn_ltree,Q.dyn_dtree)),ue(Q),ye&&de(Q)},i._tr_tally=function(Q,re,ge){return Q.pending_buf[Q.d_buf+2*Q.last_lit]=re>>>8&255,Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=255&re,Q.pending_buf[Q.l_buf+Q.last_lit]=255&ge,Q.last_lit++,re===0?Q.dyn_ltree[2*ge]++:(Q.matches++,re--,Q.dyn_ltree[2*(_[ge]+d+1)]++,Q.dyn_dtree[2*C(re)]++),Q.last_lit===Q.lit_bufsize-1},i._tr_align=function(Q){q(Q,2,3),H(Q,x,L),function(re){re.bi_valid===16?(K(re,re.bi_buf),re.bi_buf=0,re.bi_valid=0):8<=re.bi_valid&&(re.pending_buf[re.pending++]=255&re.bi_buf,re.bi_buf>>=8,re.bi_valid-=8)}(Q)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(a,o){if(!a.setImmediate){var l,c,u,d,f=1,h={},g=!1,y=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,l={}.toString.call(a.process)==="[object process]"?function(N){process.nextTick(function(){w(N)})}:function(){if(a.postMessage&&!a.importScripts){var N=!0,O=a.onmessage;return a.onmessage=function(){N=!1},a.postMessage("","*"),a.onmessage=O,N}}()?(d="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",x,!1):a.attachEvent("onmessage",x),function(N){a.postMessage(d+N,"*")}):a.MessageChannel?((u=new MessageChannel).port1.onmessage=function(N){w(N.data)},function(N){u.port2.postMessage(N)}):y&&"onreadystatechange"in y.createElement("script")?(c=y.documentElement,function(N){var O=y.createElement("script");O.onreadystatechange=function(){w(N),O.onreadystatechange=null,c.removeChild(O),O=null},c.appendChild(O)}):function(N){setTimeout(w,0,N)},b.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var O=new Array(arguments.length-1),D=0;D<O.length;D++)O[D]=arguments[D+1];var M={callback:N,args:O};return h[f]=M,l(f),f++},b.clearImmediate=m}function m(N){delete h[N]}function w(N){if(g)setTimeout(w,0,N);else{var O=h[N];if(O){g=!0;try{(function(D){var M=D.callback,R=D.args;switch(R.length){case 0:M();break;case 1:M(R[0]);break;case 2:M(R[0],R[1]);break;case 3:M(R[0],R[1],R[2]);break;default:M.apply(o,R)}})(O)}finally{m(N),g=!1}}}}function x(N){N.source===a&&typeof N.data=="string"&&N.data.indexOf(d)===0&&w(+N.data.slice(d.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof mp<"u"?mp:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(PA);var VH=PA.exports;const WH=wE(VH),HH=()=>{const{user:t}=Tn(),{canUseFeature:e,incrementUsage:n,getRemainingUsage:r}=Mo();if(!t)return React.createElement(zo,null);const[i,s]=se.useState([]),[a,o]=se.useState([]),[l,c]=se.useState(!1),[u,d]=se.useState(!1),[f,h]=se.useState("compress"),[g,y]=se.useState(0),[b,m]=se.useState(80),[w,x]=se.useState(100),[N,O]=se.useState("jpg"),D=I=>{s(Array.isArray(I)?I:[I]),o([])},M=I=>{s(i.filter((_,V)=>V!==I))},R=async()=>{if(i.length===0)return;if(!e("batch")){d(!0);return}c(!0),y(0);const I=[];try{for(let _=0;_<i.length;_++){const V=i[_];let U;switch(f){case"compress":U=await KC(V,b/100);break;case"resize":U=await yA(V,w);break;case"convert":U=await gA(V,N);break;default:U=V}I.push(U),y((_+1)/i.length*100)}o(I),await n("batch")}catch(_){alert("Batch processing failed: "+_.message)}finally{c(!1)}},A=async()=>{if(a.length===0)return;const I=new WH;a.forEach((P,$)=>{I.file(P.name,P)});const _=await I.generateAsync({type:"blob"}),V=URL.createObjectURL(_),U=document.createElement("a");U.href=V,U.download=`processed-images-${Date.now()}.zip`,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(V)},B=I=>{const _=URL.createObjectURL(I),V=document.createElement("a");V.href=_,V.download=I.name,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(_)},L=[{value:"compress",label:"Compress"},{value:"resize",label:"Resize"},{value:"convert",label:"Convert"}],k=["jpg","png","webp","gif"];return React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(Yl,{isOpen:l,message:`Processing images... ${Math.round(g)}%`}),React.createElement(He.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8 space-y-4"},React.createElement("div",{className:"flex items-center justify-center space-x-3"},React.createElement(uv,{size:40,className:"text-teal-600 dark:text-teal-400"}),React.createElement("h1",{className:"text-4xl md:text-5xl font-bold gradient-text"},"Batch Processing")),React.createElement("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto"},"Process multiple images at once and download them as a ZIP file")),i.length===0&&React.createElement(Bo,{onFileSelect:D,multiple:!0}),i.length>0&&a.length===0&&React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6"},React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"Select Operation"),React.createElement("div",{className:"grid grid-cols-3 gap-4"},L.map(I=>React.createElement("button",{key:I.value,onClick:()=>h(I.value),className:`p-4 rounded-xl font-semibold transition-all ${f===I.value?"bg-teal-500 text-white shadow-lg scale-105":"glass-card hover:scale-105"}`},I.label)))),React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"Settings"),f==="compress"&&React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Quality: ",b,"%"),React.createElement("input",{type:"range",min:"10",max:"100",value:b,onChange:I=>m(parseInt(I.target.value)),className:"w-full"})),f==="resize"&&React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Scale: ",w,"%"),React.createElement("input",{type:"range",min:"10",max:"200",value:w,onChange:I=>x(parseInt(I.target.value)),className:"w-full"})),f==="convert"&&React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Target Format"),React.createElement("div",{className:"grid grid-cols-4 gap-4"},k.map(I=>React.createElement("button",{key:I,onClick:()=>O(I),className:`p-3 rounded-lg font-semibold transition-all ${N===I?"bg-teal-500 text-white":"glass-card hover:scale-105"}`},I.toUpperCase()))))),React.createElement("div",{className:"glass-card p-6"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h3",{className:"text-xl font-bold"},"Selected Files (",i.length,")"),React.createElement("button",{onClick:()=>s([]),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-teal-500"},"Clear All")),React.createElement("div",{className:"space-y-2 max-h-96 overflow-auto"},i.map((I,_)=>React.createElement("div",{key:_,className:"flex items-center justify-between glass-card p-4"},React.createElement("div",{className:"flex items-center space-x-4 flex-1"},React.createElement("img",{src:URL.createObjectURL(I),alt:I.name,className:"w-16 h-16 object-cover rounded-lg"}),React.createElement("div",{className:"flex-1"},React.createElement("p",{className:"font-semibold truncate"},I.name),React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},Pg(I.size)))),React.createElement("button",{onClick:()=>M(_),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-lg transition-all"},React.createElement(dN,{size:20,className:"text-red-500"})))))),React.createElement("button",{onClick:R,className:"glass-button w-full"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(uv,{size:20}),React.createElement("span",null,"Process ",i.length," Images")))),a.length>0&&React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6"},React.createElement("div",{className:"glass-card p-6 bg-green-50 dark:bg-green-900/20"},React.createElement("h3",{className:"text-xl font-bold mb-2"},"Processing Complete!"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Successfully processed ",a.length," images. Download them individually or as a ZIP file.")),React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"text-xl font-bold mb-4"},"Processed Files"),React.createElement("div",{className:"space-y-2 max-h-96 overflow-auto"},a.map((I,_)=>React.createElement("div",{key:_,className:"flex items-center justify-between glass-card p-4"},React.createElement("div",{className:"flex items-center space-x-4 flex-1"},React.createElement("img",{src:URL.createObjectURL(I),alt:I.name,className:"w-16 h-16 object-cover rounded-lg"}),React.createElement("div",{className:"flex-1"},React.createElement("p",{className:"font-semibold truncate"},I.name),React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},Pg(I.size),i[_]&&React.createElement("span",{className:"ml-2 text-green-600 dark:text-green-400"},"(",((1-I.size/i[_].size)*100).toFixed(1),"% reduced)")))),React.createElement("button",{onClick:()=>B(I),className:"p-2 hover:bg-teal-100 dark:hover:bg-teal-900/20 rounded-lg transition-all"},React.createElement(fa,{size:20,className:"text-teal-500"})))))),React.createElement("div",{className:"flex gap-4"},React.createElement("button",{onClick:()=>{s([]),o([])},className:"flex-1 glass-card p-4 font-semibold hover:scale-105 transition-all"},"Process More Images"),React.createElement("button",{onClick:A,className:"flex-1 glass-button"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(fa,{size:20}),React.createElement("span",null,"Download All as ZIP"))))),React.createElement(jo,{isOpen:u,onClose:()=>d(!1),feature:"batch",remaining:r("batch")}))},qH=()=>{const t=[{icon:vg,title:"Privacy First",description:"All image processing happens in your browser. Your files never leave your device.",color:"text-blue-600 dark:text-blue-400"},{icon:Bw,title:"Lightning Fast",description:"No server uploads or downloads. Process images instantly with client-side technology.",color:"text-yellow-600 dark:text-yellow-400"},{icon:cN,title:"Premium Free",description:"All tools are free to use with no limitations, watermarks, or hidden fees.",color:"text-red-600 dark:text-red-400"},{icon:aU,title:"Open Source",description:"Built with modern web technologies: React, TailwindCSS, and powerful image libraries.",color:"text-green-600 dark:text-green-400"},{icon:vU,title:"User Friendly",description:"Intuitive interface designed for both beginners and professionals.",color:"text-purple-600 dark:text-purple-400"},{icon:cU,title:"Works Everywhere",description:"Access from any device with a modern web browser. No installation required.",color:"text-indigo-600 dark:text-indigo-400"}];return React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(He.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12 space-y-4"},React.createElement("h1",{className:"text-5xl md:text-6xl font-bold gradient-text"},"About ImageToolsPro"),React.createElement("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto"},"Professional image editing tools, all in your browser. Fast, secure, and completely free.")),React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card p-8 mb-12"},React.createElement("h2",{className:"text-3xl font-bold mb-4"},"Our Mission"),React.createElement("p",{className:"text-lg text-gray-600 dark:text-gray-400 leading-relaxed"},"ImageToolsPro was created to provide powerful image editing capabilities without compromising your privacy or requiring expensive software. We believe that everyone should have access to professional-grade image tools that are fast, secure, and easy to use. By processing everything in your browser, we ensure your images stay private while delivering instant results.")),React.createElement("div",{className:"mb-12"},React.createElement("h2",{className:"text-3xl font-bold text-center mb-8"},"Why Choose Us?"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},t.map((e,n)=>{const r=e.icon;return React.createElement(He.div,{key:e.title,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*n},className:"glass-card p-6 hover:scale-105 transition-all"},React.createElement(r,{size:40,className:`${e.color} mb-4`}),React.createElement("h3",{className:"text-xl font-bold mb-2"},e.title),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},e.description))}))),React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass-card p-8 mb-12"},React.createElement("h2",{className:"text-3xl font-bold mb-6"},"Built With Modern Technology"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},React.createElement("div",null,React.createElement("h3",{className:"text-xl font-semibold mb-3"},"Frontend"),React.createElement("ul",{className:"space-y-2 text-gray-600 dark:text-gray-400"},React.createElement("li",null," React 18 - Modern UI library"),React.createElement("li",null," TailwindCSS - Utility-first styling"),React.createElement("li",null," Framer Motion - Smooth animations"),React.createElement("li",null," Lucide React - Beautiful icons"))),React.createElement("div",null,React.createElement("h3",{className:"text-xl font-semibold mb-3"},"Image Processing"),React.createElement("ul",{className:"space-y-2 text-gray-600 dark:text-gray-400"},React.createElement("li",null," Browser Image Compression"),React.createElement("li",null," Canvas API - Image manipulation"),React.createElement("li",null," EXIFR - Metadata extraction"),React.createElement("li",null," JSZip - Batch downloads"))))),React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"glass-card p-8"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 text-center"},React.createElement("div",null,React.createElement("div",{className:"text-4xl font-bold gradient-text mb-2"},"8+"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Powerful Tools")),React.createElement("div",null,React.createElement("div",{className:"text-4xl font-bold gradient-text mb-2"},"100%"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Client-Side")),React.createElement("div",null,React.createElement("div",{className:"text-4xl font-bold gradient-text mb-2"},"0"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Data Collected")),React.createElement("div",null,React.createElement("div",{className:"text-4xl font-bold gradient-text mb-2"},"Free"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Premium")))))},$H=()=>{const{user:t}=Tn(),[e,n]=se.useState({subject:"",message:""}),[r,i]=se.useState(""),[s,a]=se.useState(!1),[o,l]=se.useState(!1),c=async h=>{if(h.preventDefault(),!t){i("Please login to send a message");return}try{i(""),l(!0);const g=ri(Si,"messages");await XR(g,{userId:t.uid,userName:t.displayName||"Anonymous",userEmail:t.email,subject:e.subject,message:e.message,timestamp:rN(),status:"unread",replies:[]}),a(!0),n({subject:"",message:""}),setTimeout(()=>a(!1),5e3)}catch(g){i("Failed to send message: "+g.message)}finally{l(!1)}},u=h=>{n({...e,[h.target.name]:h.target.value})},d=[{icon:ki,title:"Email",description:"Send us an email anytime",value:"devtronex@gmail.com",color:"text-blue-600 dark:text-blue-400"},{icon:ml,title:"Send Message",description:"Login and send us a message",value:"Quick Response",color:"text-green-600 dark:text-green-400"},{icon:dv,title:"GitHub",description:"Report issues or contribute",value:"github.com/devtricker",color:"text-gray-600 dark:text-gray-400"}],f=[{icon:dv,href:"https://github.com/devtricker",label:"GitHub"},{icon:ki,href:"mailto:devtronex@gmail.com",label:"Email"}];return React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(He.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12 space-y-4"},React.createElement("h1",{className:"text-5xl md:text-6xl font-bold gradient-text"},"Get In Touch"),React.createElement("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto"},"Have questions, feedback, or suggestions? We'd love to hear from you!")),React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12"},d.map((h,g)=>{const y=h.icon;return React.createElement(He.div,{key:h.title,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*g},className:"glass-card p-6 text-center hover:scale-105 transition-all"},React.createElement(y,{size:40,className:`${h.color} mx-auto mb-4`}),React.createElement("h3",{className:"text-xl font-bold mb-2"},h.title),React.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2"},h.description),React.createElement("p",{className:"font-semibold"},h.value))})),React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass-card p-8 max-w-3xl mx-auto mb-12"},React.createElement("h2",{className:"text-3xl font-bold mb-6 text-gray-900 dark:text-gray-100"},"Send Us a Message"),!t&&React.createElement("div",{className:"mb-6 p-6 bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 rounded-lg"},React.createElement("div",{className:"flex items-center space-x-3 mb-4"},React.createElement(Mw,{size:24,className:"text-blue-600 dark:text-blue-400"}),React.createElement("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100"},"Login Required")),React.createElement("p",{className:"text-blue-800 dark:text-blue-200 mb-4"},"Please login or create an account to send us a message. This helps us respond to you directly!"),React.createElement("div",{className:"flex gap-4"},React.createElement(gn,{to:"/login",className:"glass-button flex-1"},"Login"),React.createElement(gn,{to:"/signup",className:"glass-card-button flex-1 text-center"},"Sign Up"))),s&&React.createElement("div",{className:"mb-6 p-4 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700 rounded-lg flex items-center space-x-2"},React.createElement($l,{size:20,className:"text-green-600 dark:text-green-400"}),React.createElement("p",{className:"text-sm text-green-600 dark:text-green-400"},"Message sent successfully! We'll respond soon.")),r&&React.createElement("div",{className:"mb-6 p-4 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-lg flex items-center space-x-2"},React.createElement(ha,{size:20,className:"text-red-600 dark:text-red-400"}),React.createElement("p",{className:"text-sm text-red-600 dark:text-red-400"},r)),t&&React.createElement("div",{className:"mb-6 p-4 glass-card"},React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"Sending as: ",React.createElement("strong",{className:"text-gray-900 dark:text-gray-100"},t.displayName||t.email))),React.createElement("form",{onSubmit:c,className:"space-y-6"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100"},"Subject"),React.createElement("input",{type:"text",name:"subject",value:e.subject,onChange:u,required:!0,disabled:!t,className:"glass-input w-full disabled:opacity-50",placeholder:"How can we help?"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100"},"Message"),React.createElement("textarea",{name:"message",value:e.message,onChange:u,required:!0,disabled:!t,rows:"6",className:"glass-input w-full resize-none disabled:opacity-50",placeholder:"Tell us more about your inquiry..."})),React.createElement("button",{type:"submit",disabled:!t||o,className:"glass-button w-full disabled:opacity-50 disabled:cursor-not-allowed"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(Uw,{size:20}),React.createElement("span",null,o?"Sending...":"Send Message"))))),React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"glass-card p-8 text-center"},React.createElement("h2",{className:"text-2xl font-bold mb-6"},"Follow Us"),React.createElement("div",{className:"flex justify-center space-x-6"},f.map(h=>{const g=h.icon;return React.createElement("a",{key:h.label,href:h.href,target:"_blank",rel:"noopener noreferrer",className:"p-4 glass-card hover:scale-110 transition-all","aria-label":h.label},React.createElement(g,{size:32}))}))))},GH=["gmail.com","googlemail.com","outlook.com","hotmail.com","live.com","yahoo.com","ymail.com","icloud.com","me.com","zoho.com","mail.com"],KH=["emailnator.com","custom.emailnator.com","tempmail.com","temp-mail.org","guerrillamail.com","mailinator.com","maildrop.cc","10minutemail.com","throwaway.email","getnada.com","trashmail.com","fakeinbox.com","temp-mail.io","mohmal.com","sharklasers.com","guerrillamail.info","grr.la","guerrillamail.biz","guerrillamail.de","spam4.me","tempinbox.com","mintemail.com","mytemp.email","tempmail.net","dispostable.com","yopmail.com","mailnesia.com","mailcatch.com","emailondeck.com","tempr.email","getairmail.com","throwawaymail.com"],YH=[/\+.*@gmail\.com$/i,/^[a-z0-9]+\.[a-z0-9]+\.[a-z0-9]+\.[a-z0-9]+\.[a-z0-9]+@/i,/^[a-z]+\.[a-z]+\.[a-z]+\.[a-z]+\.[0-9]+@/i,/^[a-z]+\.[a-z]+\.[a-z]+\.[a-z]+\.[a-z]+\.[0-9]+@/i,/\d{3,}@/i,/^[a-z]{1,2}\.[a-z]{1,2}\.[a-z]{1,2}\./i],TA=t=>{if(!t||typeof t!="string")return{valid:!1,error:"Email is required"};if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return{valid:!1,error:"Invalid email format"};const n=t.toLowerCase().split("@")[1],r=t.toLowerCase().split("@")[0];if(KH.includes(n))return{valid:!1,error:"Temporary/disposable email addresses are not allowed. Please use a legitimate email provider."};for(const i of YH)if(i.test(t.toLowerCase()))return{valid:!1,error:"This email pattern is not allowed. Please use a standard email address."};return GH.includes(n)?(n==="gmail.com"||n==="googlemail.com")&&(r.match(/\./g)||[]).length>2?{valid:!1,error:"This email pattern is not allowed. Please use a standard email address."}:{valid:!0,error:""}:{valid:!1,error:"Only emails from legitimate providers are allowed (Gmail, Outlook, Yahoo, iCloud, Zoho, Mail.com, etc.)"}},XH=()=>{const[t,e]=se.useState(""),[n,r]=se.useState(""),[i,s]=se.useState(""),[a,o]=se.useState(!1),[l,c]=se.useState(""),[u,d]=se.useState(!1),{login:f,loginWithGoogle:h,logout:g,resendVerification:y}=Tn(),b=ga(),m=async N=>{N.preventDefault();const O=TA(t);if(!O.valid){s(O.error);return}try{if(s(""),c(""),d(!1),o(!0),!(await f(t,n)).user.emailVerified){await g(),s("Please verify your email before logging in."),c("Check your inbox for the verification link."),d(!0),o(!1);return}b("/")}catch(D){s(D.message)}finally{o(!1)}},w=async()=>{try{o(!0);const N=await f(t,n);await y(),await g(),c("Verification email sent! Please check your inbox."),s("")}catch{s("Failed to send verification email. Please try again.")}finally{o(!1)}},x=async()=>{try{s(""),o(!0),await h(),b("/")}catch(N){s(N.message)}finally{o(!1)}};return React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto"},React.createElement("div",{className:"glass-card p-8"},React.createElement("div",{className:"text-center mb-8"},React.createElement("h1",{className:"text-3xl font-bold gradient-text mb-2"},"Welcome Back!"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Login to your account")),i&&React.createElement("div",{className:"mb-6 p-4 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-lg"},React.createElement("div",{className:"flex items-center space-x-2 mb-2"},React.createElement(ha,{size:20,className:"text-red-600 dark:text-red-400"}),React.createElement("p",{className:"text-sm text-red-600 dark:text-red-400"},i)),l&&React.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2"},l),u&&React.createElement("button",{onClick:w,disabled:a,className:"mt-3 flex items-center gap-2 text-sm text-primary-600 dark:text-primary-400 hover:underline disabled:opacity-50"},React.createElement(Xh,{size:16}),"Resend Verification Email")),l&&!i&&React.createElement("div",{className:"mb-6 p-4 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700 rounded-lg flex items-center space-x-2"},React.createElement(ha,{size:20,className:"text-green-600 dark:text-green-400"}),React.createElement("p",{className:"text-sm text-green-600 dark:text-green-400"},l)),React.createElement("form",{onSubmit:m,className:"space-y-6"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100"},"Email Address"),React.createElement("div",{className:"relative"},React.createElement(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),React.createElement("input",{type:"email",value:t,onChange:N=>e(N.target.value),required:!0,className:"glass-input w-full pl-10",placeholder:"your@email.com"}))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100"},"Password"),React.createElement("div",{className:"relative"},React.createElement(yg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),React.createElement("input",{type:"password",value:n,onChange:N=>r(N.target.value),required:!0,className:"glass-input w-full pl-10",placeholder:""}))),React.createElement("div",{className:"text-right"},React.createElement(gn,{to:"/forgot-password",className:"text-sm text-primary-600 dark:text-primary-400 hover:underline"},"Forgot Password?")),React.createElement("button",{type:"submit",disabled:a,className:"glass-button w-full disabled:opacity-50 disabled:cursor-not-allowed"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(Mw,{size:20}),React.createElement("span",null,a?"Logging in...":"Login")))),React.createElement("div",{className:"my-6 flex items-center"},React.createElement("div",{className:"flex-1 border-t border-gray-300 dark:border-gray-600"}),React.createElement("span",{className:"px-4 text-sm text-gray-600 dark:text-gray-400"},"OR"),React.createElement("div",{className:"flex-1 border-t border-gray-300 dark:border-gray-600"})),React.createElement("button",{onClick:x,disabled:a,className:"w-full glass-card p-4 hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement("svg",{className:"w-5 h-5",viewBox:"0 0 24 24"},React.createElement("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),React.createElement("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),React.createElement("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),React.createElement("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})),React.createElement("span",{className:"font-semibold text-gray-900 dark:text-gray-100"},"Continue with Google"))),React.createElement("div",{className:"mt-6 text-center"},React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Don't have an account?"," ",React.createElement(gn,{to:"/signup",className:"text-primary-600 dark:text-primary-400 font-semibold hover:underline"},"Sign Up"))))))},QH=()=>{const[t,e]=se.useState({name:"",email:"",password:"",confirmPassword:""}),[n,r]=se.useState(""),[i,s]=se.useState(!1),[a,o]=se.useState(!1),{signup:l,loginWithGoogle:c,logout:u}=Tn(),d=ga(),f=y=>{e({...t,[y.target.name]:y.target.value})},h=async y=>{y.preventDefault();const b=TA(t.email);if(!b.valid)return r(b.error);if(t.password!==t.confirmPassword)return r("Passwords do not match");if(t.password.length<6)return r("Password must be at least 6 characters");try{r(""),o(!0),await l(t.email,t.password,t.name),await u(),s(!0),setTimeout(()=>d("/verify-email"),2e3)}catch(m){r(m.message)}finally{o(!1)}},g=async()=>{try{r(""),o(!0),await c(),d("/")}catch(y){r(y.message)}finally{o(!1)}};return i?React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(He.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md mx-auto"},React.createElement("div",{className:"glass-card p-8 text-center"},React.createElement($l,{size:64,className:"mx-auto text-green-500 mb-4"}),React.createElement("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-gray-100"},"Account Created!"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400 mb-4"},"A verification email has been sent to ",React.createElement("strong",null,t.email)),React.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-500"},"Please check your email and verify your account before logging in."),React.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-4"},"Redirecting to verification page...")))):React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto"},React.createElement("div",{className:"glass-card p-8"},React.createElement("div",{className:"text-center mb-8"},React.createElement("h1",{className:"text-3xl font-bold gradient-text mb-2"},"Create Account"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Sign up to get started")),n&&React.createElement("div",{className:"mb-6 p-4 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-lg flex items-center space-x-2"},React.createElement(ha,{size:20,className:"text-red-600 dark:text-red-400"}),React.createElement("p",{className:"text-sm text-red-600 dark:text-red-400"},n)),React.createElement("form",{onSubmit:h,className:"space-y-6"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100"},"Full Name"),React.createElement("div",{className:"relative"},React.createElement(uu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),React.createElement("input",{type:"text",name:"name",value:t.name,onChange:f,required:!0,className:"glass-input w-full pl-10",placeholder:"John Doe"}))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100"},"Email Address"),React.createElement("div",{className:"relative"},React.createElement(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),React.createElement("input",{type:"email",name:"email",value:t.email,onChange:f,required:!0,className:"glass-input w-full pl-10",placeholder:"your@email.com"})),React.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1"},"Allowed: Gmail, Outlook, Yahoo, iCloud, Zoho, Mail.com"),React.createElement("p",{className:"text-xs text-red-500 dark:text-red-400 mt-1"}," Temporary/disposable emails are not allowed")),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100"},"Password"),React.createElement("div",{className:"relative"},React.createElement(yg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),React.createElement("input",{type:"password",name:"password",value:t.password,onChange:f,required:!0,className:"glass-input w-full pl-10",placeholder:""})),React.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1"},"Minimum 6 characters")),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100"},"Confirm Password"),React.createElement("div",{className:"relative"},React.createElement(yg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),React.createElement("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:f,required:!0,className:"glass-input w-full pl-10",placeholder:""}))),React.createElement("button",{type:"submit",disabled:a,className:"glass-button w-full disabled:opacity-50 disabled:cursor-not-allowed"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(hN,{size:20}),React.createElement("span",null,a?"Creating Account...":"Sign Up")))),React.createElement("div",{className:"my-6 flex items-center"},React.createElement("div",{className:"flex-1 border-t border-gray-300 dark:border-gray-600"}),React.createElement("span",{className:"px-4 text-sm text-gray-600 dark:text-gray-400"},"OR"),React.createElement("div",{className:"flex-1 border-t border-gray-300 dark:border-gray-600"})),React.createElement("button",{onClick:g,disabled:a,className:"w-full glass-card p-4 hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement("svg",{className:"w-5 h-5",viewBox:"0 0 24 24"},React.createElement("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),React.createElement("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),React.createElement("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),React.createElement("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})),React.createElement("span",{className:"font-semibold text-gray-900 dark:text-gray-100"},"Continue with Google"))),React.createElement("div",{className:"mt-6 text-center"},React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Already have an account?"," ",React.createElement(gn,{to:"/login",className:"text-primary-600 dark:text-primary-400 font-semibold hover:underline"},"Login"))))))},JH=()=>{const[t,e]=se.useState(""),[n,r]=se.useState(""),[i,s]=se.useState(!1),[a,o]=se.useState(!1),{resetPassword:l}=Tn(),c=async u=>{u.preventDefault();try{r(""),o(!0),await l(t),s(!0)}catch(d){r(d.message)}finally{o(!1)}};return i?React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(He.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md mx-auto"},React.createElement("div",{className:"glass-card p-8 text-center"},React.createElement($l,{size:64,className:"mx-auto text-green-500 mb-4"}),React.createElement("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-gray-100"},"Email Sent!"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400 mb-6"},"A password reset link has been sent to ",React.createElement("strong",null,t)),React.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-500 mb-6"},"Please check your email and follow the instructions to reset your password."),React.createElement(gn,{to:"/login",className:"glass-button inline-block"},React.createElement("div",{className:"flex items-center space-x-2"},React.createElement(cv,{size:20}),React.createElement("span",null,"Back to Login")))))):React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto"},React.createElement("div",{className:"glass-card p-8"},React.createElement("div",{className:"text-center mb-8"},React.createElement("h1",{className:"text-3xl font-bold gradient-text mb-2"},"Forgot Password?"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Enter your email to receive a password reset link")),n&&React.createElement("div",{className:"mb-6 p-4 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-lg flex items-center space-x-2"},React.createElement(ha,{size:20,className:"text-red-600 dark:text-red-400"}),React.createElement("p",{className:"text-sm text-red-600 dark:text-red-400"},n)),React.createElement("form",{onSubmit:c,className:"space-y-6"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100"},"Email Address"),React.createElement("div",{className:"relative"},React.createElement(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),React.createElement("input",{type:"email",value:t,onChange:u=>e(u.target.value),required:!0,className:"glass-input w-full pl-10",placeholder:"your@email.com"}))),React.createElement("button",{type:"submit",disabled:a,className:"glass-button w-full disabled:opacity-50 disabled:cursor-not-allowed"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(Uw,{size:20}),React.createElement("span",null,a?"Sending...":"Send Reset Link")))),React.createElement("div",{className:"mt-6 text-center"},React.createElement(gn,{to:"/login",className:"text-primary-600 dark:text-primary-400 hover:underline flex items-center justify-center space-x-2"},React.createElement(cv,{size:16}),React.createElement("span",null,"Back to Login"))))))},ZH=()=>{const{user:t}=Tn(),e=ga(),[n,r]=se.useState([]),[i,s]=se.useState(null),[a,o]=se.useState(""),[l,c]=se.useState(!1),[u,d]=se.useState("all"),f=(t==null?void 0:t.email)==="devtronex@gmail.com";se.useEffect(()=>{if(!t){e("/login");return}if(!f){alert("Access denied. Admin only."),e("/");return}const m=ri(Si,"messages"),w=Ro(m,x=>{const N=x.val();if(N){const O=Object.keys(N).map(D=>({id:D,...N[D]}));O.sort((D,M)=>(M.timestamp||0)-(D.timestamp||0)),r(O)}else r([]);c(!1)});return()=>w()},[t,e,f]);const h=async m=>{if(m.preventDefault(),!(!a.trim()||!i))try{c(!0);const w=ri(Si,`messages/${i.id}`),x=i.replies||[];await Gs(w,{replies:[...x,{text:a,from:"Admin",timestamp:Date.now()}],status:"replied"}),o(""),alert("Reply sent successfully!")}catch(w){alert("Failed to send reply: "+w.message)}finally{c(!1)}},g=async m=>{try{const w=ri(Si,`messages/${m}`);await Gs(w,{status:"read"})}catch(w){console.error("Error marking as read:",w)}},y=n.filter(m=>u==="unread"?m.status==="unread":u==="read"?m.status==="read"||m.status==="replied":!0),b=m=>m?new Date(m).toLocaleString():"Just now";return f?React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(He.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8"},React.createElement("h1",{className:"text-4xl font-bold gradient-text mb-2"},"Admin Panel"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Manage user messages and inquiries")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},React.createElement("div",{className:"glass-card p-6"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",null,React.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Total Messages"),React.createElement("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100"},n.length)),React.createElement(ml,{size:40,className:"text-primary-500"}))),React.createElement("div",{className:"glass-card p-6"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",null,React.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Unread"),React.createElement("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400"},n.filter(m=>m.status==="unread").length)),React.createElement(ha,{size:40,className:"text-orange-500"}))),React.createElement("div",{className:"glass-card p-6"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",null,React.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-sm"},"Replied"),React.createElement("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400"},n.filter(m=>m.status==="replied").length)),React.createElement($l,{size:40,className:"text-green-500"})))),React.createElement("div",{className:"flex gap-4 mb-6"},React.createElement("button",{onClick:()=>d("all"),className:`px-4 py-2 rounded-lg font-semibold transition-all ${u==="all"?"bg-primary-500 text-white":"glass-card hover:scale-105"}`},"All (",n.length,")"),React.createElement("button",{onClick:()=>d("unread"),className:`px-4 py-2 rounded-lg font-semibold transition-all ${u==="unread"?"bg-orange-500 text-white":"glass-card hover:scale-105"}`},"Unread (",n.filter(m=>m.status==="unread").length,")"),React.createElement("button",{onClick:()=>d("read"),className:`px-4 py-2 rounded-lg font-semibold transition-all ${u==="read"?"bg-green-500 text-white":"glass-card hover:scale-105"}`},"Read (",n.filter(m=>m.status==="read"||m.status==="replied").length,")")),React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},React.createElement("div",{className:"space-y-4"},React.createElement("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4"},"Messages"),y.length===0?React.createElement("div",{className:"glass-card p-8 text-center"},React.createElement(ml,{size:48,className:"mx-auto text-gray-400 mb-4"}),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"No messages found")):y.map(m=>React.createElement(He.div,{key:m.id,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`glass-card p-6 cursor-pointer hover:scale-105 transition-all ${(i==null?void 0:i.id)===m.id?"ring-2 ring-primary-500":""}`,onClick:()=>{s(m),m.status==="unread"&&g(m.id)}},React.createElement("div",{className:"flex items-start justify-between mb-3"},React.createElement("div",{className:"flex items-center space-x-3"},React.createElement(uu,{size:20,className:"text-primary-500"}),React.createElement("div",null,React.createElement("h3",{className:"font-bold text-gray-900 dark:text-gray-100"},m.userName),React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},m.userEmail))),React.createElement("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${m.status==="unread"?"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400":m.status==="replied"?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`},m.status)),React.createElement("h4",{className:"font-semibold mb-2 text-gray-900 dark:text-gray-100"},m.subject),React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-3"},m.message),React.createElement("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-500"},React.createElement(sU,{size:14,className:"mr-1"}),b(m.timestamp))))),React.createElement("div",{className:"sticky top-4"},i?React.createElement("div",{className:"glass-card p-6 space-y-6"},React.createElement("div",null,React.createElement("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4"},"Message Details"),React.createElement("div",{className:"glass-card p-4 mb-4"},React.createElement("div",{className:"flex items-center space-x-3 mb-3"},React.createElement(uu,{size:24,className:"text-primary-500"}),React.createElement("div",null,React.createElement("p",{className:"font-bold text-gray-900 dark:text-gray-100"},i.userName),React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},i.userEmail))),React.createElement("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-500"},React.createElement(dm,{size:14,className:"mr-2"}),b(i.timestamp))),React.createElement("div",{className:"mb-4"},React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Subject:"),React.createElement("p",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100"},i.subject)),React.createElement("div",{className:"mb-4"},React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Message:"),React.createElement("div",{className:"glass-card p-4 bg-gray-50 dark:bg-gray-800/50"},React.createElement("p",{className:"text-gray-900 dark:text-gray-100 whitespace-pre-wrap"},i.message))),i.replies&&i.replies.length>0&&React.createElement("div",{className:"mb-4"},React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2"},"Previous Replies:"),React.createElement("div",{className:"space-y-2"},i.replies.map((m,w)=>React.createElement("div",{key:w,className:"glass-card p-4 bg-green-50 dark:bg-green-900/20"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("p",{className:"font-semibold text-sm text-green-700 dark:text-green-300"},m.from),React.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-500"},m.timestamp&&b(m.timestamp))),React.createElement("p",{className:"text-gray-900 dark:text-gray-100"},m.text)))))),React.createElement("form",{onSubmit:h,className:"space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100"},"Your Reply"),React.createElement("textarea",{value:a,onChange:m=>o(m.target.value),required:!0,rows:"4",className:"glass-input w-full resize-none",placeholder:"Type your reply here..."})),React.createElement("button",{type:"submit",disabled:l,className:"glass-button w-full disabled:opacity-50"},React.createElement("div",{className:"flex items-center justify-center space-x-2"},React.createElement(Uw,{size:20}),React.createElement("span",null,l?"Sending...":"Send Reply"))))):React.createElement("div",{className:"glass-card p-12 text-center"},React.createElement(ki,{size:64,className:"mx-auto text-gray-400 mb-4"}),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Select a message to view details and reply"))))):null},eq=()=>{const{user:t}=Tn(),e=ga(),[n,r]=se.useState([]),[i,s]=se.useState(!0),[a,o]=se.useState(null),[l,c]=se.useState("all");se.useEffect(()=>{if(!t){e("/login");return}const g=ri(Si,"messages"),y=Ro(g,b=>{const m=b.val();if(m){const w=Object.keys(m).filter(x=>m[x].userId===t.uid).map(x=>({id:x,...m[x]}));w.sort((x,N)=>(N.timestamp||0)-(x.timestamp||0)),r(w)}else r([]);s(!1)});return()=>y()},[t,e]);const u=n.filter(g=>l==="unread"?g.status==="unread":l==="replied"?g.status==="replied":!0),d=g=>g?new Date(g).toLocaleString():"Just now",f=n.filter(g=>g.status==="unread").length,h=n.filter(g=>g.status==="replied").length;return i?React.createElement("div",{className:"min-h-screen flex items-center justify-center"},React.createElement("div",{className:"text-center"},React.createElement("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-500 mx-auto mb-4"}),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Loading your messages..."))):React.createElement("div",{className:"container mx-auto px-4 py-8"},React.createElement(He.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("div",null,React.createElement("h1",{className:"text-4xl font-bold gradient-text flex items-center gap-3"},React.createElement(hm,{size:40}),"My Inbox"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400 mt-2"},"View your messages and admin replies")),React.createElement("button",{onClick:()=>e("/contact"),className:"glass-button flex items-center gap-2"},React.createElement(ml,{size:20}),"New Message")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},React.createElement("div",{className:"glass-card p-4"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",null,React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"Total Messages"),React.createElement("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100"},n.length)),React.createElement(ki,{className:"text-primary-500",size:32}))),React.createElement("div",{className:"glass-card p-4"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",null,React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"Pending"),React.createElement("p",{className:"text-3xl font-bold text-orange-500"},f)),React.createElement(dm,{className:"text-orange-500",size:32}))),React.createElement("div",{className:"glass-card p-4"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",null,React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"Replied"),React.createElement("p",{className:"text-3xl font-bold text-green-500"},h)),React.createElement($l,{className:"text-green-500",size:32})))),React.createElement("div",{className:"flex gap-2 flex-wrap"},React.createElement("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg font-medium transition-all ${l==="all"?"bg-primary-500 text-white":"glass-card hover:bg-gray-100 dark:hover:bg-gray-700"}`},"All (",n.length,")"),React.createElement("button",{onClick:()=>c("unread"),className:`px-4 py-2 rounded-lg font-medium transition-all ${l==="unread"?"bg-orange-500 text-white":"glass-card hover:bg-gray-100 dark:hover:bg-gray-700"}`},"Pending (",f,")"),React.createElement("button",{onClick:()=>c("replied"),className:`px-4 py-2 rounded-lg font-medium transition-all ${l==="replied"?"bg-green-500 text-white":"glass-card hover:bg-gray-100 dark:hover:bg-gray-700"}`},"Replied (",h,")"))),u.length===0?React.createElement(He.div,{initial:{opacity:0},animate:{opacity:1},className:"glass-card p-12 text-center"},React.createElement(ki,{size:64,className:"mx-auto text-gray-400 mb-4"}),React.createElement("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2"},"No Messages Yet"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400 mb-6"},l==="all"?"You haven't sent any messages yet.":`No ${l} messages found.`),React.createElement("button",{onClick:()=>e("/contact"),className:"glass-button inline-flex items-center gap-2"},React.createElement(ml,{size:20}),"Send Your First Message")):React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},React.createElement("div",{className:"space-y-4"},u.map((g,y)=>React.createElement(He.div,{key:g.id,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.05},onClick:()=>o(g),className:`glass-card p-4 cursor-pointer transition-all hover:shadow-lg ${(a==null?void 0:a.id)===g.id?"ring-2 ring-primary-500":""}`},React.createElement("div",{className:"flex justify-between items-start mb-2"},React.createElement("h3",{className:"font-bold text-lg text-gray-900 dark:text-gray-100"},g.subject),React.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${g.status==="unread"?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300":g.status==="replied"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`},g.status)),React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 line-clamp-2"},g.message),React.createElement("div",{className:"flex items-center justify-between text-xs text-gray-500"},React.createElement("span",{className:"flex items-center gap-1"},React.createElement(dm,{size:12}),d(g.timestamp)),g.replies&&g.replies.length>0&&React.createElement("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400"},React.createElement(ml,{size:12}),g.replies.length," ",g.replies.length===1?"reply":"replies"))))),React.createElement("div",{className:"lg:sticky lg:top-4 h-fit"},a?React.createElement(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"glass-card p-6"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100"},a.subject),React.createElement("button",{onClick:()=>o(null),className:"lg:hidden glass-button p-2"},React.createElement(cv,{size:20}))),React.createElement("div",{className:"mb-4 pb-4 border-b border-gray-200 dark:border-gray-700"},React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2"},React.createElement("strong",null,"From:")," ",a.userName," (",a.userEmail,")"),React.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},React.createElement("strong",null,"Sent:")," ",d(a.timestamp))),React.createElement("div",{className:"mb-6"},React.createElement("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2"},"Message:"),React.createElement("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap"},a.message)),a.replies&&a.replies.length>0?React.createElement("div",{className:"space-y-4"},React.createElement("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2"},React.createElement(ml,{size:20}),"Admin Replies (",a.replies.length,")"),a.replies.map((g,y)=>React.createElement("div",{key:y,className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4"},React.createElement("div",{className:"flex items-center justify-between mb-2"},React.createElement("span",{className:"font-semibold text-green-800 dark:text-green-300"},g.from||"Admin"),React.createElement("span",{className:"text-xs text-gray-500"},d(g.timestamp))),React.createElement("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap"},g.text)))):React.createElement("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},React.createElement(dm,{size:48,className:"mx-auto text-gray-400 mb-3"}),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Waiting for admin reply..."))):React.createElement("div",{className:"glass-card p-12 text-center"},React.createElement(ki,{size:64,className:"mx-auto text-gray-400 mb-4"}),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Select a message to view details")))))},tq=({isOpen:t,onClose:e,message:n})=>React.createElement(C0,null,t&&React.createElement(React.Fragment,null,React.createElement(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),React.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none"},React.createElement(He.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},transition:{type:"spring",duration:.5},className:"w-full max-w-sm pointer-events-auto"},React.createElement("div",{className:"glass-card p-8 relative text-center"},React.createElement(He.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6"},React.createElement(He.div,{initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.5,delay:.4}},React.createElement($l,{size:48,className:"text-white",strokeWidth:3}))),React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5}},React.createElement("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3"},"Success!"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400 mb-6"},n),React.createElement("button",{onClick:e,className:"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition-all"},"Continue"))))))),nq=()=>{const{user:t}=Tn(),e=ga(),[n,r]=se.useState(!1),[i,s]=se.useState(""),[a,o]=se.useState("free"),[l,c]=se.useState(null),[u,d]=se.useState(!1);se.useEffect(()=>{if(!t){o("free"),c(null);return}const h=ri(Si,`users/${t.uid}`),g=Ro(h,y=>{const b=y.val();b&&b.plan?(o(b.plan),c(b.planExpiryDate||null)):(o("free"),c(null))});return()=>g()},[t]);const f=async()=>{if(!t){e("/login");return}r(!0),s("");try{const h=ri(Si,`users/${t.uid}`),{get:g}=await Tg(async()=>{const{get:x}=await Promise.resolve().then(()=>Z9);return{get:x}},[]),y=await g(h),b=Date.now(),m=b+30*24*60*60*1e3,w={plan:"premium",planStartDate:b,planExpiryDate:m,updatedAt:Date.now(),email:t.email,displayName:t.displayName||""};y.exists()||(w.createdAt=Date.now()),await Gs(h,w),s(""),r(!1),d(!0),setTimeout(()=>{d(!1)},1e4)}catch(h){console.error("Error activating premium:",h),s("Failed to activate premium. Please try again."),r(!1)}};return React.createElement("div",{className:"container mx-auto px-4 py-16"},React.createElement(He.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-16"},React.createElement("h1",{className:"text-5xl font-bold gradient-text mb-4"},"Choose Your Plan"),React.createElement("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto"},"Start with free plan or activate premium for 100x more features - completely free!")),React.createElement(DC,null),i&&React.createElement(He.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-2xl mx-auto mb-8 p-4 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-lg flex items-center gap-3"},React.createElement(ha,{className:"text-red-600 dark:text-red-400",size:24}),React.createElement("p",{className:"text-red-600 dark:text-red-400"},i)),React.createElement("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto"},React.createElement(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"glass-card p-8 relative"},React.createElement("div",{className:"flex items-center justify-between mb-6"},React.createElement("div",null,React.createElement("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100"},Ga.FREE.name),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Perfect for trying out")),React.createElement(Bw,{className:"text-gray-400",size:40})),React.createElement("div",{className:"mb-6"},React.createElement("div",{className:"flex items-baseline"},React.createElement("span",{className:"text-5xl font-bold text-gray-900 dark:text-gray-100"},"$",Ga.FREE.price),React.createElement("span",{className:"text-gray-600 dark:text-gray-400 ml-2"},"/ forever"))),React.createElement("ul",{className:"space-y-3 mb-8"},Ga.FREE.features.map((h,g)=>React.createElement("li",{key:g,className:"flex items-start gap-3"},React.createElement(m2,{className:"text-green-500 flex-shrink-0 mt-1",size:20}),React.createElement("span",{className:"text-gray-700 dark:text-gray-300"},h))),React.createElement("li",{className:"flex items-start gap-3"},React.createElement(Ka,{className:"text-red-500 flex-shrink-0 mt-1",size:20}),React.createElement("span",{className:"text-gray-500 line-through"},"AI Tools")),React.createElement("li",{className:"flex items-start gap-3"},React.createElement(Ka,{className:"text-red-500 flex-shrink-0 mt-1",size:20}),React.createElement("span",{className:"text-gray-500 line-through"},"Batch Processing"))),React.createElement("button",{onClick:()=>!t&&e("/signup"),disabled:t&&a==="free",className:`w-full glass-button py-3 ${t&&a==="free"?"opacity-50 cursor-not-allowed":""}`},t&&a==="free"?" Current Plan":"Sign Up to Start"),!t&&React.createElement("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400 mt-4"}," Login required to use any tools"),t&&a==="free"&&React.createElement("p",{className:"text-center text-sm text-green-600 dark:text-green-400 mt-4 font-semibold"}," You are on Free Plan")),React.createElement(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"glass-card p-8 relative border-2 border-primary-500 shadow-2xl"},React.createElement("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2"},React.createElement("div",{className:"bg-gradient-to-r from-primary-500 to-purple-500 text-white px-6 py-2 rounded-full font-semibold flex items-center gap-2 shadow-lg"},React.createElement(mU,{size:16,fill:"currentColor"}),"Most Popular")),React.createElement("div",{className:"flex items-center justify-between mb-6 mt-4"},React.createElement("div",null,React.createElement("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2"},Ga.PREMIUM.name,React.createElement(El,{className:"text-yellow-500",size:24})),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"For power users")),React.createElement(vg,{className:"text-primary-500",size:40})),React.createElement("div",{className:"mb-6"},React.createElement("div",{className:"flex items-baseline justify-center"},React.createElement("span",{className:"text-5xl font-bold gradient-text"},"FREE"),React.createElement("span",{className:"text-gray-600 dark:text-gray-400 ml-2"},"/ forever")),React.createElement("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400 mt-2"},"1 Month Free Trial - Just login to activate!")),React.createElement("ul",{className:"space-y-3 mb-8"},Ga.PREMIUM.features.map((h,g)=>React.createElement("li",{key:g,className:"flex items-start gap-3"},React.createElement(m2,{className:"text-green-500 flex-shrink-0 mt-1",size:20}),React.createElement("span",{className:"text-gray-700 dark:text-gray-300 font-medium"},h)))),React.createElement("button",{onClick:f,disabled:n||!t||a==="premium",className:"w-full bg-gradient-to-r from-primary-500 to-purple-500 text-white py-3 rounded-lg font-semibold hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},n?React.createElement(React.Fragment,null,React.createElement("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."):a==="premium"?React.createElement(React.Fragment,null,React.createElement(El,{size:20})," Current Plan"):React.createElement(React.Fragment,null,React.createElement(El,{size:20}),t?"Activate Premium":"Login to Activate")),!t&&React.createElement("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400 mt-4"},"Please login to activate premium"),t&&a==="premium"&&React.createElement("div",{className:"text-center mt-4"},React.createElement("p",{className:"text-sm text-green-600 dark:text-green-400 font-semibold"}," You are on Premium Plan!"),l&&React.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1"},"Valid until: ",new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))),React.createElement("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800"},React.createElement("p",{className:"text-sm text-green-800 dark:text-green-300 text-center font-medium"}," Free for 1 Month  No Payment Required  Instant Activation")))),React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-16 max-w-5xl mx-auto"},React.createElement("h2",{className:"text-3xl font-bold text-center gradient-text mb-8"},"Feature Comparison"),React.createElement("div",{className:"glass-card overflow-hidden"},React.createElement("div",{className:"overflow-x-auto"},React.createElement("table",{className:"w-full"},React.createElement("thead",{className:"bg-gray-100 dark:bg-gray-800"},React.createElement("tr",null,React.createElement("th",{className:"px-6 py-4 text-left text-gray-900 dark:text-gray-100 font-semibold"},"Feature"),React.createElement("th",{className:"px-6 py-4 text-center text-gray-900 dark:text-gray-100 font-semibold"},"Free"),React.createElement("th",{className:"px-6 py-4 text-center text-gray-900 dark:text-gray-100 font-semibold"},"Premium"))),React.createElement("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700"},React.createElement("tr",null,React.createElement("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300"},"Conversions/day"),React.createElement("td",{className:"px-6 py-4 text-center text-gray-600 dark:text-gray-400"},"5"),React.createElement("td",{className:"px-6 py-4 text-center text-primary-500 font-semibold"},"100")),React.createElement("tr",null,React.createElement("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300"},"Resize/day"),React.createElement("td",{className:"px-6 py-4 text-center text-gray-600 dark:text-gray-400"},"5"),React.createElement("td",{className:"px-6 py-4 text-center text-primary-500 font-semibold"},"100")),React.createElement("tr",null,React.createElement("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300"},"Compress/day"),React.createElement("td",{className:"px-6 py-4 text-center text-gray-600 dark:text-gray-400"},"5"),React.createElement("td",{className:"px-6 py-4 text-center text-primary-500 font-semibold"},"100")),React.createElement("tr",null,React.createElement("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300"},"Edit/day"),React.createElement("td",{className:"px-6 py-4 text-center text-gray-600 dark:text-gray-400"},"3"),React.createElement("td",{className:"px-6 py-4 text-center text-primary-500 font-semibold"},"50")),React.createElement("tr",null,React.createElement("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300"},"AI Tools/day"),React.createElement("td",{className:"px-6 py-4 text-center"},React.createElement(Ka,{className:"text-red-500 mx-auto",size:20})),React.createElement("td",{className:"px-6 py-4 text-center text-primary-500 font-semibold"},"20")),React.createElement("tr",null,React.createElement("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300"},"Batch Processing"),React.createElement("td",{className:"px-6 py-4 text-center"},React.createElement(Ka,{className:"text-red-500 mx-auto",size:20})),React.createElement("td",{className:"px-6 py-4 text-center text-primary-500 font-semibold"},"50/day")),React.createElement("tr",null,React.createElement("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300"},"Max File Size"),React.createElement("td",{className:"px-6 py-4 text-center text-gray-600 dark:text-gray-400"},"5 MB"),React.createElement("td",{className:"px-6 py-4 text-center text-primary-500 font-semibold"},"50 MB")),React.createElement("tr",null,React.createElement("td",{className:"px-6 py-4 text-gray-700 dark:text-gray-300"},"Priority Support"),React.createElement("td",{className:"px-6 py-4 text-center"},React.createElement(Ka,{className:"text-red-500 mx-auto",size:20})),React.createElement("td",{className:"px-6 py-4 text-center"},React.createElement(m2,{className:"text-green-500 mx-auto",size:20})))))))),React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-16 max-w-3xl mx-auto"},React.createElement("h2",{className:"text-3xl font-bold text-center gradient-text mb-8"},"Frequently Asked Questions"),React.createElement("div",{className:"space-y-4"},React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"font-bold text-lg text-gray-900 dark:text-gray-100 mb-2"},"Can I use the free plan without logging in?"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"No, you need to create a free account to use any features. This helps us track your usage limits.")),React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"font-bold text-lg text-gray-900 dark:text-gray-100 mb-2"},"How do daily limits work?"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Your usage resets every 24 hours. For example, if you use 5 conversions today, you'll get 5 more tomorrow.")),React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"font-bold text-lg text-gray-900 dark:text-gray-100 mb-2"},"Is premium really free?"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},'Yes! Premium is 100% free. Just login and click "Activate Premium" to get instant access to all features.')),React.createElement("div",{className:"glass-card p-6"},React.createElement("h3",{className:"font-bold text-lg text-gray-900 dark:text-gray-100 mb-2"},"How do I activate premium?"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400"},`Simply login to your account, go to the pricing page, and click "Activate Premium". It's instant and free!`)))),React.createElement(tq,{isOpen:u,onClose:()=>d(!1),message:" Premium activated! You now have access to all premium features!"}))},rq=()=>{const{user:t,resendVerification:e}=Tn(),n=ga(),[r,i]=se.useState(!1),[s,a]=se.useState(""),[o,l]=se.useState("");se.useEffect(()=>{t!=null&&t.emailVerified&&n("/")},[t,n]);const c=async()=>{try{i(!0),l(""),await e(),a("Verification email sent! Please check your inbox and spam folder.")}catch{l("Failed to send verification email. Please try again later.")}finally{i(!1)}},u=()=>{window.location.reload()};return React.createElement("div",{className:"container mx-auto px-4 py-16"},React.createElement(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto"},React.createElement("div",{className:"glass-card p-8 text-center"},React.createElement("div",{className:"w-20 h-20 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center mx-auto mb-6"},React.createElement(ki,{size:40,className:"text-primary-500"})),React.createElement("h1",{className:"text-3xl font-bold gradient-text mb-4"},"Verify Your Email"),React.createElement("p",{className:"text-gray-600 dark:text-gray-400 mb-6"},"We've sent a verification link to:"),React.createElement("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-8"},t==null?void 0:t.email),React.createElement("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6 text-left"},React.createElement("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2"},"Next Steps:"),React.createElement("ol",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-2 list-decimal list-inside"},React.createElement("li",null,"Check your email inbox"),React.createElement("li",null,"Click the verification link in the email"),React.createElement("li",null,`Return here and click "I've Verified"`))),s&&React.createElement(He.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6 p-4 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700 rounded-lg flex items-center space-x-2"},React.createElement($l,{size:20,className:"text-green-600 dark:text-green-400"}),React.createElement("p",{className:"text-sm text-green-600 dark:text-green-400"},s)),o&&React.createElement(He.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6 p-4 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-lg flex items-center space-x-2"},React.createElement(ha,{size:20,className:"text-red-600 dark:text-red-400"}),React.createElement("p",{className:"text-sm text-red-600 dark:text-red-400"},o)),React.createElement("div",{className:"space-y-3"},React.createElement("button",{onClick:u,className:"w-full bg-gradient-to-r from-primary-500 to-purple-500 text-white py-3 rounded-lg font-semibold hover:shadow-xl transition-all"},"I've Verified My Email"),React.createElement("button",{onClick:c,disabled:r,className:"w-full glass-button py-3 disabled:opacity-50 disabled:cursor-not-allowed"},React.createElement("div",{className:"flex items-center justify-center gap-2"},React.createElement(Xh,{size:18,className:r?"animate-spin":""}),React.createElement("span",null,r?"Sending...":"Resend Verification Email")))),React.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-6"},"Didn't receive the email? Check your spam folder or click resend."))))};function iq(){return React.createElement(DT,null,React.createElement(tU,null,React.createElement(nU,null,React.createElement("div",{className:"min-h-screen flex flex-col"},React.createElement(DV,null),React.createElement("main",{className:"flex-1"},React.createElement(CT,null,React.createElement(Dn,{path:"/",element:React.createElement(zV,null)}),React.createElement(Dn,{path:"/convert",element:React.createElement(ms,null,React.createElement(QW,null))}),React.createElement(Dn,{path:"/resize",element:React.createElement(ms,null,React.createElement(eH,null))}),React.createElement(Dn,{path:"/compress",element:React.createElement(ms,null,React.createElement(tH,null))}),React.createElement(Dn,{path:"/edit",element:React.createElement(ms,null,React.createElement(oH,null))}),React.createElement(Dn,{path:"/background",element:React.createElement(ms,null,React.createElement(dH,null))}),React.createElement(Dn,{path:"/ai",element:React.createElement(ms,null,React.createElement(hH,null))}),React.createElement(Dn,{path:"/metadata",element:React.createElement(ms,null,React.createElement(jH,null))}),React.createElement(Dn,{path:"/batch",element:React.createElement(ms,null,React.createElement(HH,null))}),React.createElement(Dn,{path:"/about",element:React.createElement(qH,null)}),React.createElement(Dn,{path:"/contact",element:React.createElement($H,null)}),React.createElement(Dn,{path:"/pricing",element:React.createElement(nq,null)}),React.createElement(Dn,{path:"/login",element:React.createElement(XH,null)}),React.createElement(Dn,{path:"/signup",element:React.createElement(QH,null)}),React.createElement(Dn,{path:"/forgot-password",element:React.createElement(JH,null)}),React.createElement(Dn,{path:"/verify-email",element:React.createElement(rq,null)}),React.createElement(Dn,{path:"/inbox",element:React.createElement(ms,null,React.createElement(eq,null))}),React.createElement(Dn,{path:"/admin",element:React.createElement(ms,null,React.createElement(ZH,null))}))),React.createElement(FV,null),React.createElement(UV,null),React.createElement(BV,null)))))}q2.createRoot(document.getElementById("root")).render(Jc.createElement(Jc.StrictMode,null,Jc.createElement(iq,null)));export{Ot as _,mp as c,wE as g};
